var Vw=Object.defineProperty;var $w=(e,t,i)=>t in e?Vw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var fc=(e,t,i)=>$w(e,typeof t!="symbol"?t+"":t,i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const o of c.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(r){if(r.ep)return;r.ep=!0;const c=i(r);fetch(r.href,c)}})();function Pw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wd={exports:{}},el={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function zw(){if(x_)return el;x_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,r,c){var o=null;if(c!==void 0&&(o=""+c),r.key!==void 0&&(o=""+r.key),"key"in r){c={};for(var f in r)f!=="key"&&(c[f]=r[f])}else c=r;return r=c.ref,{$$typeof:e,type:a,key:o,ref:r!==void 0?r:null,props:c}}return el.Fragment=t,el.jsx=i,el.jsxs=i,el}var S_;function Bw(){return S_||(S_=1,wd.exports=zw()),wd.exports}var x=Bw(),jd={exports:{}},tl={},Dd={exports:{}},Ed={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function Uw(){return T_||(T_=1,function(e){function t(H,G){var ne=H.length;H.push(G);e:for(;0<ne;){var ve=ne-1>>>1,D=H[ve];if(0<r(D,G))H[ve]=G,H[ne]=D,ne=ve;else break e}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var G=H[0],ne=H.pop();if(ne!==G){H[0]=ne;e:for(var ve=0,D=H.length,Q=D>>>1;ve<Q;){var se=2*(ve+1)-1,ee=H[se],fe=se+1,Me=H[fe];if(0>r(ee,ne))fe<D&&0>r(Me,ee)?(H[ve]=Me,H[fe]=ne,ve=fe):(H[ve]=ee,H[se]=ne,ve=se);else if(fe<D&&0>r(Me,ne))H[ve]=Me,H[fe]=ne,ve=fe;else break e}}return G}function r(H,G){var ne=H.sortIndex-G.sortIndex;return ne!==0?ne:H.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var o=Date,f=o.now();e.unstable_now=function(){return o.now()-f}}var d=[],m=[],p=1,y=null,_=3,v=!1,M=!1,w=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function W(H){for(var G=i(m);G!==null;){if(G.callback===null)a(m);else if(G.startTime<=H)a(m),G.sortIndex=G.expirationTime,t(d,G);else break;G=i(m)}}function C(H){if(w=!1,W(H),!M)if(i(d)!==null)M=!0,F||(F=!0,ae());else{var G=i(m);G!==null&&me(C,G.startTime-H)}}var F=!1,U=-1,B=5,J=-1;function te(){return T?!0:!(e.unstable_now()-J<B)}function ie(){if(T=!1,F){var H=e.unstable_now();J=H;var G=!0;try{e:{M=!1,w&&(w=!1,R(U),U=-1),v=!0;var ne=_;try{t:{for(W(H),y=i(d);y!==null&&!(y.expirationTime>H&&te());){var ve=y.callback;if(typeof ve=="function"){y.callback=null,_=y.priorityLevel;var D=ve(y.expirationTime<=H);if(H=e.unstable_now(),typeof D=="function"){y.callback=D,W(H),G=!0;break t}y===i(d)&&a(d),W(H)}else a(d);y=i(d)}if(y!==null)G=!0;else{var Q=i(m);Q!==null&&me(C,Q.startTime-H),G=!1}}break e}finally{y=null,_=ne,v=!1}G=void 0}}finally{G?ae():F=!1}}}var ae;if(typeof N=="function")ae=function(){N(ie)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,Ce=ke.port2;ke.port1.onmessage=ie,ae=function(){Ce.postMessage(null)}}else ae=function(){A(ie,0)};function me(H,G){U=A(function(){H(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_next=function(H){switch(_){case 1:case 2:case 3:var G=3;break;default:G=_}var ne=_;_=G;try{return H()}finally{_=ne}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(H,G){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ne=_;_=H;try{return G()}finally{_=ne}},e.unstable_scheduleCallback=function(H,G,ne){var ve=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ve+ne:ve):ne=ve,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ne+D,H={id:p++,callback:G,priorityLevel:H,startTime:ne,expirationTime:D,sortIndex:-1},ne>ve?(H.sortIndex=ne,t(m,H),i(d)===null&&H===i(m)&&(w?(R(U),U=-1):w=!0,me(C,ne-ve))):(H.sortIndex=D,t(d,H),M||v||(M=!0,F||(F=!0,ae()))),H},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(H){var G=_;return function(){var ne=_;_=G;try{return H.apply(this,arguments)}finally{_=ne}}}}(Ed)),Ed}var M_;function qw(){return M_||(M_=1,Dd.exports=Uw()),Dd.exports}var kd={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function Hw(){if(A_)return be;A_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),o=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function _(D){return D===null||typeof D!="object"?null:(D=y&&D[y]||D["@@iterator"],typeof D=="function"?D:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,w={};function T(D,Q,se){this.props=D,this.context=Q,this.refs=w,this.updater=se||v}T.prototype.isReactComponent={},T.prototype.setState=function(D,Q){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Q,"setState")},T.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function A(){}A.prototype=T.prototype;function R(D,Q,se){this.props=D,this.context=Q,this.refs=w,this.updater=se||v}var N=R.prototype=new A;N.constructor=R,M(N,T.prototype),N.isPureReactComponent=!0;var W=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function U(D,Q,se,ee,fe,Me){return se=Me.ref,{$$typeof:e,type:D,key:Q,ref:se!==void 0?se:null,props:Me}}function B(D,Q){return U(D.type,Q,void 0,void 0,void 0,D.props)}function J(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function te(D){var Q={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(se){return Q[se]})}var ie=/\/+/g;function ae(D,Q){return typeof D=="object"&&D!==null&&D.key!=null?te(""+D.key):Q.toString(36)}function ke(){}function Ce(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(ke,ke):(D.status="pending",D.then(function(Q){D.status==="pending"&&(D.status="fulfilled",D.value=Q)},function(Q){D.status==="pending"&&(D.status="rejected",D.reason=Q)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function me(D,Q,se,ee,fe){var Me=typeof D;(Me==="undefined"||Me==="boolean")&&(D=null);var _e=!1;if(D===null)_e=!0;else switch(Me){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(D.$$typeof){case e:case t:_e=!0;break;case p:return _e=D._init,me(_e(D._payload),Q,se,ee,fe)}}if(_e)return fe=fe(D),_e=ee===""?"."+ae(D,0):ee,W(fe)?(se="",_e!=null&&(se=_e.replace(ie,"$&/")+"/"),me(fe,Q,se,"",function(Ht){return Ht})):fe!=null&&(J(fe)&&(fe=B(fe,se+(fe.key==null||D&&D.key===fe.key?"":(""+fe.key).replace(ie,"$&/")+"/")+_e)),Q.push(fe)),1;_e=0;var Pt=ee===""?".":ee+":";if(W(D))for(var qe=0;qe<D.length;qe++)ee=D[qe],Me=Pt+ae(ee,qe),_e+=me(ee,Q,se,Me,fe);else if(qe=_(D),typeof qe=="function")for(D=qe.call(D),qe=0;!(ee=D.next()).done;)ee=ee.value,Me=Pt+ae(ee,qe++),_e+=me(ee,Q,se,Me,fe);else if(Me==="object"){if(typeof D.then=="function")return me(Ce(D),Q,se,ee,fe);throw Q=String(D),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return _e}function H(D,Q,se){if(D==null)return D;var ee=[],fe=0;return me(D,ee,"","",function(Me){return Q.call(se,Me,fe++)}),ee}function G(D){if(D._status===-1){var Q=D._result;Q=Q(),Q.then(function(se){(D._status===0||D._status===-1)&&(D._status=1,D._result=se)},function(se){(D._status===0||D._status===-1)&&(D._status=2,D._result=se)}),D._status===-1&&(D._status=0,D._result=Q)}if(D._status===1)return D._result.default;throw D._result}var ne=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function ve(){}return be.Children={map:H,forEach:function(D,Q,se){H(D,function(){Q.apply(this,arguments)},se)},count:function(D){var Q=0;return H(D,function(){Q++}),Q},toArray:function(D){return H(D,function(Q){return Q})||[]},only:function(D){if(!J(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},be.Component=T,be.Fragment=i,be.Profiler=r,be.PureComponent=R,be.StrictMode=a,be.Suspense=d,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,be.__COMPILER_RUNTIME={__proto__:null,c:function(D){return C.H.useMemoCache(D)}},be.cache=function(D){return function(){return D.apply(null,arguments)}},be.cloneElement=function(D,Q,se){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ee=M({},D.props),fe=D.key,Me=void 0;if(Q!=null)for(_e in Q.ref!==void 0&&(Me=void 0),Q.key!==void 0&&(fe=""+Q.key),Q)!F.call(Q,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&Q.ref===void 0||(ee[_e]=Q[_e]);var _e=arguments.length-2;if(_e===1)ee.children=se;else if(1<_e){for(var Pt=Array(_e),qe=0;qe<_e;qe++)Pt[qe]=arguments[qe+2];ee.children=Pt}return U(D.type,fe,void 0,void 0,Me,ee)},be.createContext=function(D){return D={$$typeof:o,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},be.createElement=function(D,Q,se){var ee,fe={},Me=null;if(Q!=null)for(ee in Q.key!==void 0&&(Me=""+Q.key),Q)F.call(Q,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(fe[ee]=Q[ee]);var _e=arguments.length-2;if(_e===1)fe.children=se;else if(1<_e){for(var Pt=Array(_e),qe=0;qe<_e;qe++)Pt[qe]=arguments[qe+2];fe.children=Pt}if(D&&D.defaultProps)for(ee in _e=D.defaultProps,_e)fe[ee]===void 0&&(fe[ee]=_e[ee]);return U(D,Me,void 0,void 0,null,fe)},be.createRef=function(){return{current:null}},be.forwardRef=function(D){return{$$typeof:f,render:D}},be.isValidElement=J,be.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:G}},be.memo=function(D,Q){return{$$typeof:m,type:D,compare:Q===void 0?null:Q}},be.startTransition=function(D){var Q=C.T,se={};C.T=se;try{var ee=D(),fe=C.S;fe!==null&&fe(se,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(ve,ne)}catch(Me){ne(Me)}finally{C.T=Q}},be.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},be.use=function(D){return C.H.use(D)},be.useActionState=function(D,Q,se){return C.H.useActionState(D,Q,se)},be.useCallback=function(D,Q){return C.H.useCallback(D,Q)},be.useContext=function(D){return C.H.useContext(D)},be.useDebugValue=function(){},be.useDeferredValue=function(D,Q){return C.H.useDeferredValue(D,Q)},be.useEffect=function(D,Q,se){var ee=C.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ee.useEffect(D,Q)},be.useId=function(){return C.H.useId()},be.useImperativeHandle=function(D,Q,se){return C.H.useImperativeHandle(D,Q,se)},be.useInsertionEffect=function(D,Q){return C.H.useInsertionEffect(D,Q)},be.useLayoutEffect=function(D,Q){return C.H.useLayoutEffect(D,Q)},be.useMemo=function(D,Q){return C.H.useMemo(D,Q)},be.useOptimistic=function(D,Q){return C.H.useOptimistic(D,Q)},be.useReducer=function(D,Q,se){return C.H.useReducer(D,Q,se)},be.useRef=function(D){return C.H.useRef(D)},be.useState=function(D){return C.H.useState(D)},be.useSyncExternalStore=function(D,Q,se){return C.H.useSyncExternalStore(D,Q,se)},be.useTransition=function(){return C.H.useTransition()},be.version="19.1.0",be}var w_;function sm(){return w_||(w_=1,kd.exports=Hw()),kd.exports}var Cd={exports:{}},Ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function Gw(){if(j_)return Ot;j_=1;var e=sm();function t(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},r=Symbol.for("react.portal");function c(d,m,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:d,containerInfo:m,implementation:p}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ot.createPortal=function(d,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return c(d,m,null,p)},Ot.flushSync=function(d){var m=o.T,p=a.p;try{if(o.T=null,a.p=2,d)return d()}finally{o.T=m,a.p=p,a.d.f()}},Ot.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(d,m))},Ot.prefetchDNS=function(d){typeof d=="string"&&a.d.D(d)},Ot.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var p=m.as,y=f(p,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,v=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?a.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:v}):p==="script"&&a.d.X(d,{crossOrigin:y,integrity:_,fetchPriority:v,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ot.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=f(m.as,m.crossOrigin);a.d.M(d,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(d)},Ot.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,y=f(p,m.crossOrigin);a.d.L(d,p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ot.preloadModule=function(d,m){if(typeof d=="string")if(m){var p=f(m.as,m.crossOrigin);a.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(d)},Ot.requestFormReset=function(d){a.d.r(d)},Ot.unstable_batchedUpdates=function(d,m){return d(m)},Ot.useFormState=function(d,m,p){return o.H.useFormState(d,m,p)},Ot.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ot.version="19.1.0",Ot}var D_;function Zw(){if(D_)return Cd.exports;D_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Cd.exports=Gw(),Cd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function Fw(){if(E_)return tl;E_=1;var e=qw(),t=sm(),i=Zw();function a(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function o(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(c(n)!==n)throw Error(a(188))}function d(n){var s=n.alternate;if(!s){if(s=c(n),s===null)throw Error(a(188));return s!==n?null:n}for(var l=n,u=s;;){var h=l.return;if(h===null)break;var g=h.alternate;if(g===null){if(u=h.return,u!==null){l=u;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===l)return f(h),n;if(g===u)return f(h),s;g=g.sibling}throw Error(a(188))}if(l.return!==u.return)l=h,u=g;else{for(var b=!1,S=h.child;S;){if(S===l){b=!0,l=h,u=g;break}if(S===u){b=!0,u=h,l=g;break}S=S.sibling}if(!b){for(S=g.child;S;){if(S===l){b=!0,l=g,u=h;break}if(S===u){b=!0,u=g,l=h;break}S=S.sibling}if(!b)throw Error(a(189))}}if(l.alternate!==u)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?n:s}function m(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=m(n),s!==null)return s;n=n.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),N=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function ae(n){return n===null||typeof n!="object"?null:(n=ie&&n[ie]||n["@@iterator"],typeof n=="function"?n:null)}var ke=Symbol.for("react.client.reference");function Ce(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ke?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case M:return"Fragment";case T:return"Profiler";case w:return"StrictMode";case C:return"Suspense";case F:return"SuspenseList";case J:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case v:return"Portal";case N:return(n.displayName||"Context")+".Provider";case R:return(n._context.displayName||"Context")+".Consumer";case W:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case U:return s=n.displayName||null,s!==null?s:Ce(n.type)||"Memo";case B:s=n._payload,n=n._init;try{return Ce(n(s))}catch{}}return null}var me=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},ve=[],D=-1;function Q(n){return{current:n}}function se(n){0>D||(n.current=ve[D],ve[D]=null,D--)}function ee(n,s){D++,ve[D]=n.current,n.current=s}var fe=Q(null),Me=Q(null),_e=Q(null),Pt=Q(null);function qe(n,s){switch(ee(_e,s),ee(Me,n),ee(fe,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?I0(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=I0(s),n=K0(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}se(fe),ee(fe,n)}function Ht(){se(fe),se(Me),se(_e)}function Za(n){n.memoizedState!==null&&ee(Pt,n);var s=fe.current,l=K0(s,n.type);s!==l&&(ee(Me,n),ee(fe,l))}function Fa(n){Me.current===n&&(se(fe),se(Me)),Pt.current===n&&(se(Pt),Ir._currentValue=ne)}var Ai=Object.prototype.hasOwnProperty,Ya=e.unstable_scheduleCallback,la=e.unstable_cancelCallback,du=e.unstable_shouldYield,hu=e.unstable_requestPaint,dn=e.unstable_now,Ie=e.unstable_getCurrentPriorityLevel,Ze=e.unstable_ImmediatePriority,nr=e.unstable_UserBlockingPriority,Kl=e.unstable_NormalPriority,yM=e.unstable_LowPriority,Cp=e.unstable_IdlePriority,_M=e.log,vM=e.unstable_setDisableYieldValue,ir=null,Qt=null;function wi(n){if(typeof _M=="function"&&vM(n),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(ir,n)}catch{}}var Wt=Math.clz32?Math.clz32:SM,bM=Math.log,xM=Math.LN2;function SM(n){return n>>>=0,n===0?32:31-(bM(n)/xM|0)|0}var Ql=256,Wl=4194304;function oa(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Jl(n,s,l){var u=n.pendingLanes;if(u===0)return 0;var h=0,g=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?h=oa(u):(b&=S,b!==0?h=oa(b):l||(l=S&~n,l!==0&&(h=oa(l))))):(S=u&~g,S!==0?h=oa(S):b!==0?h=oa(b):l||(l=u&~n,l!==0&&(h=oa(l)))),h===0?0:s!==0&&s!==h&&(s&g)===0&&(g=h&-h,l=s&-s,g>=l||g===32&&(l&4194048)!==0)?s:h}function ar(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function TM(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Op(){var n=Ql;return Ql<<=1,(Ql&4194048)===0&&(Ql=256),n}function Np(){var n=Wl;return Wl<<=1,(Wl&62914560)===0&&(Wl=4194304),n}function mu(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function sr(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function MM(n,s,l,u,h,g){var b=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var S=n.entanglements,j=n.expirationTimes,$=n.hiddenUpdates;for(l=b&~l;0<l;){var Z=31-Wt(l),I=1<<Z;S[Z]=0,j[Z]=-1;var P=$[Z];if(P!==null)for($[Z]=null,Z=0;Z<P.length;Z++){var z=P[Z];z!==null&&(z.lane&=-536870913)}l&=~I}u!==0&&Rp(n,u,0),g!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=g&~(b&~s))}function Rp(n,s,l){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-Wt(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|l&4194090}function Lp(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var u=31-Wt(l),h=1<<u;h&s|n[u]&s&&(n[u]|=s),l&=~h}}function pu(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function gu(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Vp(){var n=G.p;return n!==0?n:(n=window.event,n===void 0?32:p_(n.type))}function AM(n,s){var l=G.p;try{return G.p=n,s()}finally{G.p=l}}var ji=Math.random().toString(36).slice(2),kt="__reactFiber$"+ji,Gt="__reactProps$"+ji,Xa="__reactContainer$"+ji,yu="__reactEvents$"+ji,wM="__reactListeners$"+ji,jM="__reactHandles$"+ji,$p="__reactResources$"+ji,rr="__reactMarker$"+ji;function _u(n){delete n[kt],delete n[Gt],delete n[yu],delete n[wM],delete n[jM]}function Ia(n){var s=n[kt];if(s)return s;for(var l=n.parentNode;l;){if(s=l[Xa]||l[kt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=e_(n);n!==null;){if(l=n[kt])return l;n=e_(n)}return s}n=l,l=n.parentNode}return null}function Ka(n){if(n=n[kt]||n[Xa]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function lr(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(a(33))}function Qa(n){var s=n[$p];return s||(s=n[$p]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function vt(n){n[rr]=!0}var Pp=new Set,zp={};function ca(n,s){Wa(n,s),Wa(n+"Capture",s)}function Wa(n,s){for(zp[n]=s,n=0;n<s.length;n++)Pp.add(s[n])}var DM=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bp={},Up={};function EM(n){return Ai.call(Up,n)?!0:Ai.call(Bp,n)?!1:DM.test(n)?Up[n]=!0:(Bp[n]=!0,!1)}function eo(n,s,l){if(EM(s))if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+l)}}function to(n,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+l)}}function ti(n,s,l,u){if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(s,l,""+u)}}var vu,qp;function Ja(n){if(vu===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);vu=s&&s[1]||"",qp=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vu+n+qp}var bu=!1;function xu(n,s){if(!n||bu)return"";bu=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(z){var P=z}Reflect.construct(n,[],I)}else{try{I.call()}catch(z){P=z}n.call(I.prototype)}}else{try{throw Error()}catch(z){P=z}(I=n())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(z){if(z&&P&&typeof z.stack=="string")return[z.stack,P.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],S=g[1];if(b&&S){var j=b.split(`
`),$=S.split(`
`);for(h=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;if(u===j.length||h===$.length)for(u=j.length-1,h=$.length-1;1<=u&&0<=h&&j[u]!==$[h];)h--;for(;1<=u&&0<=h;u--,h--)if(j[u]!==$[h]){if(u!==1||h!==1)do if(u--,h--,0>h||j[u]!==$[h]){var Z=`
`+j[u].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=u&&0<=h);break}}}finally{bu=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?Ja(l):""}function kM(n){switch(n.tag){case 26:case 27:case 5:return Ja(n.type);case 16:return Ja("Lazy");case 13:return Ja("Suspense");case 19:return Ja("SuspenseList");case 0:case 15:return xu(n.type,!1);case 11:return xu(n.type.render,!1);case 1:return xu(n.type,!0);case 31:return Ja("Activity");default:return""}}function Hp(n){try{var s="";do s+=kM(n),n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function hn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Gp(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function CM(n){var s=Gp(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),u=""+n[s];if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,g=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return h.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function no(n){n._valueTracker||(n._valueTracker=CM(n))}function Zp(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return n&&(u=Gp(n)?n.checked?"true":"false":n.value),n=u,n!==l?(s.setValue(n),!0):!1}function io(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var OM=/[\n"\\]/g;function mn(n){return n.replace(OM,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Su(n,s,l,u,h,g,b,S){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),s!=null?b==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+hn(s)):n.value!==""+hn(s)&&(n.value=""+hn(s)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),s!=null?Tu(n,b,hn(s)):l!=null?Tu(n,b,hn(l)):u!=null&&n.removeAttribute("value"),h==null&&g!=null&&(n.defaultChecked=!!g),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+hn(S):n.removeAttribute("name")}function Fp(n,s,l,u,h,g,b,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),s!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;l=l!=null?""+hn(l):"",s=s!=null?""+hn(s):l,S||s===n.value||(n.value=s),n.defaultValue=s}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=S?n.checked:!!u,n.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b)}function Tu(n,s,l){s==="number"&&io(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function es(n,s,l,u){if(n=n.options,s){s={};for(var h=0;h<l.length;h++)s["$"+l[h]]=!0;for(l=0;l<n.length;l++)h=s.hasOwnProperty("$"+n[l].value),n[l].selected!==h&&(n[l].selected=h),h&&u&&(n[l].defaultSelected=!0)}else{for(l=""+hn(l),s=null,h=0;h<n.length;h++){if(n[h].value===l){n[h].selected=!0,u&&(n[h].defaultSelected=!0);return}s!==null||n[h].disabled||(s=n[h])}s!==null&&(s.selected=!0)}}function Yp(n,s,l){if(s!=null&&(s=""+hn(s),s!==n.value&&(n.value=s),l==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=l!=null?""+hn(l):""}function Xp(n,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(a(92));if(me(u)){if(1<u.length)throw Error(a(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=hn(s),n.defaultValue=l,u=n.textContent,u===l&&u!==""&&u!==null&&(n.value=u)}function ts(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var NM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ip(n,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,l):typeof l!="number"||l===0||NM.has(s)?s==="float"?n.cssFloat=l:n[s]=(""+l).trim():n[s]=l+"px"}function Kp(n,s,l){if(s!=null&&typeof s!="object")throw Error(a(62));if(n=n.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var h in s)u=s[h],s.hasOwnProperty(h)&&l[h]!==u&&Ip(n,h,u)}else for(var g in s)s.hasOwnProperty(g)&&Ip(n,g,s[g])}function Mu(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var RM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),LM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ao(n){return LM.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Au=null;function wu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ns=null,is=null;function Qp(n){var s=Ka(n);if(s&&(n=s.stateNode)){var l=n[Gt]||null;e:switch(n=s.stateNode,s.type){case"input":if(Su(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+mn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==n&&u.form===n.form){var h=u[Gt]||null;if(!h)throw Error(a(90));Su(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===n.form&&Zp(u)}break e;case"textarea":Yp(n,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&es(n,!!l.multiple,s,!1)}}}var ju=!1;function Wp(n,s,l){if(ju)return n(s,l);ju=!0;try{var u=n(s);return u}finally{if(ju=!1,(ns!==null||is!==null)&&(Go(),ns&&(s=ns,n=is,is=ns=null,Qp(s),n)))for(s=0;s<n.length;s++)Qp(n[s])}}function or(n,s){var l=n.stateNode;if(l===null)return null;var u=l[Gt]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(a(231,s,typeof l));return l}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Du=!1;if(ni)try{var cr={};Object.defineProperty(cr,"passive",{get:function(){Du=!0}}),window.addEventListener("test",cr,cr),window.removeEventListener("test",cr,cr)}catch{Du=!1}var Di=null,Eu=null,so=null;function Jp(){if(so)return so;var n,s=Eu,l=s.length,u,h="value"in Di?Di.value:Di.textContent,g=h.length;for(n=0;n<l&&s[n]===h[n];n++);var b=l-n;for(u=1;u<=b&&s[l-u]===h[g-u];u++);return so=h.slice(n,1<u?1-u:void 0)}function ro(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function lo(){return!0}function eg(){return!1}function Zt(n){function s(l,u,h,g,b){this._reactName=l,this._targetInst=h,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(l=n[S],this[S]=l?l(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?lo:eg,this.isPropagationStopped=eg,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=lo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=lo)},persist:function(){},isPersistent:lo}),s}var ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oo=Zt(ua),ur=p({},ua,{view:0,detail:0}),VM=Zt(ur),ku,Cu,fr,co=p({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==fr&&(fr&&n.type==="mousemove"?(ku=n.screenX-fr.screenX,Cu=n.screenY-fr.screenY):Cu=ku=0,fr=n),ku)},movementY:function(n){return"movementY"in n?n.movementY:Cu}}),tg=Zt(co),$M=p({},co,{dataTransfer:0}),PM=Zt($M),zM=p({},ur,{relatedTarget:0}),Ou=Zt(zM),BM=p({},ua,{animationName:0,elapsedTime:0,pseudoElement:0}),UM=Zt(BM),qM=p({},ua,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),HM=Zt(qM),GM=p({},ua,{data:0}),ng=Zt(GM),ZM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XM(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=YM[n])?!!s[n]:!1}function Nu(){return XM}var IM=p({},ur,{key:function(n){if(n.key){var s=ZM[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=ro(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?FM[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nu,charCode:function(n){return n.type==="keypress"?ro(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ro(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),KM=Zt(IM),QM=p({},co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ig=Zt(QM),WM=p({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nu}),JM=Zt(WM),eA=p({},ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),tA=Zt(eA),nA=p({},co,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),iA=Zt(nA),aA=p({},ua,{newState:0,oldState:0}),sA=Zt(aA),rA=[9,13,27,32],Ru=ni&&"CompositionEvent"in window,dr=null;ni&&"documentMode"in document&&(dr=document.documentMode);var lA=ni&&"TextEvent"in window&&!dr,ag=ni&&(!Ru||dr&&8<dr&&11>=dr),sg=" ",rg=!1;function lg(n,s){switch(n){case"keyup":return rA.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function og(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var as=!1;function oA(n,s){switch(n){case"compositionend":return og(s);case"keypress":return s.which!==32?null:(rg=!0,sg);case"textInput":return n=s.data,n===sg&&rg?null:n;default:return null}}function cA(n,s){if(as)return n==="compositionend"||!Ru&&lg(n,s)?(n=Jp(),so=Eu=Di=null,as=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ag&&s.locale!=="ko"?null:s.data;default:return null}}var uA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cg(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!uA[n.type]:s==="textarea"}function ug(n,s,l,u){ns?is?is.push(u):is=[u]:ns=u,s=Ko(s,"onChange"),0<s.length&&(l=new oo("onChange","change",null,l,u),n.push({event:l,listeners:s}))}var hr=null,mr=null;function fA(n){G0(n,0)}function uo(n){var s=lr(n);if(Zp(s))return n}function fg(n,s){if(n==="change")return s}var dg=!1;if(ni){var Lu;if(ni){var Vu="oninput"in document;if(!Vu){var hg=document.createElement("div");hg.setAttribute("oninput","return;"),Vu=typeof hg.oninput=="function"}Lu=Vu}else Lu=!1;dg=Lu&&(!document.documentMode||9<document.documentMode)}function mg(){hr&&(hr.detachEvent("onpropertychange",pg),mr=hr=null)}function pg(n){if(n.propertyName==="value"&&uo(mr)){var s=[];ug(s,mr,n,wu(n)),Wp(fA,s)}}function dA(n,s,l){n==="focusin"?(mg(),hr=s,mr=l,hr.attachEvent("onpropertychange",pg)):n==="focusout"&&mg()}function hA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return uo(mr)}function mA(n,s){if(n==="click")return uo(s)}function pA(n,s){if(n==="input"||n==="change")return uo(s)}function gA(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Jt=typeof Object.is=="function"?Object.is:gA;function pr(n,s){if(Jt(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var h=l[u];if(!Ai.call(s,h)||!Jt(n[h],s[h]))return!1}return!0}function gg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function yg(n,s){var l=gg(n);n=0;for(var u;l;){if(l.nodeType===3){if(u=n+l.textContent.length,n<=s&&u>=s)return{node:l,offset:s-n};n=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=gg(l)}}function _g(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?_g(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function vg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=io(n.document);s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=io(n.document)}return s}function $u(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var yA=ni&&"documentMode"in document&&11>=document.documentMode,ss=null,Pu=null,gr=null,zu=!1;function bg(n,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;zu||ss==null||ss!==io(u)||(u=ss,"selectionStart"in u&&$u(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),gr&&pr(gr,u)||(gr=u,u=Ko(Pu,"onSelect"),0<u.length&&(s=new oo("onSelect","select",null,s,l),n.push({event:s,listeners:u}),s.target=ss)))}function fa(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var rs={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionrun:fa("Transition","TransitionRun"),transitionstart:fa("Transition","TransitionStart"),transitioncancel:fa("Transition","TransitionCancel"),transitionend:fa("Transition","TransitionEnd")},Bu={},xg={};ni&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete rs.animationend.animation,delete rs.animationiteration.animation,delete rs.animationstart.animation),"TransitionEvent"in window||delete rs.transitionend.transition);function da(n){if(Bu[n])return Bu[n];if(!rs[n])return n;var s=rs[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in xg)return Bu[n]=s[l];return n}var Sg=da("animationend"),Tg=da("animationiteration"),Mg=da("animationstart"),_A=da("transitionrun"),vA=da("transitionstart"),bA=da("transitioncancel"),Ag=da("transitionend"),wg=new Map,Uu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uu.push("scrollEnd");function Nn(n,s){wg.set(n,s),ca(s,[n])}var jg=new WeakMap;function pn(n,s){if(typeof n=="object"&&n!==null){var l=jg.get(n);return l!==void 0?l:(s={value:n,source:s,stack:Hp(s)},jg.set(n,s),s)}return{value:n,source:s,stack:Hp(s)}}var gn=[],ls=0,qu=0;function fo(){for(var n=ls,s=qu=ls=0;s<n;){var l=gn[s];gn[s++]=null;var u=gn[s];gn[s++]=null;var h=gn[s];gn[s++]=null;var g=gn[s];if(gn[s++]=null,u!==null&&h!==null){var b=u.pending;b===null?h.next=h:(h.next=b.next,b.next=h),u.pending=h}g!==0&&Dg(l,h,g)}}function ho(n,s,l,u){gn[ls++]=n,gn[ls++]=s,gn[ls++]=l,gn[ls++]=u,qu|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Hu(n,s,l,u){return ho(n,s,l,u),mo(n)}function os(n,s){return ho(n,null,null,s),mo(n)}function Dg(n,s,l){n.lanes|=l;var u=n.alternate;u!==null&&(u.lanes|=l);for(var h=!1,g=n.return;g!==null;)g.childLanes|=l,u=g.alternate,u!==null&&(u.childLanes|=l),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(h=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,h&&s!==null&&(h=31-Wt(l),n=g.hiddenUpdates,u=n[h],u===null?n[h]=[s]:u.push(s),s.lane=l|536870912),g):null}function mo(n){if(50<Ur)throw Ur=0,Kf=null,Error(a(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var cs={};function xA(n,s,l,u){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(n,s,l,u){return new xA(n,s,l,u)}function Gu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ii(n,s){var l=n.alternate;return l===null?(l=en(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function Eg(n,s){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,s=l.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function po(n,s,l,u,h,g){var b=0;if(u=n,typeof n=="function")Gu(n)&&(b=1);else if(typeof n=="string")b=Tw(n,l,fe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case J:return n=en(31,l,s,h),n.elementType=J,n.lanes=g,n;case M:return ha(l.children,h,g,s);case w:b=8,h|=24;break;case T:return n=en(12,l,s,h|2),n.elementType=T,n.lanes=g,n;case C:return n=en(13,l,s,h),n.elementType=C,n.lanes=g,n;case F:return n=en(19,l,s,h),n.elementType=F,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case A:case N:b=10;break e;case R:b=9;break e;case W:b=11;break e;case U:b=14;break e;case B:b=16,u=null;break e}b=29,l=Error(a(130,n===null?"null":typeof n,"")),u=null}return s=en(b,l,s,h),s.elementType=n,s.type=u,s.lanes=g,s}function ha(n,s,l,u){return n=en(7,n,u,s),n.lanes=l,n}function Zu(n,s,l){return n=en(6,n,null,s),n.lanes=l,n}function Fu(n,s,l){return s=en(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var us=[],fs=0,go=null,yo=0,yn=[],_n=0,ma=null,ai=1,si="";function pa(n,s){us[fs++]=yo,us[fs++]=go,go=n,yo=s}function kg(n,s,l){yn[_n++]=ai,yn[_n++]=si,yn[_n++]=ma,ma=n;var u=ai;n=si;var h=32-Wt(u)-1;u&=~(1<<h),l+=1;var g=32-Wt(s)+h;if(30<g){var b=h-h%5;g=(u&(1<<b)-1).toString(32),u>>=b,h-=b,ai=1<<32-Wt(s)+h|l<<h|u,si=g+n}else ai=1<<g|l<<h|u,si=n}function Yu(n){n.return!==null&&(pa(n,1),kg(n,1,0))}function Xu(n){for(;n===go;)go=us[--fs],us[fs]=null,yo=us[--fs],us[fs]=null;for(;n===ma;)ma=yn[--_n],yn[_n]=null,si=yn[--_n],yn[_n]=null,ai=yn[--_n],yn[_n]=null}var zt=null,st=null,Oe=!1,ga=null,Hn=!1,Iu=Error(a(519));function ya(n){var s=Error(a(418,""));throw vr(pn(s,n)),Iu}function Cg(n){var s=n.stateNode,l=n.type,u=n.memoizedProps;switch(s[kt]=n,s[Gt]=u,l){case"dialog":we("cancel",s),we("close",s);break;case"iframe":case"object":case"embed":we("load",s);break;case"video":case"audio":for(l=0;l<Hr.length;l++)we(Hr[l],s);break;case"source":we("error",s);break;case"img":case"image":case"link":we("error",s),we("load",s);break;case"details":we("toggle",s);break;case"input":we("invalid",s),Fp(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),no(s);break;case"select":we("invalid",s);break;case"textarea":we("invalid",s),Xp(s,u.value,u.defaultValue,u.children),no(s)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||X0(s.textContent,l)?(u.popover!=null&&(we("beforetoggle",s),we("toggle",s)),u.onScroll!=null&&we("scroll",s),u.onScrollEnd!=null&&we("scrollend",s),u.onClick!=null&&(s.onclick=Qo),s=!0):s=!1,s||ya(n)}function Og(n){for(zt=n.return;zt;)switch(zt.tag){case 5:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:zt=zt.return}}function yr(n){if(n!==zt)return!1;if(!Oe)return Og(n),Oe=!0,!1;var s=n.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||dd(n.type,n.memoizedProps)),l=!l),l&&st&&ya(n),Og(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(l=n.data,l==="/$"){if(s===0){st=Ln(n.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;n=n.nextSibling}st=null}}else s===27?(s=st,Gi(n.type)?(n=gd,gd=null,st=n):st=s):st=zt?Ln(n.stateNode.nextSibling):null;return!0}function _r(){st=zt=null,Oe=!1}function Ng(){var n=ga;return n!==null&&(Xt===null?Xt=n:Xt.push.apply(Xt,n),ga=null),n}function vr(n){ga===null?ga=[n]:ga.push(n)}var Ku=Q(null),_a=null,ri=null;function Ei(n,s,l){ee(Ku,s._currentValue),s._currentValue=l}function li(n){n._currentValue=Ku.current,se(Ku)}function Qu(n,s,l){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===l)break;n=n.return}}function Wu(n,s,l,u){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var g=h.dependencies;if(g!==null){var b=h.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=h;for(var j=0;j<s.length;j++)if(S.context===s[j]){g.lanes|=l,S=g.alternate,S!==null&&(S.lanes|=l),Qu(g.return,l,n),u||(b=null);break e}g=S.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(a(341));b.lanes|=l,g=b.alternate,g!==null&&(g.lanes|=l),Qu(b,l,n),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===n){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function br(n,s,l,u){n=null;for(var h=s,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(a(387));if(b=b.memoizedProps,b!==null){var S=h.type;Jt(h.pendingProps.value,b.value)||(n!==null?n.push(S):n=[S])}}else if(h===Pt.current){if(b=h.alternate,b===null)throw Error(a(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Ir):n=[Ir])}h=h.return}n!==null&&Wu(s,n,l,u),s.flags|=262144}function _o(n){for(n=n.firstContext;n!==null;){if(!Jt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function va(n){_a=n,ri=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ct(n){return Rg(_a,n)}function vo(n,s){return _a===null&&va(n),Rg(n,s)}function Rg(n,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},ri===null){if(n===null)throw Error(a(308));ri=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else ri=ri.next=s;return l}var SA=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(l,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(l){return l()})}},TA=e.unstable_scheduleCallback,MA=e.unstable_NormalPriority,yt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ju(){return{controller:new SA,data:new Map,refCount:0}}function xr(n){n.refCount--,n.refCount===0&&TA(MA,function(){n.controller.abort()})}var Sr=null,ef=0,ds=0,hs=null;function AA(n,s){if(Sr===null){var l=Sr=[];ef=0,ds=id(),hs={status:"pending",value:void 0,then:function(u){l.push(u)}}}return ef++,s.then(Lg,Lg),s}function Lg(){if(--ef===0&&Sr!==null){hs!==null&&(hs.status="fulfilled");var n=Sr;Sr=null,ds=0,hs=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function wA(n,s){var l=[],u={status:"pending",value:null,reason:null,then:function(h){l.push(h)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var h=0;h<l.length;h++)(0,l[h])(s)},function(h){for(u.status="rejected",u.reason=h,h=0;h<l.length;h++)(0,l[h])(void 0)}),u}var Vg=H.S;H.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&AA(n,s),Vg!==null&&Vg(n,s)};var ba=Q(null);function tf(){var n=ba.current;return n!==null?n:Fe.pooledCache}function bo(n,s){s===null?ee(ba,ba.current):ee(ba,s.pool)}function $g(){var n=tf();return n===null?null:{parent:yt._currentValue,pool:n}}var Tr=Error(a(460)),Pg=Error(a(474)),xo=Error(a(542)),nf={then:function(){}};function zg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function So(){}function Bg(n,s,l){switch(l=n[l],l===void 0?n.push(s):l!==s&&(s.then(So,So),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,qg(n),n;default:if(typeof s.status=="string")s.then(So,So);else{if(n=Fe,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=u}},function(u){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,qg(n),n}throw Mr=s,Tr}}var Mr=null;function Ug(){if(Mr===null)throw Error(a(459));var n=Mr;return Mr=null,n}function qg(n){if(n===Tr||n===xo)throw Error(a(483))}var ki=!1;function af(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ci(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Oi(n,s,l){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Le&2)!==0){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,s=mo(n),Dg(n,null,l),s}return ho(n,u,s,l),mo(n)}function Ar(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,Lp(n,l)}}function rf(n,s){var l=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var h=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?h=g=b:g=g.next=b,l=l.next}while(l!==null);g===null?h=g=s:g=g.next=s}else h=g=s;l={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}var lf=!1;function wr(){if(lf){var n=hs;if(n!==null)throw n}}function jr(n,s,l,u){lf=!1;var h=n.updateQueue;ki=!1;var g=h.firstBaseUpdate,b=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var j=S,$=j.next;j.next=null,b===null?g=$:b.next=$,b=j;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==b&&(S===null?Z.firstBaseUpdate=$:S.next=$,Z.lastBaseUpdate=j))}if(g!==null){var I=h.baseState;b=0,Z=$=j=null,S=g;do{var P=S.lane&-536870913,z=P!==S.lane;if(z?(De&P)===P:(u&P)===P){P!==0&&P===ds&&(lf=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var pe=n,de=S;P=s;var ze=l;switch(de.tag){case 1:if(pe=de.payload,typeof pe=="function"){I=pe.call(ze,I,P);break e}I=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=de.payload,P=typeof pe=="function"?pe.call(ze,I,P):pe,P==null)break e;I=p({},I,P);break e;case 2:ki=!0}}P=S.callback,P!==null&&(n.flags|=64,z&&(n.flags|=8192),z=h.callbacks,z===null?h.callbacks=[P]:z.push(P))}else z={lane:P,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?($=Z=z,j=I):Z=Z.next=z,b|=P;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;z=S,S=z.next,z.next=null,h.lastBaseUpdate=z,h.shared.pending=null}}while(!0);Z===null&&(j=I),h.baseState=j,h.firstBaseUpdate=$,h.lastBaseUpdate=Z,g===null&&(h.shared.lanes=0),Bi|=b,n.lanes=b,n.memoizedState=I}}function Hg(n,s){if(typeof n!="function")throw Error(a(191,n));n.call(s)}function Gg(n,s){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)Hg(l[n],s)}var ms=Q(null),To=Q(0);function Zg(n,s){n=mi,ee(To,n),ee(ms,s),mi=n|s.baseLanes}function of(){ee(To,mi),ee(ms,ms.current)}function cf(){mi=To.current,se(ms),se(To)}var Ni=0,Se=null,$e=null,pt=null,Mo=!1,ps=!1,xa=!1,Ao=0,Dr=0,gs=null,jA=0;function ct(){throw Error(a(321))}function uf(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!Jt(n[l],s[l]))return!1;return!0}function ff(n,s,l,u,h,g){return Ni=g,Se=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=n===null||n.memoizedState===null?Dy:Ey,xa=!1,g=l(u,h),xa=!1,ps&&(g=Yg(s,l,u,h)),Fg(n),g}function Fg(n){H.H=Co;var s=$e!==null&&$e.next!==null;if(Ni=0,pt=$e=Se=null,Mo=!1,Dr=0,gs=null,s)throw Error(a(300));n===null||bt||(n=n.dependencies,n!==null&&_o(n)&&(bt=!0))}function Yg(n,s,l,u){Se=n;var h=0;do{if(ps&&(gs=null),Dr=0,ps=!1,25<=h)throw Error(a(301));if(h+=1,pt=$e=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}H.H=RA,g=s(l,u)}while(ps);return g}function DA(){var n=H.H,s=n.useState()[0];return s=typeof s.then=="function"?Er(s):s,n=n.useState()[0],($e!==null?$e.memoizedState:null)!==n&&(Se.flags|=1024),s}function df(){var n=Ao!==0;return Ao=0,n}function hf(n,s,l){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~l}function mf(n){if(Mo){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Mo=!1}Ni=0,pt=$e=Se=null,ps=!1,Dr=Ao=0,gs=null}function Ft(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Se.memoizedState=pt=n:pt=pt.next=n,pt}function gt(){if($e===null){var n=Se.alternate;n=n!==null?n.memoizedState:null}else n=$e.next;var s=pt===null?Se.memoizedState:pt.next;if(s!==null)pt=s,$e=n;else{if(n===null)throw Se.alternate===null?Error(a(467)):Error(a(310));$e=n,n={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},pt===null?Se.memoizedState=pt=n:pt=pt.next=n}return pt}function pf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Er(n){var s=Dr;return Dr+=1,gs===null&&(gs=[]),n=Bg(gs,n,s),s=Se,(pt===null?s.memoizedState:pt.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?Dy:Ey),n}function wo(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Er(n);if(n.$$typeof===N)return Ct(n)}throw Error(a(438,String(n)))}function gf(n){var s=null,l=Se.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=Se.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=pf(),Se.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(n),u=0;u<n;u++)l[u]=te;return s.index++,l}function oi(n,s){return typeof s=="function"?s(n):s}function jo(n){var s=gt();return yf(s,$e,n)}function yf(n,s,l){var u=n.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=l;var h=n.baseQueue,g=u.pending;if(g!==null){if(h!==null){var b=h.next;h.next=g.next,g.next=b}s.baseQueue=h=g,u.pending=null}if(g=n.baseState,h===null)n.memoizedState=g;else{s=h.next;var S=b=null,j=null,$=s,Z=!1;do{var I=$.lane&-536870913;if(I!==$.lane?(De&I)===I:(Ni&I)===I){var P=$.revertLane;if(P===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),I===ds&&(Z=!0);else if((Ni&P)===P){$=$.next,P===ds&&(Z=!0);continue}else I={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},j===null?(S=j=I,b=g):j=j.next=I,Se.lanes|=P,Bi|=P;I=$.action,xa&&l(g,I),g=$.hasEagerState?$.eagerState:l(g,I)}else P={lane:I,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},j===null?(S=j=P,b=g):j=j.next=P,Se.lanes|=I,Bi|=I;$=$.next}while($!==null&&$!==s);if(j===null?b=g:j.next=S,!Jt(g,n.memoizedState)&&(bt=!0,Z&&(l=hs,l!==null)))throw l;n.memoizedState=g,n.baseState=b,n.baseQueue=j,u.lastRenderedState=g}return h===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function _f(n){var s=gt(),l=s.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=n;var u=l.dispatch,h=l.pending,g=s.memoizedState;if(h!==null){l.pending=null;var b=h=h.next;do g=n(g,b.action),b=b.next;while(b!==h);Jt(g,s.memoizedState)||(bt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,u]}function Xg(n,s,l){var u=Se,h=gt(),g=Oe;if(g){if(l===void 0)throw Error(a(407));l=l()}else l=s();var b=!Jt(($e||h).memoizedState,l);b&&(h.memoizedState=l,bt=!0),h=h.queue;var S=Qg.bind(null,u,h,n);if(kr(2048,8,S,[n]),h.getSnapshot!==s||b||pt!==null&&pt.memoizedState.tag&1){if(u.flags|=2048,ys(9,Do(),Kg.bind(null,u,h,l,s),null),Fe===null)throw Error(a(349));g||(Ni&124)!==0||Ig(u,s,l)}return l}function Ig(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=Se.updateQueue,s===null?(s=pf(),Se.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function Kg(n,s,l,u){s.value=l,s.getSnapshot=u,Wg(s)&&Jg(n)}function Qg(n,s,l){return l(function(){Wg(s)&&Jg(n)})}function Wg(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!Jt(n,l)}catch{return!0}}function Jg(n){var s=os(n,2);s!==null&&rn(s,n,2)}function vf(n){var s=Ft();if(typeof n=="function"){var l=n;if(n=l(),xa){wi(!0);try{l()}finally{wi(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:n},s}function ey(n,s,l,u){return n.baseState=l,yf(n,$e,typeof u=="function"?u:oi)}function EA(n,s,l,u,h){if(ko(n))throw Error(a(485));if(n=s.action,n!==null){var g={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};H.T!==null?l(!0):g.isTransition=!1,u(g),l=s.pending,l===null?(g.next=s.pending=g,ty(s,g)):(g.next=l.next,s.pending=l.next=g)}}function ty(n,s){var l=s.action,u=s.payload,h=n.state;if(s.isTransition){var g=H.T,b={};H.T=b;try{var S=l(h,u),j=H.S;j!==null&&j(b,S),ny(n,s,S)}catch($){bf(n,s,$)}finally{H.T=g}}else try{g=l(h,u),ny(n,s,g)}catch($){bf(n,s,$)}}function ny(n,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){iy(n,s,u)},function(u){return bf(n,s,u)}):iy(n,s,l)}function iy(n,s,l){s.status="fulfilled",s.value=l,ay(s),n.state=l,s=n.pending,s!==null&&(l=s.next,l===s?n.pending=null:(l=l.next,s.next=l,ty(n,l)))}function bf(n,s,l){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,ay(s),s=s.next;while(s!==u)}n.action=null}function ay(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function sy(n,s){return s}function ry(n,s){if(Oe){var l=Fe.formState;if(l!==null){e:{var u=Se;if(Oe){if(st){t:{for(var h=st,g=Hn;h.nodeType!==8;){if(!g){h=null;break t}if(h=Ln(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){st=Ln(h.nextSibling),u=h.data==="F!";break e}}ya(u)}u=!1}u&&(s=l[0])}}return l=Ft(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sy,lastRenderedState:s},l.queue=u,l=Ay.bind(null,Se,u),u.dispatch=l,u=vf(!1),g=Af.bind(null,Se,!1,u.queue),u=Ft(),h={state:s,dispatch:null,action:n,pending:null},u.queue=h,l=EA.bind(null,Se,h,g,l),h.dispatch=l,u.memoizedState=n,[s,l,!1]}function ly(n){var s=gt();return oy(s,$e,n)}function oy(n,s,l){if(s=yf(n,s,sy)[0],n=jo(oi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Er(s)}catch(b){throw b===Tr?xo:b}else u=s;s=gt();var h=s.queue,g=h.dispatch;return l!==s.memoizedState&&(Se.flags|=2048,ys(9,Do(),kA.bind(null,h,l),null)),[u,g,n]}function kA(n,s){n.action=s}function cy(n){var s=gt(),l=$e;if(l!==null)return oy(s,l,n);gt(),s=s.memoizedState,l=gt();var u=l.queue.dispatch;return l.memoizedState=n,[s,u,!1]}function ys(n,s,l,u){return n={tag:n,create:l,deps:u,inst:s,next:null},s=Se.updateQueue,s===null&&(s=pf(),Se.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=n.next=n:(u=l.next,l.next=n,n.next=u,s.lastEffect=n),n}function Do(){return{destroy:void 0,resource:void 0}}function uy(){return gt().memoizedState}function Eo(n,s,l,u){var h=Ft();u=u===void 0?null:u,Se.flags|=n,h.memoizedState=ys(1|s,Do(),l,u)}function kr(n,s,l,u){var h=gt();u=u===void 0?null:u;var g=h.memoizedState.inst;$e!==null&&u!==null&&uf(u,$e.memoizedState.deps)?h.memoizedState=ys(s,g,l,u):(Se.flags|=n,h.memoizedState=ys(1|s,g,l,u))}function fy(n,s){Eo(8390656,8,n,s)}function dy(n,s){kr(2048,8,n,s)}function hy(n,s){return kr(4,2,n,s)}function my(n,s){return kr(4,4,n,s)}function py(n,s){if(typeof s=="function"){n=n();var l=s(n);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function gy(n,s,l){l=l!=null?l.concat([n]):null,kr(4,4,py.bind(null,s,n),l)}function xf(){}function yy(n,s){var l=gt();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&uf(s,u[1])?u[0]:(l.memoizedState=[n,s],n)}function _y(n,s){var l=gt();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&uf(s,u[1]))return u[0];if(u=n(),xa){wi(!0);try{n()}finally{wi(!1)}}return l.memoizedState=[u,s],u}function Sf(n,s,l){return l===void 0||(Ni&1073741824)!==0?n.memoizedState=s:(n.memoizedState=l,n=x0(),Se.lanes|=n,Bi|=n,l)}function vy(n,s,l,u){return Jt(l,s)?l:ms.current!==null?(n=Sf(n,l,u),Jt(n,s)||(bt=!0),n):(Ni&42)===0?(bt=!0,n.memoizedState=l):(n=x0(),Se.lanes|=n,Bi|=n,s)}function by(n,s,l,u,h){var g=G.p;G.p=g!==0&&8>g?g:8;var b=H.T,S={};H.T=S,Af(n,!1,s,l);try{var j=h(),$=H.S;if($!==null&&$(S,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var Z=wA(j,u);Cr(n,s,Z,sn(n))}else Cr(n,s,u,sn(n))}catch(I){Cr(n,s,{then:function(){},status:"rejected",reason:I},sn())}finally{G.p=g,H.T=b}}function CA(){}function Tf(n,s,l,u){if(n.tag!==5)throw Error(a(476));var h=xy(n).queue;by(n,h,s,ne,l===null?CA:function(){return Sy(n),l(u)})}function xy(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:ne},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:l},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Sy(n){var s=xy(n).next.queue;Cr(n,s,{},sn())}function Mf(){return Ct(Ir)}function Ty(){return gt().memoizedState}function My(){return gt().memoizedState}function OA(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var l=sn();n=Ci(l);var u=Oi(s,n,l);u!==null&&(rn(u,s,l),Ar(u,s,l)),s={cache:Ju()},n.payload=s;return}s=s.return}}function NA(n,s,l){var u=sn();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},ko(n)?wy(s,l):(l=Hu(n,s,l,u),l!==null&&(rn(l,n,u),jy(l,s,u)))}function Ay(n,s,l){var u=sn();Cr(n,s,l,u)}function Cr(n,s,l,u){var h={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(ko(n))wy(s,h);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,S=g(b,l);if(h.hasEagerState=!0,h.eagerState=S,Jt(S,b))return ho(n,s,h,0),Fe===null&&fo(),!1}catch{}finally{}if(l=Hu(n,s,h,u),l!==null)return rn(l,n,u),jy(l,s,u),!0}return!1}function Af(n,s,l,u){if(u={lane:2,revertLane:id(),action:u,hasEagerState:!1,eagerState:null,next:null},ko(n)){if(s)throw Error(a(479))}else s=Hu(n,l,u,2),s!==null&&rn(s,n,2)}function ko(n){var s=n.alternate;return n===Se||s!==null&&s===Se}function wy(n,s){ps=Mo=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function jy(n,s,l){if((l&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,Lp(n,l)}}var Co={readContext:Ct,use:wo,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct},Dy={readContext:Ct,use:wo,useCallback:function(n,s){return Ft().memoizedState=[n,s===void 0?null:s],n},useContext:Ct,useEffect:fy,useImperativeHandle:function(n,s,l){l=l!=null?l.concat([n]):null,Eo(4194308,4,py.bind(null,s,n),l)},useLayoutEffect:function(n,s){return Eo(4194308,4,n,s)},useInsertionEffect:function(n,s){Eo(4,2,n,s)},useMemo:function(n,s){var l=Ft();s=s===void 0?null:s;var u=n();if(xa){wi(!0);try{n()}finally{wi(!1)}}return l.memoizedState=[u,s],u},useReducer:function(n,s,l){var u=Ft();if(l!==void 0){var h=l(s);if(xa){wi(!0);try{l(s)}finally{wi(!1)}}}else h=s;return u.memoizedState=u.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},u.queue=n,n=n.dispatch=NA.bind(null,Se,n),[u.memoizedState,n]},useRef:function(n){var s=Ft();return n={current:n},s.memoizedState=n},useState:function(n){n=vf(n);var s=n.queue,l=Ay.bind(null,Se,s);return s.dispatch=l,[n.memoizedState,l]},useDebugValue:xf,useDeferredValue:function(n,s){var l=Ft();return Sf(l,n,s)},useTransition:function(){var n=vf(!1);return n=by.bind(null,Se,n.queue,!0,!1),Ft().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,l){var u=Se,h=Ft();if(Oe){if(l===void 0)throw Error(a(407));l=l()}else{if(l=s(),Fe===null)throw Error(a(349));(De&124)!==0||Ig(u,s,l)}h.memoizedState=l;var g={value:l,getSnapshot:s};return h.queue=g,fy(Qg.bind(null,u,g,n),[n]),u.flags|=2048,ys(9,Do(),Kg.bind(null,u,g,l,s),null),l},useId:function(){var n=Ft(),s=Fe.identifierPrefix;if(Oe){var l=si,u=ai;l=(u&~(1<<32-Wt(u)-1)).toString(32)+l,s=""+s+"R"+l,l=Ao++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=jA++,s=""+s+"r"+l.toString(32)+"";return n.memoizedState=s},useHostTransitionStatus:Mf,useFormState:ry,useActionState:ry,useOptimistic:function(n){var s=Ft();s.memoizedState=s.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Af.bind(null,Se,!0,l),l.dispatch=s,[n,s]},useMemoCache:gf,useCacheRefresh:function(){return Ft().memoizedState=OA.bind(null,Se)}},Ey={readContext:Ct,use:wo,useCallback:yy,useContext:Ct,useEffect:dy,useImperativeHandle:gy,useInsertionEffect:hy,useLayoutEffect:my,useMemo:_y,useReducer:jo,useRef:uy,useState:function(){return jo(oi)},useDebugValue:xf,useDeferredValue:function(n,s){var l=gt();return vy(l,$e.memoizedState,n,s)},useTransition:function(){var n=jo(oi)[0],s=gt().memoizedState;return[typeof n=="boolean"?n:Er(n),s]},useSyncExternalStore:Xg,useId:Ty,useHostTransitionStatus:Mf,useFormState:ly,useActionState:ly,useOptimistic:function(n,s){var l=gt();return ey(l,$e,n,s)},useMemoCache:gf,useCacheRefresh:My},RA={readContext:Ct,use:wo,useCallback:yy,useContext:Ct,useEffect:dy,useImperativeHandle:gy,useInsertionEffect:hy,useLayoutEffect:my,useMemo:_y,useReducer:_f,useRef:uy,useState:function(){return _f(oi)},useDebugValue:xf,useDeferredValue:function(n,s){var l=gt();return $e===null?Sf(l,n,s):vy(l,$e.memoizedState,n,s)},useTransition:function(){var n=_f(oi)[0],s=gt().memoizedState;return[typeof n=="boolean"?n:Er(n),s]},useSyncExternalStore:Xg,useId:Ty,useHostTransitionStatus:Mf,useFormState:cy,useActionState:cy,useOptimistic:function(n,s){var l=gt();return $e!==null?ey(l,$e,n,s):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:gf,useCacheRefresh:My},_s=null,Or=0;function Oo(n){var s=Or;return Or+=1,_s===null&&(_s=[]),Bg(_s,n,s)}function Nr(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function No(n,s){throw s.$$typeof===y?Error(a(525)):(n=Object.prototype.toString.call(s),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function ky(n){var s=n._init;return s(n._payload)}function Cy(n){function s(O,k){if(n){var V=O.deletions;V===null?(O.deletions=[k],O.flags|=16):V.push(k)}}function l(O,k){if(!n)return null;for(;k!==null;)s(O,k),k=k.sibling;return null}function u(O){for(var k=new Map;O!==null;)O.key!==null?k.set(O.key,O):k.set(O.index,O),O=O.sibling;return k}function h(O,k){return O=ii(O,k),O.index=0,O.sibling=null,O}function g(O,k,V){return O.index=V,n?(V=O.alternate,V!==null?(V=V.index,V<k?(O.flags|=67108866,k):V):(O.flags|=67108866,k)):(O.flags|=1048576,k)}function b(O){return n&&O.alternate===null&&(O.flags|=67108866),O}function S(O,k,V,X){return k===null||k.tag!==6?(k=Zu(V,O.mode,X),k.return=O,k):(k=h(k,V),k.return=O,k)}function j(O,k,V,X){var le=V.type;return le===M?Z(O,k,V.props.children,X,V.key):k!==null&&(k.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===B&&ky(le)===k.type)?(k=h(k,V.props),Nr(k,V),k.return=O,k):(k=po(V.type,V.key,V.props,null,O.mode,X),Nr(k,V),k.return=O,k)}function $(O,k,V,X){return k===null||k.tag!==4||k.stateNode.containerInfo!==V.containerInfo||k.stateNode.implementation!==V.implementation?(k=Fu(V,O.mode,X),k.return=O,k):(k=h(k,V.children||[]),k.return=O,k)}function Z(O,k,V,X,le){return k===null||k.tag!==7?(k=ha(V,O.mode,X,le),k.return=O,k):(k=h(k,V),k.return=O,k)}function I(O,k,V){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Zu(""+k,O.mode,V),k.return=O,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case _:return V=po(k.type,k.key,k.props,null,O.mode,V),Nr(V,k),V.return=O,V;case v:return k=Fu(k,O.mode,V),k.return=O,k;case B:var X=k._init;return k=X(k._payload),I(O,k,V)}if(me(k)||ae(k))return k=ha(k,O.mode,V,null),k.return=O,k;if(typeof k.then=="function")return I(O,Oo(k),V);if(k.$$typeof===N)return I(O,vo(O,k),V);No(O,k)}return null}function P(O,k,V,X){var le=k!==null?k.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return le!==null?null:S(O,k,""+V,X);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case _:return V.key===le?j(O,k,V,X):null;case v:return V.key===le?$(O,k,V,X):null;case B:return le=V._init,V=le(V._payload),P(O,k,V,X)}if(me(V)||ae(V))return le!==null?null:Z(O,k,V,X,null);if(typeof V.then=="function")return P(O,k,Oo(V),X);if(V.$$typeof===N)return P(O,k,vo(O,V),X);No(O,V)}return null}function z(O,k,V,X,le){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return O=O.get(V)||null,S(k,O,""+X,le);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case _:return O=O.get(X.key===null?V:X.key)||null,j(k,O,X,le);case v:return O=O.get(X.key===null?V:X.key)||null,$(k,O,X,le);case B:var Te=X._init;return X=Te(X._payload),z(O,k,V,X,le)}if(me(X)||ae(X))return O=O.get(V)||null,Z(k,O,X,le,null);if(typeof X.then=="function")return z(O,k,V,Oo(X),le);if(X.$$typeof===N)return z(O,k,V,vo(k,X),le);No(k,X)}return null}function pe(O,k,V,X){for(var le=null,Te=null,ce=k,he=k=0,St=null;ce!==null&&he<V.length;he++){ce.index>he?(St=ce,ce=null):St=ce.sibling;var Ee=P(O,ce,V[he],X);if(Ee===null){ce===null&&(ce=St);break}n&&ce&&Ee.alternate===null&&s(O,ce),k=g(Ee,k,he),Te===null?le=Ee:Te.sibling=Ee,Te=Ee,ce=St}if(he===V.length)return l(O,ce),Oe&&pa(O,he),le;if(ce===null){for(;he<V.length;he++)ce=I(O,V[he],X),ce!==null&&(k=g(ce,k,he),Te===null?le=ce:Te.sibling=ce,Te=ce);return Oe&&pa(O,he),le}for(ce=u(ce);he<V.length;he++)St=z(ce,O,he,V[he],X),St!==null&&(n&&St.alternate!==null&&ce.delete(St.key===null?he:St.key),k=g(St,k,he),Te===null?le=St:Te.sibling=St,Te=St);return n&&ce.forEach(function(Ii){return s(O,Ii)}),Oe&&pa(O,he),le}function de(O,k,V,X){if(V==null)throw Error(a(151));for(var le=null,Te=null,ce=k,he=k=0,St=null,Ee=V.next();ce!==null&&!Ee.done;he++,Ee=V.next()){ce.index>he?(St=ce,ce=null):St=ce.sibling;var Ii=P(O,ce,Ee.value,X);if(Ii===null){ce===null&&(ce=St);break}n&&ce&&Ii.alternate===null&&s(O,ce),k=g(Ii,k,he),Te===null?le=Ii:Te.sibling=Ii,Te=Ii,ce=St}if(Ee.done)return l(O,ce),Oe&&pa(O,he),le;if(ce===null){for(;!Ee.done;he++,Ee=V.next())Ee=I(O,Ee.value,X),Ee!==null&&(k=g(Ee,k,he),Te===null?le=Ee:Te.sibling=Ee,Te=Ee);return Oe&&pa(O,he),le}for(ce=u(ce);!Ee.done;he++,Ee=V.next())Ee=z(ce,O,he,Ee.value,X),Ee!==null&&(n&&Ee.alternate!==null&&ce.delete(Ee.key===null?he:Ee.key),k=g(Ee,k,he),Te===null?le=Ee:Te.sibling=Ee,Te=Ee);return n&&ce.forEach(function(Lw){return s(O,Lw)}),Oe&&pa(O,he),le}function ze(O,k,V,X){if(typeof V=="object"&&V!==null&&V.type===M&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case _:e:{for(var le=V.key;k!==null;){if(k.key===le){if(le=V.type,le===M){if(k.tag===7){l(O,k.sibling),X=h(k,V.props.children),X.return=O,O=X;break e}}else if(k.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===B&&ky(le)===k.type){l(O,k.sibling),X=h(k,V.props),Nr(X,V),X.return=O,O=X;break e}l(O,k);break}else s(O,k);k=k.sibling}V.type===M?(X=ha(V.props.children,O.mode,X,V.key),X.return=O,O=X):(X=po(V.type,V.key,V.props,null,O.mode,X),Nr(X,V),X.return=O,O=X)}return b(O);case v:e:{for(le=V.key;k!==null;){if(k.key===le)if(k.tag===4&&k.stateNode.containerInfo===V.containerInfo&&k.stateNode.implementation===V.implementation){l(O,k.sibling),X=h(k,V.children||[]),X.return=O,O=X;break e}else{l(O,k);break}else s(O,k);k=k.sibling}X=Fu(V,O.mode,X),X.return=O,O=X}return b(O);case B:return le=V._init,V=le(V._payload),ze(O,k,V,X)}if(me(V))return pe(O,k,V,X);if(ae(V)){if(le=ae(V),typeof le!="function")throw Error(a(150));return V=le.call(V),de(O,k,V,X)}if(typeof V.then=="function")return ze(O,k,Oo(V),X);if(V.$$typeof===N)return ze(O,k,vo(O,V),X);No(O,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,k!==null&&k.tag===6?(l(O,k.sibling),X=h(k,V),X.return=O,O=X):(l(O,k),X=Zu(V,O.mode,X),X.return=O,O=X),b(O)):l(O,k)}return function(O,k,V,X){try{Or=0;var le=ze(O,k,V,X);return _s=null,le}catch(ce){if(ce===Tr||ce===xo)throw ce;var Te=en(29,ce,null,O.mode);return Te.lanes=X,Te.return=O,Te}finally{}}}var vs=Cy(!0),Oy=Cy(!1),vn=Q(null),Gn=null;function Ri(n){var s=n.alternate;ee(_t,_t.current&1),ee(vn,n),Gn===null&&(s===null||ms.current!==null||s.memoizedState!==null)&&(Gn=n)}function Ny(n){if(n.tag===22){if(ee(_t,_t.current),ee(vn,n),Gn===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(Gn=n)}}else Li()}function Li(){ee(_t,_t.current),ee(vn,vn.current)}function ci(n){se(vn),Gn===n&&(Gn=null),se(_t)}var _t=Q(0);function Ro(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||pd(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function wf(n,s,l,u){s=n.memoizedState,l=l(u,s),l=l==null?s:p({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var jf={enqueueSetState:function(n,s,l){n=n._reactInternals;var u=sn(),h=Ci(u);h.payload=s,l!=null&&(h.callback=l),s=Oi(n,h,u),s!==null&&(rn(s,n,u),Ar(s,n,u))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var u=sn(),h=Ci(u);h.tag=1,h.payload=s,l!=null&&(h.callback=l),s=Oi(n,h,u),s!==null&&(rn(s,n,u),Ar(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=sn(),u=Ci(l);u.tag=2,s!=null&&(u.callback=s),s=Oi(n,u,l),s!==null&&(rn(s,n,l),Ar(s,n,l))}};function Ry(n,s,l,u,h,g,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,g,b):s.prototype&&s.prototype.isPureReactComponent?!pr(l,u)||!pr(h,g):!0}function Ly(n,s,l,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==n&&jf.enqueueReplaceState(s,s.state,null)}function Sa(n,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(n=n.defaultProps){l===s&&(l=p({},l));for(var h in n)l[h]===void 0&&(l[h]=n[h])}return l}var Lo=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Vy(n){Lo(n)}function $y(n){console.error(n)}function Py(n){Lo(n)}function Vo(n,s){try{var l=n.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function zy(n,s,l){try{var u=n.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Df(n,s,l){return l=Ci(l),l.tag=3,l.payload={element:null},l.callback=function(){Vo(n,s)},l}function By(n){return n=Ci(n),n.tag=3,n}function Uy(n,s,l,u){var h=l.type.getDerivedStateFromError;if(typeof h=="function"){var g=u.value;n.payload=function(){return h(g)},n.callback=function(){zy(s,l,u)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){zy(s,l,u),typeof h!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function LA(n,s,l,u,h){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&br(s,l,h,!0),l=vn.current,l!==null){switch(l.tag){case 13:return Gn===null?Wf():l.alternate===null&&rt===0&&(rt=3),l.flags&=-257,l.flags|=65536,l.lanes=h,u===nf?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),ed(n,u,h)),!1;case 22:return l.flags|=65536,u===nf?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),ed(n,u,h)),!1}throw Error(a(435,l.tag))}return ed(n,u,h),Wf(),!1}if(Oe)return s=vn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,u!==Iu&&(n=Error(a(422),{cause:u}),vr(pn(n,l)))):(u!==Iu&&(s=Error(a(423),{cause:u}),vr(pn(s,l))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,u=pn(u,l),h=Df(n.stateNode,u,h),rf(n,h),rt!==4&&(rt=2)),!1;var g=Error(a(520),{cause:u});if(g=pn(g,l),Br===null?Br=[g]:Br.push(g),rt!==4&&(rt=2),s===null)return!0;u=pn(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,n=h&-h,l.lanes|=n,n=Df(l.stateNode,u,n),rf(l,n),!1;case 1:if(s=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ui===null||!Ui.has(g))))return l.flags|=65536,h&=-h,l.lanes|=h,h=By(h),Uy(h,n,l,u),rf(l,h),!1}l=l.return}while(l!==null);return!1}var qy=Error(a(461)),bt=!1;function Mt(n,s,l,u){s.child=n===null?Oy(s,null,l,u):vs(s,n.child,l,u)}function Hy(n,s,l,u,h){l=l.render;var g=s.ref;if("ref"in u){var b={};for(var S in u)S!=="ref"&&(b[S]=u[S])}else b=u;return va(s),u=ff(n,s,l,b,g,h),S=df(),n!==null&&!bt?(hf(n,s,h),ui(n,s,h)):(Oe&&S&&Yu(s),s.flags|=1,Mt(n,s,u,h),s.child)}function Gy(n,s,l,u,h){if(n===null){var g=l.type;return typeof g=="function"&&!Gu(g)&&g.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=g,Zy(n,s,g,u,h)):(n=po(l.type,null,u,s,s.mode,h),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,!Vf(n,h)){var b=g.memoizedProps;if(l=l.compare,l=l!==null?l:pr,l(b,u)&&n.ref===s.ref)return ui(n,s,h)}return s.flags|=1,n=ii(g,u),n.ref=s.ref,n.return=s,s.child=n}function Zy(n,s,l,u,h){if(n!==null){var g=n.memoizedProps;if(pr(g,u)&&n.ref===s.ref)if(bt=!1,s.pendingProps=u=g,Vf(n,h))(n.flags&131072)!==0&&(bt=!0);else return s.lanes=n.lanes,ui(n,s,h)}return Ef(n,s,l,u,h)}function Fy(n,s,l){var u=s.pendingProps,h=u.children,g=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|l:l,n!==null){for(h=s.child=n.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return Yy(n,s,u,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&bo(s,g!==null?g.cachePool:null),g!==null?Zg(s,g):of(),Ny(s);else return s.lanes=s.childLanes=536870912,Yy(n,s,g!==null?g.baseLanes|l:l,l)}else g!==null?(bo(s,g.cachePool),Zg(s,g),Li(),s.memoizedState=null):(n!==null&&bo(s,null),of(),Li());return Mt(n,s,h,l),s.child}function Yy(n,s,l,u){var h=tf();return h=h===null?null:{parent:yt._currentValue,pool:h},s.memoizedState={baseLanes:l,cachePool:h},n!==null&&bo(s,null),of(),Ny(s),n!==null&&br(n,s,u,!0),null}function $o(n,s){var l=s.ref;if(l===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(n===null||n.ref!==l)&&(s.flags|=4194816)}}function Ef(n,s,l,u,h){return va(s),l=ff(n,s,l,u,void 0,h),u=df(),n!==null&&!bt?(hf(n,s,h),ui(n,s,h)):(Oe&&u&&Yu(s),s.flags|=1,Mt(n,s,l,h),s.child)}function Xy(n,s,l,u,h,g){return va(s),s.updateQueue=null,l=Yg(s,u,l,h),Fg(n),u=df(),n!==null&&!bt?(hf(n,s,g),ui(n,s,g)):(Oe&&u&&Yu(s),s.flags|=1,Mt(n,s,l,g),s.child)}function Iy(n,s,l,u,h){if(va(s),s.stateNode===null){var g=cs,b=l.contextType;typeof b=="object"&&b!==null&&(g=Ct(b)),g=new l(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=jf,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},af(s),b=l.contextType,g.context=typeof b=="object"&&b!==null?Ct(b):cs,g.state=s.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(wf(s,l,b,u),g.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&jf.enqueueReplaceState(g,g.state,null),jr(s,u,g,h),wr(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){g=s.stateNode;var S=s.memoizedProps,j=Sa(l,S);g.props=j;var $=g.context,Z=l.contextType;b=cs,typeof Z=="object"&&Z!==null&&(b=Ct(Z));var I=l.getDerivedStateFromProps;Z=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||$!==b)&&Ly(s,g,u,b),ki=!1;var P=s.memoizedState;g.state=P,jr(s,u,g,h),wr(),$=s.memoizedState,S||P!==$||ki?(typeof I=="function"&&(wf(s,l,I,u),$=s.memoizedState),(j=ki||Ry(s,l,j,u,P,$,b))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=$),g.props=u,g.state=$,g.context=b,u=j):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,sf(n,s),b=s.memoizedProps,Z=Sa(l,b),g.props=Z,I=s.pendingProps,P=g.context,$=l.contextType,j=cs,typeof $=="object"&&$!==null&&(j=Ct($)),S=l.getDerivedStateFromProps,($=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==I||P!==j)&&Ly(s,g,u,j),ki=!1,P=s.memoizedState,g.state=P,jr(s,u,g,h),wr();var z=s.memoizedState;b!==I||P!==z||ki||n!==null&&n.dependencies!==null&&_o(n.dependencies)?(typeof S=="function"&&(wf(s,l,S,u),z=s.memoizedState),(Z=ki||Ry(s,l,Z,u,P,z,j)||n!==null&&n.dependencies!==null&&_o(n.dependencies))?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,z,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,z,j)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===n.memoizedProps&&P===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&P===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=z),g.props=u,g.state=z,g.context=j,u=Z):(typeof g.componentDidUpdate!="function"||b===n.memoizedProps&&P===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&P===n.memoizedState||(s.flags|=1024),u=!1)}return g=u,$o(n,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,n!==null&&u?(s.child=vs(s,n.child,null,h),s.child=vs(s,null,l,h)):Mt(n,s,l,h),s.memoizedState=g.state,n=s.child):n=ui(n,s,h),n}function Ky(n,s,l,u){return _r(),s.flags|=256,Mt(n,s,l,u),s.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cf(n){return{baseLanes:n,cachePool:$g()}}function Of(n,s,l){return n=n!==null?n.childLanes&~l:0,s&&(n|=bn),n}function Qy(n,s,l){var u=s.pendingProps,h=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=n!==null&&n.memoizedState===null?!1:(_t.current&2)!==0),b&&(h=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,n===null){if(Oe){if(h?Ri(s):Li(),Oe){var S=st,j;if(j=S){e:{for(j=S,S=Hn;j.nodeType!==8;){if(!S){S=null;break e}if(j=Ln(j.nextSibling),j===null){S=null;break e}}S=j}S!==null?(s.memoizedState={dehydrated:S,treeContext:ma!==null?{id:ai,overflow:si}:null,retryLane:536870912,hydrationErrors:null},j=en(18,null,null,0),j.stateNode=S,j.return=s,s.child=j,zt=s,st=null,j=!0):j=!1}j||ya(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return pd(S)?s.lanes=32:s.lanes=536870912,null;ci(s)}return S=u.children,u=u.fallback,h?(Li(),h=s.mode,S=Po({mode:"hidden",children:S},h),u=ha(u,h,l,null),S.return=s,u.return=s,S.sibling=u,s.child=S,h=s.child,h.memoizedState=Cf(l),h.childLanes=Of(n,b,l),s.memoizedState=kf,u):(Ri(s),Nf(s,S))}if(j=n.memoizedState,j!==null&&(S=j.dehydrated,S!==null)){if(g)s.flags&256?(Ri(s),s.flags&=-257,s=Rf(n,s,l)):s.memoizedState!==null?(Li(),s.child=n.child,s.flags|=128,s=null):(Li(),h=u.fallback,S=s.mode,u=Po({mode:"visible",children:u.children},S),h=ha(h,S,l,null),h.flags|=2,u.return=s,h.return=s,u.sibling=h,s.child=u,vs(s,n.child,null,l),u=s.child,u.memoizedState=Cf(l),u.childLanes=Of(n,b,l),s.memoizedState=kf,s=h);else if(Ri(s),pd(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var $=b.dgst;b=$,u=Error(a(419)),u.stack="",u.digest=b,vr({value:u,source:null,stack:null}),s=Rf(n,s,l)}else if(bt||br(n,s,l,!1),b=(l&n.childLanes)!==0,bt||b){if(b=Fe,b!==null&&(u=l&-l,u=(u&42)!==0?1:pu(u),u=(u&(b.suspendedLanes|l))!==0?0:u,u!==0&&u!==j.retryLane))throw j.retryLane=u,os(n,u),rn(b,n,u),qy;S.data==="$?"||Wf(),s=Rf(n,s,l)}else S.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=j.treeContext,st=Ln(S.nextSibling),zt=s,Oe=!0,ga=null,Hn=!1,n!==null&&(yn[_n++]=ai,yn[_n++]=si,yn[_n++]=ma,ai=n.id,si=n.overflow,ma=s),s=Nf(s,u.children),s.flags|=4096);return s}return h?(Li(),h=u.fallback,S=s.mode,j=n.child,$=j.sibling,u=ii(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,$!==null?h=ii($,h):(h=ha(h,S,l,null),h.flags|=2),h.return=s,u.return=s,u.sibling=h,s.child=u,u=h,h=s.child,S=n.child.memoizedState,S===null?S=Cf(l):(j=S.cachePool,j!==null?($=yt._currentValue,j=j.parent!==$?{parent:$,pool:$}:j):j=$g(),S={baseLanes:S.baseLanes|l,cachePool:j}),h.memoizedState=S,h.childLanes=Of(n,b,l),s.memoizedState=kf,u):(Ri(s),l=n.child,n=l.sibling,l=ii(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,n!==null&&(b=s.deletions,b===null?(s.deletions=[n],s.flags|=16):b.push(n)),s.child=l,s.memoizedState=null,l)}function Nf(n,s){return s=Po({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Po(n,s){return n=en(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Rf(n,s,l){return vs(s,n.child,null,l),n=Nf(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Wy(n,s,l){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Qu(n.return,s,l)}function Lf(n,s,l,u,h){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:h}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=l,g.tailMode=h)}function Jy(n,s,l){var u=s.pendingProps,h=u.revealOrder,g=u.tail;if(Mt(n,s,u.children,l),u=_t.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Wy(n,l,s);else if(n.tag===19)Wy(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(ee(_t,u),h){case"forwards":for(l=s.child,h=null;l!==null;)n=l.alternate,n!==null&&Ro(n)===null&&(h=l),l=l.sibling;l=h,l===null?(h=s.child,s.child=null):(h=l.sibling,l.sibling=null),Lf(s,!1,h,l,g);break;case"backwards":for(l=null,h=s.child,s.child=null;h!==null;){if(n=h.alternate,n!==null&&Ro(n)===null){s.child=h;break}n=h.sibling,h.sibling=l,l=h,h=n}Lf(s,!0,l,null,g);break;case"together":Lf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ui(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),Bi|=s.lanes,(l&s.childLanes)===0)if(n!==null){if(br(n,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(a(153));if(s.child!==null){for(n=s.child,l=ii(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=ii(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function Vf(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&_o(n)))}function VA(n,s,l){switch(s.tag){case 3:qe(s,s.stateNode.containerInfo),Ei(s,yt,n.memoizedState.cache),_r();break;case 27:case 5:Za(s);break;case 4:qe(s,s.stateNode.containerInfo);break;case 10:Ei(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Ri(s),s.flags|=128,null):(l&s.child.childLanes)!==0?Qy(n,s,l):(Ri(s),n=ui(n,s,l),n!==null?n.sibling:null);Ri(s);break;case 19:var h=(n.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(br(n,s,l,!1),u=(l&s.childLanes)!==0),h){if(u)return Jy(n,s,l);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ee(_t,_t.current),u)break;return null;case 22:case 23:return s.lanes=0,Fy(n,s,l);case 24:Ei(s,yt,n.memoizedState.cache)}return ui(n,s,l)}function e0(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps)bt=!0;else{if(!Vf(n,l)&&(s.flags&128)===0)return bt=!1,VA(n,s,l);bt=(n.flags&131072)!==0}else bt=!1,Oe&&(s.flags&1048576)!==0&&kg(s,yo,s.index);switch(s.lanes=0,s.tag){case 16:e:{n=s.pendingProps;var u=s.elementType,h=u._init;if(u=h(u._payload),s.type=u,typeof u=="function")Gu(u)?(n=Sa(u,n),s.tag=1,s=Iy(null,s,u,n,l)):(s.tag=0,s=Ef(null,s,u,n,l));else{if(u!=null){if(h=u.$$typeof,h===W){s.tag=11,s=Hy(null,s,u,n,l);break e}else if(h===U){s.tag=14,s=Gy(null,s,u,n,l);break e}}throw s=Ce(u)||u,Error(a(306,s,""))}}return s;case 0:return Ef(n,s,s.type,s.pendingProps,l);case 1:return u=s.type,h=Sa(u,s.pendingProps),Iy(n,s,u,h,l);case 3:e:{if(qe(s,s.stateNode.containerInfo),n===null)throw Error(a(387));u=s.pendingProps;var g=s.memoizedState;h=g.element,sf(n,s),jr(s,u,null,l);var b=s.memoizedState;if(u=b.cache,Ei(s,yt,u),u!==g.cache&&Wu(s,[yt],l,!0),wr(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=Ky(n,s,u,l);break e}else if(u!==h){h=pn(Error(a(424)),s),vr(h),s=Ky(n,s,u,l);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(st=Ln(n.firstChild),zt=s,Oe=!0,ga=null,Hn=!0,l=Oy(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(_r(),u===h){s=ui(n,s,l);break e}Mt(n,s,u,l)}s=s.child}return s;case 26:return $o(n,s),n===null?(l=a_(s.type,null,s.pendingProps,null))?s.memoizedState=l:Oe||(l=s.type,n=s.pendingProps,u=Wo(_e.current).createElement(l),u[kt]=s,u[Gt]=n,wt(u,l,n),vt(u),s.stateNode=u):s.memoizedState=a_(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Za(s),n===null&&Oe&&(u=s.stateNode=t_(s.type,s.pendingProps,_e.current),zt=s,Hn=!0,h=st,Gi(s.type)?(gd=h,st=Ln(u.firstChild)):st=h),Mt(n,s,s.pendingProps.children,l),$o(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Oe&&((h=u=st)&&(u=uw(u,s.type,s.pendingProps,Hn),u!==null?(s.stateNode=u,zt=s,st=Ln(u.firstChild),Hn=!1,h=!0):h=!1),h||ya(s)),Za(s),h=s.type,g=s.pendingProps,b=n!==null?n.memoizedProps:null,u=g.children,dd(h,g)?u=null:b!==null&&dd(h,b)&&(s.flags|=32),s.memoizedState!==null&&(h=ff(n,s,DA,null,null,l),Ir._currentValue=h),$o(n,s),Mt(n,s,u,l),s.child;case 6:return n===null&&Oe&&((n=l=st)&&(l=fw(l,s.pendingProps,Hn),l!==null?(s.stateNode=l,zt=s,st=null,n=!0):n=!1),n||ya(s)),null;case 13:return Qy(n,s,l);case 4:return qe(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=vs(s,null,u,l):Mt(n,s,u,l),s.child;case 11:return Hy(n,s,s.type,s.pendingProps,l);case 7:return Mt(n,s,s.pendingProps,l),s.child;case 8:return Mt(n,s,s.pendingProps.children,l),s.child;case 12:return Mt(n,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,Ei(s,s.type,u.value),Mt(n,s,u.children,l),s.child;case 9:return h=s.type._context,u=s.pendingProps.children,va(s),h=Ct(h),u=u(h),s.flags|=1,Mt(n,s,u,l),s.child;case 14:return Gy(n,s,s.type,s.pendingProps,l);case 15:return Zy(n,s,s.type,s.pendingProps,l);case 19:return Jy(n,s,l);case 31:return u=s.pendingProps,l=s.mode,u={mode:u.mode,children:u.children},n===null?(l=Po(u,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=ii(n.child,u),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return Fy(n,s,l);case 24:return va(s),u=Ct(yt),n===null?(h=tf(),h===null&&(h=Fe,g=Ju(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=l),h=g),s.memoizedState={parent:u,cache:h},af(s),Ei(s,yt,h)):((n.lanes&l)!==0&&(sf(n,s),jr(s,null,null,l),wr()),h=n.memoizedState,g=s.memoizedState,h.parent!==u?(h={parent:u,cache:u},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Ei(s,yt,u)):(u=g.cache,Ei(s,yt,u),u!==h.cache&&Wu(s,[yt],l,!0))),Mt(n,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function fi(n){n.flags|=4}function t0(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!c_(s)){if(s=vn.current,s!==null&&((De&4194048)===De?Gn!==null:(De&62914560)!==De&&(De&536870912)===0||s!==Gn))throw Mr=nf,Pg;n.flags|=8192}}function zo(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Np():536870912,n.lanes|=s,Ts|=s)}function Rr(n,s){if(!Oe)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function tt(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,u=0;if(s)for(var h=n.child;h!==null;)l|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)l|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=u,n.childLanes=l,s}function $A(n,s,l){var u=s.pendingProps;switch(Xu(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(s),null;case 1:return tt(s),null;case 3:return l=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),li(yt),Ht(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(yr(s)?fi(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ng())),tt(s),null;case 26:return l=s.memoizedState,n===null?(fi(s),l!==null?(tt(s),t0(s,l)):(tt(s),s.flags&=-16777217)):l?l!==n.memoizedState?(fi(s),tt(s),t0(s,l)):(tt(s),s.flags&=-16777217):(n.memoizedProps!==u&&fi(s),tt(s),s.flags&=-16777217),null;case 27:Fa(s),l=_e.current;var h=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==u&&fi(s);else{if(!u){if(s.stateNode===null)throw Error(a(166));return tt(s),null}n=fe.current,yr(s)?Cg(s):(n=t_(h,u,l),s.stateNode=n,fi(s))}return tt(s),null;case 5:if(Fa(s),l=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&fi(s);else{if(!u){if(s.stateNode===null)throw Error(a(166));return tt(s),null}if(n=fe.current,yr(s))Cg(s);else{switch(h=Wo(_e.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?h.createElement(l,{is:u.is}):h.createElement(l)}}n[kt]=s,n[Gt]=u;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=n;e:switch(wt(n,l,u),l){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&fi(s)}}return tt(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&fi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(a(166));if(n=_e.current,yr(s)){if(n=s.stateNode,l=s.memoizedProps,u=null,h=zt,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}n[kt]=s,n=!!(n.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||X0(n.nodeValue,l)),n||ya(s)}else n=Wo(n).createTextNode(u),n[kt]=s,s.stateNode=n}return tt(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=yr(s),u!==null&&u.dehydrated!==null){if(n===null){if(!h)throw Error(a(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[kt]=s}else _r(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;tt(s),h=!1}else h=Ng(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(ci(s),s):(ci(s),null)}if(ci(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=u!==null,n=n!==null&&n.memoizedState!==null,l){u=s.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048)}return l!==n&&l&&(s.child.flags|=8192),zo(s,s.updateQueue),tt(s),null;case 4:return Ht(),n===null&&ld(s.stateNode.containerInfo),tt(s),null;case 10:return li(s.type),tt(s),null;case 19:if(se(_t),h=s.memoizedState,h===null)return tt(s),null;if(u=(s.flags&128)!==0,g=h.rendering,g===null)if(u)Rr(h,!1);else{if(rt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(g=Ro(n),g!==null){for(s.flags|=128,Rr(h,!1),n=g.updateQueue,s.updateQueue=n,zo(s,n),s.subtreeFlags=0,n=l,l=s.child;l!==null;)Eg(l,n),l=l.sibling;return ee(_t,_t.current&1|2),s.child}n=n.sibling}h.tail!==null&&dn()>qo&&(s.flags|=128,u=!0,Rr(h,!1),s.lanes=4194304)}else{if(!u)if(n=Ro(g),n!==null){if(s.flags|=128,u=!0,n=n.updateQueue,s.updateQueue=n,zo(s,n),Rr(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!Oe)return tt(s),null}else 2*dn()-h.renderingStartTime>qo&&l!==536870912&&(s.flags|=128,u=!0,Rr(h,!1),s.lanes=4194304);h.isBackwards?(g.sibling=s.child,s.child=g):(n=h.last,n!==null?n.sibling=g:s.child=g,h.last=g)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=dn(),s.sibling=null,n=_t.current,ee(_t,u?n&1|2:n&1),s):(tt(s),null);case 22:case 23:return ci(s),cf(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(tt(s),s.subtreeFlags&6&&(s.flags|=8192)):tt(s),l=s.updateQueue,l!==null&&zo(s,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),n!==null&&se(ba),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),li(yt),tt(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function PA(n,s){switch(Xu(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return li(yt),Ht(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Fa(s),null;case 13:if(ci(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(a(340));_r()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return se(_t),null;case 4:return Ht(),null;case 10:return li(s.type),null;case 22:case 23:return ci(s),cf(),n!==null&&se(ba),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return li(yt),null;case 25:return null;default:return null}}function n0(n,s){switch(Xu(s),s.tag){case 3:li(yt),Ht();break;case 26:case 27:case 5:Fa(s);break;case 4:Ht();break;case 13:ci(s);break;case 19:se(_t);break;case 10:li(s.type);break;case 22:case 23:ci(s),cf(),n!==null&&se(ba);break;case 24:li(yt)}}function Lr(n,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var h=u.next;l=h;do{if((l.tag&n)===n){u=void 0;var g=l.create,b=l.inst;u=g(),b.destroy=u}l=l.next}while(l!==h)}}catch(S){He(s,s.return,S)}}function Vi(n,s,l){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&n)===n){var b=u.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,h=s;var j=l,$=S;try{$()}catch(Z){He(h,j,Z)}}}u=u.next}while(u!==g)}}catch(Z){He(s,s.return,Z)}}function i0(n){var s=n.updateQueue;if(s!==null){var l=n.stateNode;try{Gg(s,l)}catch(u){He(n,n.return,u)}}}function a0(n,s,l){l.props=Sa(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(u){He(n,s,u)}}function Vr(n,s){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof l=="function"?n.refCleanup=l(u):l.current=u}}catch(h){He(n,s,h)}}function Zn(n,s){var l=n.ref,u=n.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(h){He(n,s,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(h){He(n,s,h)}else l.current=null}function s0(n){var s=n.type,l=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(h){He(n,n.return,h)}}function $f(n,s,l){try{var u=n.stateNode;sw(u,n.type,l,s),u[Gt]=s}catch(h){He(n,n.return,h)}}function r0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Gi(n.type)||n.tag===4}function Pf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||r0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Gi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function zf(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(n),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Qo));else if(u!==4&&(u===27&&Gi(n.type)&&(l=n.stateNode,s=null),n=n.child,n!==null))for(zf(n,s,l),n=n.sibling;n!==null;)zf(n,s,l),n=n.sibling}function Bo(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(u!==4&&(u===27&&Gi(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(Bo(n,s,l),n=n.sibling;n!==null;)Bo(n,s,l),n=n.sibling}function l0(n){var s=n.stateNode,l=n.memoizedProps;try{for(var u=n.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);wt(s,u,l),s[kt]=n,s[Gt]=l}catch(g){He(n,n.return,g)}}var di=!1,ut=!1,Bf=!1,o0=typeof WeakSet=="function"?WeakSet:Set,xt=null;function zA(n,s){if(n=n.containerInfo,ud=ac,n=vg(n),$u(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var h=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var b=0,S=-1,j=-1,$=0,Z=0,I=n,P=null;t:for(;;){for(var z;I!==l||h!==0&&I.nodeType!==3||(S=b+h),I!==g||u!==0&&I.nodeType!==3||(j=b+u),I.nodeType===3&&(b+=I.nodeValue.length),(z=I.firstChild)!==null;)P=I,I=z;for(;;){if(I===n)break t;if(P===l&&++$===h&&(S=b),P===g&&++Z===u&&(j=b),(z=I.nextSibling)!==null)break;I=P,P=I.parentNode}I=z}l=S===-1||j===-1?null:{start:S,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(fd={focusedElem:n,selectionRange:l},ac=!1,xt=s;xt!==null;)if(s=xt,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,xt=n;else for(;xt!==null;){switch(s=xt,g=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,l=s,h=g.memoizedProps,g=g.memoizedState,u=l.stateNode;try{var pe=Sa(l.type,h,l.elementType===l.type);n=u.getSnapshotBeforeUpdate(pe,g),u.__reactInternalSnapshotBeforeUpdate=n}catch(de){He(l,l.return,de)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,l=n.nodeType,l===9)md(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":md(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=s.sibling,n!==null){n.return=s.return,xt=n;break}xt=s.return}}function c0(n,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:$i(n,l),u&4&&Lr(5,l);break;case 1:if($i(n,l),u&4)if(n=l.stateNode,s===null)try{n.componentDidMount()}catch(b){He(l,l.return,b)}else{var h=Sa(l.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(h,s,n.__reactInternalSnapshotBeforeUpdate)}catch(b){He(l,l.return,b)}}u&64&&i0(l),u&512&&Vr(l,l.return);break;case 3:if($i(n,l),u&64&&(n=l.updateQueue,n!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Gg(n,s)}catch(b){He(l,l.return,b)}}break;case 27:s===null&&u&4&&l0(l);case 26:case 5:$i(n,l),s===null&&u&4&&s0(l),u&512&&Vr(l,l.return);break;case 12:$i(n,l);break;case 13:$i(n,l),u&4&&d0(n,l),u&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=XA.bind(null,l),dw(n,l))));break;case 22:if(u=l.memoizedState!==null||di,!u){s=s!==null&&s.memoizedState!==null||ut,h=di;var g=ut;di=u,(ut=s)&&!g?Pi(n,l,(l.subtreeFlags&8772)!==0):$i(n,l),di=h,ut=g}break;case 30:break;default:$i(n,l)}}function u0(n){var s=n.alternate;s!==null&&(n.alternate=null,u0(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&_u(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Je=null,Yt=!1;function hi(n,s,l){for(l=l.child;l!==null;)f0(n,s,l),l=l.sibling}function f0(n,s,l){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(ir,l)}catch{}switch(l.tag){case 26:ut||Zn(l,s),hi(n,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ut||Zn(l,s);var u=Je,h=Yt;Gi(l.type)&&(Je=l.stateNode,Yt=!1),hi(n,s,l),Zr(l.stateNode),Je=u,Yt=h;break;case 5:ut||Zn(l,s);case 6:if(u=Je,h=Yt,Je=null,hi(n,s,l),Je=u,Yt=h,Je!==null)if(Yt)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(l.stateNode)}catch(g){He(l,s,g)}else try{Je.removeChild(l.stateNode)}catch(g){He(l,s,g)}break;case 18:Je!==null&&(Yt?(n=Je,J0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),Jr(n)):J0(Je,l.stateNode));break;case 4:u=Je,h=Yt,Je=l.stateNode.containerInfo,Yt=!0,hi(n,s,l),Je=u,Yt=h;break;case 0:case 11:case 14:case 15:ut||Vi(2,l,s),ut||Vi(4,l,s),hi(n,s,l);break;case 1:ut||(Zn(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&a0(l,s,u)),hi(n,s,l);break;case 21:hi(n,s,l);break;case 22:ut=(u=ut)||l.memoizedState!==null,hi(n,s,l),ut=u;break;default:hi(n,s,l)}}function d0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Jr(n)}catch(l){He(s,s.return,l)}}function BA(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new o0),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new o0),s;default:throw Error(a(435,n.tag))}}function Uf(n,s){var l=BA(n);s.forEach(function(u){var h=IA.bind(null,n,u);l.has(u)||(l.add(u),u.then(h,h))})}function tn(n,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var h=l[u],g=n,b=s,S=b;e:for(;S!==null;){switch(S.tag){case 27:if(Gi(S.type)){Je=S.stateNode,Yt=!1;break e}break;case 5:Je=S.stateNode,Yt=!1;break e;case 3:case 4:Je=S.stateNode.containerInfo,Yt=!0;break e}S=S.return}if(Je===null)throw Error(a(160));f0(g,b,h),Je=null,Yt=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)h0(s,n),s=s.sibling}var Rn=null;function h0(n,s){var l=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:tn(s,n),nn(n),u&4&&(Vi(3,n,n.return),Lr(3,n),Vi(5,n,n.return));break;case 1:tn(s,n),nn(n),u&512&&(ut||l===null||Zn(l,l.return)),u&64&&di&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var h=Rn;if(tn(s,n),nn(n),u&512&&(ut||l===null||Zn(l,l.return)),u&4){var g=l!==null?l.memoizedState:null;if(u=n.memoizedState,l===null)if(u===null)if(n.stateNode===null){e:{u=n.type,l=n.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":g=h.getElementsByTagName("title")[0],(!g||g[rr]||g[kt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(u),h.head.insertBefore(g,h.querySelector("head > title"))),wt(g,u,l),g[kt]=n,vt(g),u=g;break e;case"link":var b=l_("link","href",h).get(u+(l.href||""));if(b){for(var S=0;S<b.length;S++)if(g=b[S],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(S,1);break t}}g=h.createElement(u),wt(g,u,l),h.head.appendChild(g);break;case"meta":if(b=l_("meta","content",h).get(u+(l.content||""))){for(S=0;S<b.length;S++)if(g=b[S],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(S,1);break t}}g=h.createElement(u),wt(g,u,l),h.head.appendChild(g);break;default:throw Error(a(468,u))}g[kt]=n,vt(g),u=g}n.stateNode=u}else o_(h,n.type,n.stateNode);else n.stateNode=r_(h,u,n.memoizedProps);else g!==u?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,u===null?o_(h,n.type,n.stateNode):r_(h,u,n.memoizedProps)):u===null&&n.stateNode!==null&&$f(n,n.memoizedProps,l.memoizedProps)}break;case 27:tn(s,n),nn(n),u&512&&(ut||l===null||Zn(l,l.return)),l!==null&&u&4&&$f(n,n.memoizedProps,l.memoizedProps);break;case 5:if(tn(s,n),nn(n),u&512&&(ut||l===null||Zn(l,l.return)),n.flags&32){h=n.stateNode;try{ts(h,"")}catch(z){He(n,n.return,z)}}u&4&&n.stateNode!=null&&(h=n.memoizedProps,$f(n,h,l!==null?l.memoizedProps:h)),u&1024&&(Bf=!0);break;case 6:if(tn(s,n),nn(n),u&4){if(n.stateNode===null)throw Error(a(162));u=n.memoizedProps,l=n.stateNode;try{l.nodeValue=u}catch(z){He(n,n.return,z)}}break;case 3:if(tc=null,h=Rn,Rn=Jo(s.containerInfo),tn(s,n),Rn=h,nn(n),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Jr(s.containerInfo)}catch(z){He(n,n.return,z)}Bf&&(Bf=!1,m0(n));break;case 4:u=Rn,Rn=Jo(n.stateNode.containerInfo),tn(s,n),nn(n),Rn=u;break;case 12:tn(s,n),nn(n);break;case 13:tn(s,n),nn(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Yf=dn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Uf(n,u)));break;case 22:h=n.memoizedState!==null;var j=l!==null&&l.memoizedState!==null,$=di,Z=ut;if(di=$||h,ut=Z||j,tn(s,n),ut=Z,di=$,nn(n),u&8192)e:for(s=n.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(l===null||j||di||ut||Ta(n)),l=null,s=n;;){if(s.tag===5||s.tag===26){if(l===null){j=l=s;try{if(g=j.stateNode,h)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=j.stateNode;var I=j.memoizedProps.style,P=I!=null&&I.hasOwnProperty("display")?I.display:null;S.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(z){He(j,j.return,z)}}}else if(s.tag===6){if(l===null){j=s;try{j.stateNode.nodeValue=h?"":j.memoizedProps}catch(z){He(j,j.return,z)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Uf(n,l))));break;case 19:tn(s,n),nn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Uf(n,u)));break;case 30:break;case 21:break;default:tn(s,n),nn(n)}}function nn(n){var s=n.flags;if(s&2){try{for(var l,u=n.return;u!==null;){if(r0(u)){l=u;break}u=u.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var h=l.stateNode,g=Pf(n);Bo(n,g,h);break;case 5:var b=l.stateNode;l.flags&32&&(ts(b,""),l.flags&=-33);var S=Pf(n);Bo(n,S,b);break;case 3:case 4:var j=l.stateNode.containerInfo,$=Pf(n);zf(n,$,j);break;default:throw Error(a(161))}}catch(Z){He(n,n.return,Z)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function m0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;m0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function $i(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)c0(n,s.alternate,s),s=s.sibling}function Ta(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Vi(4,s,s.return),Ta(s);break;case 1:Zn(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&a0(s,s.return,l),Ta(s);break;case 27:Zr(s.stateNode);case 26:case 5:Zn(s,s.return),Ta(s);break;case 22:s.memoizedState===null&&Ta(s);break;case 30:Ta(s);break;default:Ta(s)}n=n.sibling}}function Pi(n,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,h=n,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:Pi(h,g,l),Lr(4,g);break;case 1:if(Pi(h,g,l),u=g,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch($){He(u,u.return,$)}if(u=g,h=u.updateQueue,h!==null){var S=u.stateNode;try{var j=h.shared.hiddenCallbacks;if(j!==null)for(h.shared.hiddenCallbacks=null,h=0;h<j.length;h++)Hg(j[h],S)}catch($){He(u,u.return,$)}}l&&b&64&&i0(g),Vr(g,g.return);break;case 27:l0(g);case 26:case 5:Pi(h,g,l),l&&u===null&&b&4&&s0(g),Vr(g,g.return);break;case 12:Pi(h,g,l);break;case 13:Pi(h,g,l),l&&b&4&&d0(h,g);break;case 22:g.memoizedState===null&&Pi(h,g,l),Vr(g,g.return);break;case 30:break;default:Pi(h,g,l)}s=s.sibling}}function qf(n,s){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&xr(l))}function Hf(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&xr(n))}function Fn(n,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)p0(n,s,l,u),s=s.sibling}function p0(n,s,l,u){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Fn(n,s,l,u),h&2048&&Lr(9,s);break;case 1:Fn(n,s,l,u);break;case 3:Fn(n,s,l,u),h&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&xr(n)));break;case 12:if(h&2048){Fn(n,s,l,u),n=s.stateNode;try{var g=s.memoizedProps,b=g.id,S=g.onPostCommit;typeof S=="function"&&S(b,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(j){He(s,s.return,j)}}else Fn(n,s,l,u);break;case 13:Fn(n,s,l,u);break;case 23:break;case 22:g=s.stateNode,b=s.alternate,s.memoizedState!==null?g._visibility&2?Fn(n,s,l,u):$r(n,s):g._visibility&2?Fn(n,s,l,u):(g._visibility|=2,bs(n,s,l,u,(s.subtreeFlags&10256)!==0)),h&2048&&qf(b,s);break;case 24:Fn(n,s,l,u),h&2048&&Hf(s.alternate,s);break;default:Fn(n,s,l,u)}}function bs(n,s,l,u,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=n,b=s,S=l,j=u,$=b.flags;switch(b.tag){case 0:case 11:case 15:bs(g,b,S,j,h),Lr(8,b);break;case 23:break;case 22:var Z=b.stateNode;b.memoizedState!==null?Z._visibility&2?bs(g,b,S,j,h):$r(g,b):(Z._visibility|=2,bs(g,b,S,j,h)),h&&$&2048&&qf(b.alternate,b);break;case 24:bs(g,b,S,j,h),h&&$&2048&&Hf(b.alternate,b);break;default:bs(g,b,S,j,h)}s=s.sibling}}function $r(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=n,u=s,h=u.flags;switch(u.tag){case 22:$r(l,u),h&2048&&qf(u.alternate,u);break;case 24:$r(l,u),h&2048&&Hf(u.alternate,u);break;default:$r(l,u)}s=s.sibling}}var Pr=8192;function xs(n){if(n.subtreeFlags&Pr)for(n=n.child;n!==null;)g0(n),n=n.sibling}function g0(n){switch(n.tag){case 26:xs(n),n.flags&Pr&&n.memoizedState!==null&&Aw(Rn,n.memoizedState,n.memoizedProps);break;case 5:xs(n);break;case 3:case 4:var s=Rn;Rn=Jo(n.stateNode.containerInfo),xs(n),Rn=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=Pr,Pr=16777216,xs(n),Pr=s):xs(n));break;default:xs(n)}}function y0(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function zr(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];xt=u,v0(u,n)}y0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)_0(n),n=n.sibling}function _0(n){switch(n.tag){case 0:case 11:case 15:zr(n),n.flags&2048&&Vi(9,n,n.return);break;case 3:zr(n);break;case 12:zr(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Uo(n)):zr(n);break;default:zr(n)}}function Uo(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];xt=u,v0(u,n)}y0(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Vi(8,s,s.return),Uo(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Uo(s));break;default:Uo(s)}n=n.sibling}}function v0(n,s){for(;xt!==null;){var l=xt;switch(l.tag){case 0:case 11:case 15:Vi(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:xr(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,xt=u;else e:for(l=n;xt!==null;){u=xt;var h=u.sibling,g=u.return;if(u0(u),u===l){xt=null;break e}if(h!==null){h.return=g,xt=h;break e}xt=g}}}var UA={getCacheForType:function(n){var s=Ct(yt),l=s.data.get(n);return l===void 0&&(l=n(),s.data.set(n,l)),l}},qA=typeof WeakMap=="function"?WeakMap:Map,Le=0,Fe=null,Ae=null,De=0,Ve=0,an=null,zi=!1,Ss=!1,Gf=!1,mi=0,rt=0,Bi=0,Ma=0,Zf=0,bn=0,Ts=0,Br=null,Xt=null,Ff=!1,Yf=0,qo=1/0,Ho=null,Ui=null,At=0,qi=null,Ms=null,As=0,Xf=0,If=null,b0=null,Ur=0,Kf=null;function sn(){if((Le&2)!==0&&De!==0)return De&-De;if(H.T!==null){var n=ds;return n!==0?n:id()}return Vp()}function x0(){bn===0&&(bn=(De&536870912)===0||Oe?Op():536870912);var n=vn.current;return n!==null&&(n.flags|=32),bn}function rn(n,s,l){(n===Fe&&(Ve===2||Ve===9)||n.cancelPendingCommit!==null)&&(ws(n,0),Hi(n,De,bn,!1)),sr(n,l),((Le&2)===0||n!==Fe)&&(n===Fe&&((Le&2)===0&&(Ma|=l),rt===4&&Hi(n,De,bn,!1)),Yn(n))}function S0(n,s,l){if((Le&6)!==0)throw Error(a(327));var u=!l&&(s&124)===0&&(s&n.expiredLanes)===0||ar(n,s),h=u?ZA(n,s):Jf(n,s,!0),g=u;do{if(h===0){Ss&&!u&&Hi(n,s,0,!1);break}else{if(l=n.current.alternate,g&&!HA(l)){h=Jf(n,s,!1),g=!1;continue}if(h===2){if(g=s,n.errorRecoveryDisabledLanes&g)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var S=n;h=Br;var j=S.current.memoizedState.isDehydrated;if(j&&(ws(S,b).flags|=256),b=Jf(S,b,!1),b!==2){if(Gf&&!j){S.errorRecoveryDisabledLanes|=g,Ma|=g,h=4;break e}g=Xt,Xt=h,g!==null&&(Xt===null?Xt=g:Xt.push.apply(Xt,g))}h=b}if(g=!1,h!==2)continue}}if(h===1){ws(n,0),Hi(n,s,0,!0);break}e:{switch(u=n,g=h,g){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:Hi(u,s,bn,!zi);break e;case 2:Xt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(h=Yf+300-dn(),10<h)){if(Hi(u,s,bn,!zi),Jl(u,0,!0)!==0)break e;u.timeoutHandle=Q0(T0.bind(null,u,l,Xt,Ho,Ff,s,bn,Ma,Ts,zi,g,2,-0,0),h);break e}T0(u,l,Xt,Ho,Ff,s,bn,Ma,Ts,zi,g,0,-0,0)}}break}while(!0);Yn(n)}function T0(n,s,l,u,h,g,b,S,j,$,Z,I,P,z){if(n.timeoutHandle=-1,I=s.subtreeFlags,(I&8192||(I&16785408)===16785408)&&(Xr={stylesheets:null,count:0,unsuspend:Mw},g0(s),I=ww(),I!==null)){n.cancelPendingCommit=I(k0.bind(null,n,s,g,l,u,h,b,S,j,Z,1,P,z)),Hi(n,g,b,!$);return}k0(n,s,g,l,u,h,b,S,j)}function HA(n){for(var s=n;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var h=l[u],g=h.getSnapshot;h=h.value;try{if(!Jt(g(),h))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Hi(n,s,l,u){s&=~Zf,s&=~Ma,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var h=s;0<h;){var g=31-Wt(h),b=1<<g;u[g]=-1,h&=~b}l!==0&&Rp(n,l,s)}function Go(){return(Le&6)===0?(qr(0),!1):!0}function Qf(){if(Ae!==null){if(Ve===0)var n=Ae.return;else n=Ae,ri=_a=null,mf(n),_s=null,Or=0,n=Ae;for(;n!==null;)n0(n.alternate,n),n=n.return;Ae=null}}function ws(n,s){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,lw(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),Qf(),Fe=n,Ae=l=ii(n.current,null),De=s,Ve=0,an=null,zi=!1,Ss=ar(n,s),Gf=!1,Ts=bn=Zf=Ma=Bi=rt=0,Xt=Br=null,Ff=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var h=31-Wt(u),g=1<<h;s|=n[h],u&=~g}return mi=s,fo(),l}function M0(n,s){Se=null,H.H=Co,s===Tr||s===xo?(s=Ug(),Ve=3):s===Pg?(s=Ug(),Ve=4):Ve=s===qy?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,an=s,Ae===null&&(rt=1,Vo(n,pn(s,n.current)))}function A0(){var n=H.H;return H.H=Co,n===null?Co:n}function w0(){var n=H.A;return H.A=UA,n}function Wf(){rt=4,zi||(De&4194048)!==De&&vn.current!==null||(Ss=!0),(Bi&134217727)===0&&(Ma&134217727)===0||Fe===null||Hi(Fe,De,bn,!1)}function Jf(n,s,l){var u=Le;Le|=2;var h=A0(),g=w0();(Fe!==n||De!==s)&&(Ho=null,ws(n,s)),s=!1;var b=rt;e:do try{if(Ve!==0&&Ae!==null){var S=Ae,j=an;switch(Ve){case 8:Qf(),b=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(s=!0);var $=Ve;if(Ve=0,an=null,js(n,S,j,$),l&&Ss){b=0;break e}break;default:$=Ve,Ve=0,an=null,js(n,S,j,$)}}GA(),b=rt;break}catch(Z){M0(n,Z)}while(!0);return s&&n.shellSuspendCounter++,ri=_a=null,Le=u,H.H=h,H.A=g,Ae===null&&(Fe=null,De=0,fo()),b}function GA(){for(;Ae!==null;)j0(Ae)}function ZA(n,s){var l=Le;Le|=2;var u=A0(),h=w0();Fe!==n||De!==s?(Ho=null,qo=dn()+500,ws(n,s)):Ss=ar(n,s);e:do try{if(Ve!==0&&Ae!==null){s=Ae;var g=an;t:switch(Ve){case 1:Ve=0,an=null,js(n,s,g,1);break;case 2:case 9:if(zg(g)){Ve=0,an=null,D0(s);break}s=function(){Ve!==2&&Ve!==9||Fe!==n||(Ve=7),Yn(n)},g.then(s,s);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:zg(g)?(Ve=0,an=null,D0(s)):(Ve=0,an=null,js(n,s,g,7));break;case 5:var b=null;switch(Ae.tag){case 26:b=Ae.memoizedState;case 5:case 27:var S=Ae;if(!b||c_(b)){Ve=0,an=null;var j=S.sibling;if(j!==null)Ae=j;else{var $=S.return;$!==null?(Ae=$,Zo($)):Ae=null}break t}}Ve=0,an=null,js(n,s,g,5);break;case 6:Ve=0,an=null,js(n,s,g,6);break;case 8:Qf(),rt=6;break e;default:throw Error(a(462))}}FA();break}catch(Z){M0(n,Z)}while(!0);return ri=_a=null,H.H=u,H.A=h,Le=l,Ae!==null?0:(Fe=null,De=0,fo(),rt)}function FA(){for(;Ae!==null&&!du();)j0(Ae)}function j0(n){var s=e0(n.alternate,n,mi);n.memoizedProps=n.pendingProps,s===null?Zo(n):Ae=s}function D0(n){var s=n,l=s.alternate;switch(s.tag){case 15:case 0:s=Xy(l,s,s.pendingProps,s.type,void 0,De);break;case 11:s=Xy(l,s,s.pendingProps,s.type.render,s.ref,De);break;case 5:mf(s);default:n0(l,s),s=Ae=Eg(s,mi),s=e0(l,s,mi)}n.memoizedProps=n.pendingProps,s===null?Zo(n):Ae=s}function js(n,s,l,u){ri=_a=null,mf(s),_s=null,Or=0;var h=s.return;try{if(LA(n,h,s,l,De)){rt=1,Vo(n,pn(l,n.current)),Ae=null;return}}catch(g){if(h!==null)throw Ae=h,g;rt=1,Vo(n,pn(l,n.current)),Ae=null;return}s.flags&32768?(Oe||u===1?n=!0:Ss||(De&536870912)!==0?n=!1:(zi=n=!0,(u===2||u===9||u===3||u===6)&&(u=vn.current,u!==null&&u.tag===13&&(u.flags|=16384))),E0(s,n)):Zo(s)}function Zo(n){var s=n;do{if((s.flags&32768)!==0){E0(s,zi);return}n=s.return;var l=$A(s.alternate,s,mi);if(l!==null){Ae=l;return}if(s=s.sibling,s!==null){Ae=s;return}Ae=s=n}while(s!==null);rt===0&&(rt=5)}function E0(n,s){do{var l=PA(n.alternate,n);if(l!==null){l.flags&=32767,Ae=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(n=n.sibling,n!==null)){Ae=n;return}Ae=n=l}while(n!==null);rt=6,Ae=null}function k0(n,s,l,u,h,g,b,S,j){n.cancelPendingCommit=null;do Fo();while(At!==0);if((Le&6)!==0)throw Error(a(327));if(s!==null){if(s===n.current)throw Error(a(177));if(g=s.lanes|s.childLanes,g|=qu,MM(n,l,g,b,S,j),n===Fe&&(Ae=Fe=null,De=0),Ms=s,qi=n,As=l,Xf=g,If=h,b0=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,KA(Kl,function(){return L0(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=H.T,H.T=null,h=G.p,G.p=2,b=Le,Le|=4;try{zA(n,s,l)}finally{Le=b,G.p=h,H.T=u}}At=1,C0(),O0(),N0()}}function C0(){if(At===1){At=0;var n=qi,s=Ms,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=H.T,H.T=null;var u=G.p;G.p=2;var h=Le;Le|=4;try{h0(s,n);var g=fd,b=vg(n.containerInfo),S=g.focusedElem,j=g.selectionRange;if(b!==S&&S&&S.ownerDocument&&_g(S.ownerDocument.documentElement,S)){if(j!==null&&$u(S)){var $=j.start,Z=j.end;if(Z===void 0&&(Z=$),"selectionStart"in S)S.selectionStart=$,S.selectionEnd=Math.min(Z,S.value.length);else{var I=S.ownerDocument||document,P=I&&I.defaultView||window;if(P.getSelection){var z=P.getSelection(),pe=S.textContent.length,de=Math.min(j.start,pe),ze=j.end===void 0?de:Math.min(j.end,pe);!z.extend&&de>ze&&(b=ze,ze=de,de=b);var O=yg(S,de),k=yg(S,ze);if(O&&k&&(z.rangeCount!==1||z.anchorNode!==O.node||z.anchorOffset!==O.offset||z.focusNode!==k.node||z.focusOffset!==k.offset)){var V=I.createRange();V.setStart(O.node,O.offset),z.removeAllRanges(),de>ze?(z.addRange(V),z.extend(k.node,k.offset)):(V.setEnd(k.node,k.offset),z.addRange(V))}}}}for(I=[],z=S;z=z.parentNode;)z.nodeType===1&&I.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<I.length;S++){var X=I[S];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}ac=!!ud,fd=ud=null}finally{Le=h,G.p=u,H.T=l}}n.current=s,At=2}}function O0(){if(At===2){At=0;var n=qi,s=Ms,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=H.T,H.T=null;var u=G.p;G.p=2;var h=Le;Le|=4;try{c0(n,s.alternate,s)}finally{Le=h,G.p=u,H.T=l}}At=3}}function N0(){if(At===4||At===3){At=0,hu();var n=qi,s=Ms,l=As,u=b0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?At=5:(At=0,Ms=qi=null,R0(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(Ui=null),gu(l),s=s.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(ir,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=H.T,h=G.p,G.p=2,H.T=null;try{for(var g=n.onRecoverableError,b=0;b<u.length;b++){var S=u[b];g(S.value,{componentStack:S.stack})}}finally{H.T=s,G.p=h}}(As&3)!==0&&Fo(),Yn(n),h=n.pendingLanes,(l&4194090)!==0&&(h&42)!==0?n===Kf?Ur++:(Ur=0,Kf=n):Ur=0,qr(0)}}function R0(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,xr(s)))}function Fo(n){return C0(),O0(),N0(),L0()}function L0(){if(At!==5)return!1;var n=qi,s=Xf;Xf=0;var l=gu(As),u=H.T,h=G.p;try{G.p=32>l?32:l,H.T=null,l=If,If=null;var g=qi,b=As;if(At=0,Ms=qi=null,As=0,(Le&6)!==0)throw Error(a(331));var S=Le;if(Le|=4,_0(g.current),p0(g,g.current,b,l),Le=S,qr(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(ir,g)}catch{}return!0}finally{G.p=h,H.T=u,R0(n,s)}}function V0(n,s,l){s=pn(l,s),s=Df(n.stateNode,s,2),n=Oi(n,s,2),n!==null&&(sr(n,2),Yn(n))}function He(n,s,l){if(n.tag===3)V0(n,n,l);else for(;s!==null;){if(s.tag===3){V0(s,n,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ui===null||!Ui.has(u))){n=pn(l,n),l=By(2),u=Oi(s,l,2),u!==null&&(Uy(l,u,s,n),sr(u,2),Yn(u));break}}s=s.return}}function ed(n,s,l){var u=n.pingCache;if(u===null){u=n.pingCache=new qA;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(l)||(Gf=!0,h.add(l),n=YA.bind(null,n,s,l),s.then(n,n))}function YA(n,s,l){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Fe===n&&(De&l)===l&&(rt===4||rt===3&&(De&62914560)===De&&300>dn()-Yf?(Le&2)===0&&ws(n,0):Zf|=l,Ts===De&&(Ts=0)),Yn(n)}function $0(n,s){s===0&&(s=Np()),n=os(n,s),n!==null&&(sr(n,s),Yn(n))}function XA(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),$0(n,l)}function IA(n,s){var l=0;switch(n.tag){case 13:var u=n.stateNode,h=n.memoizedState;h!==null&&(l=h.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(s),$0(n,l)}function KA(n,s){return Ya(n,s)}var Yo=null,Ds=null,td=!1,Xo=!1,nd=!1,Aa=0;function Yn(n){n!==Ds&&n.next===null&&(Ds===null?Yo=Ds=n:Ds=Ds.next=n),Xo=!0,td||(td=!0,WA())}function qr(n,s){if(!nd&&Xo){nd=!0;do for(var l=!1,u=Yo;u!==null;){if(n!==0){var h=u.pendingLanes;if(h===0)var g=0;else{var b=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-Wt(42|n)+1)-1,g&=h&~(b&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,U0(u,g))}else g=De,g=Jl(u,u===Fe?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ar(u,g)||(l=!0,U0(u,g));u=u.next}while(l);nd=!1}}function QA(){P0()}function P0(){Xo=td=!1;var n=0;Aa!==0&&(rw()&&(n=Aa),Aa=0);for(var s=dn(),l=null,u=Yo;u!==null;){var h=u.next,g=z0(u,s);g===0?(u.next=null,l===null?Yo=h:l.next=h,h===null&&(Ds=l)):(l=u,(n!==0||(g&3)!==0)&&(Xo=!0)),u=h}qr(n)}function z0(n,s){for(var l=n.suspendedLanes,u=n.pingedLanes,h=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var b=31-Wt(g),S=1<<b,j=h[b];j===-1?((S&l)===0||(S&u)!==0)&&(h[b]=TM(S,s)):j<=s&&(n.expiredLanes|=S),g&=~S}if(s=Fe,l=De,l=Jl(n,n===s?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,l===0||n===s&&(Ve===2||Ve===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&la(u),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||ar(n,l)){if(s=l&-l,s===n.callbackPriority)return s;switch(u!==null&&la(u),gu(l)){case 2:case 8:l=nr;break;case 32:l=Kl;break;case 268435456:l=Cp;break;default:l=Kl}return u=B0.bind(null,n),l=Ya(l,u),n.callbackPriority=s,n.callbackNode=l,s}return u!==null&&u!==null&&la(u),n.callbackPriority=2,n.callbackNode=null,2}function B0(n,s){if(At!==0&&At!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(Fo()&&n.callbackNode!==l)return null;var u=De;return u=Jl(n,n===Fe?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(S0(n,u,s),z0(n,dn()),n.callbackNode!=null&&n.callbackNode===l?B0.bind(null,n):null)}function U0(n,s){if(Fo())return null;S0(n,s,!0)}function WA(){ow(function(){(Le&6)!==0?Ya(Ze,QA):P0()})}function id(){return Aa===0&&(Aa=Op()),Aa}function q0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ao(""+n)}function H0(n,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,n.id&&l.setAttribute("form",n.id),s.parentNode.insertBefore(l,s),n=new FormData(n),l.parentNode.removeChild(l),n}function JA(n,s,l,u,h){if(s==="submit"&&l&&l.stateNode===h){var g=q0((h[Gt]||null).action),b=u.submitter;b&&(s=(s=b[Gt]||null)?q0(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var S=new oo("action","action",null,u,h);n.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Aa!==0){var j=b?H0(h,b):new FormData(h);Tf(l,{pending:!0,data:j,method:h.method,action:g},null,j)}}else typeof g=="function"&&(S.preventDefault(),j=b?H0(h,b):new FormData(h),Tf(l,{pending:!0,data:j,method:h.method,action:g},g,j))},currentTarget:h}]})}}for(var ad=0;ad<Uu.length;ad++){var sd=Uu[ad],ew=sd.toLowerCase(),tw=sd[0].toUpperCase()+sd.slice(1);Nn(ew,"on"+tw)}Nn(Sg,"onAnimationEnd"),Nn(Tg,"onAnimationIteration"),Nn(Mg,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(_A,"onTransitionRun"),Nn(vA,"onTransitionStart"),Nn(bA,"onTransitionCancel"),Nn(Ag,"onTransitionEnd"),Wa("onMouseEnter",["mouseout","mouseover"]),Wa("onMouseLeave",["mouseout","mouseover"]),Wa("onPointerEnter",["pointerout","pointerover"]),Wa("onPointerLeave",["pointerout","pointerover"]),ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ca("onBeforeInput",["compositionend","keypress","textInput","paste"]),ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hr));function G0(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var u=n[l],h=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var b=u.length-1;0<=b;b--){var S=u[b],j=S.instance,$=S.currentTarget;if(S=S.listener,j!==g&&h.isPropagationStopped())break e;g=S,h.currentTarget=$;try{g(h)}catch(Z){Lo(Z)}h.currentTarget=null,g=j}else for(b=0;b<u.length;b++){if(S=u[b],j=S.instance,$=S.currentTarget,S=S.listener,j!==g&&h.isPropagationStopped())break e;g=S,h.currentTarget=$;try{g(h)}catch(Z){Lo(Z)}h.currentTarget=null,g=j}}}}function we(n,s){var l=s[yu];l===void 0&&(l=s[yu]=new Set);var u=n+"__bubble";l.has(u)||(Z0(s,n,2,!1),l.add(u))}function rd(n,s,l){var u=0;s&&(u|=4),Z0(l,n,u,s)}var Io="_reactListening"+Math.random().toString(36).slice(2);function ld(n){if(!n[Io]){n[Io]=!0,Pp.forEach(function(l){l!=="selectionchange"&&(nw.has(l)||rd(l,!1,n),rd(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Io]||(s[Io]=!0,rd("selectionchange",!1,s))}}function Z0(n,s,l,u){switch(p_(s)){case 2:var h=Ew;break;case 8:h=kw;break;default:h=xd}l=h.bind(null,s,l,n),h=void 0,!Du||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?n.addEventListener(s,l,{capture:!0,passive:h}):n.addEventListener(s,l,!0):h!==void 0?n.addEventListener(s,l,{passive:h}):n.addEventListener(s,l,!1)}function od(n,s,l,u,h){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var S=u.stateNode.containerInfo;if(S===h)break;if(b===4)for(b=u.return;b!==null;){var j=b.tag;if((j===3||j===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;S!==null;){if(b=Ia(S),b===null)return;if(j=b.tag,j===5||j===6||j===26||j===27){u=g=b;continue e}S=S.parentNode}}u=u.return}Wp(function(){var $=g,Z=wu(l),I=[];e:{var P=wg.get(n);if(P!==void 0){var z=oo,pe=n;switch(n){case"keypress":if(ro(l)===0)break e;case"keydown":case"keyup":z=KM;break;case"focusin":pe="focus",z=Ou;break;case"focusout":pe="blur",z=Ou;break;case"beforeblur":case"afterblur":z=Ou;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=tg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=PM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=JM;break;case Sg:case Tg:case Mg:z=UM;break;case Ag:z=tA;break;case"scroll":case"scrollend":z=VM;break;case"wheel":z=iA;break;case"copy":case"cut":case"paste":z=HM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=ig;break;case"toggle":case"beforetoggle":z=sA}var de=(s&4)!==0,ze=!de&&(n==="scroll"||n==="scrollend"),O=de?P!==null?P+"Capture":null:P;de=[];for(var k=$,V;k!==null;){var X=k;if(V=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||V===null||O===null||(X=or(k,O),X!=null&&de.push(Gr(k,X,V))),ze)break;k=k.return}0<de.length&&(P=new z(P,pe,null,l,Z),I.push({event:P,listeners:de}))}}if((s&7)===0){e:{if(P=n==="mouseover"||n==="pointerover",z=n==="mouseout"||n==="pointerout",P&&l!==Au&&(pe=l.relatedTarget||l.fromElement)&&(Ia(pe)||pe[Xa]))break e;if((z||P)&&(P=Z.window===Z?Z:(P=Z.ownerDocument)?P.defaultView||P.parentWindow:window,z?(pe=l.relatedTarget||l.toElement,z=$,pe=pe?Ia(pe):null,pe!==null&&(ze=c(pe),de=pe.tag,pe!==ze||de!==5&&de!==27&&de!==6)&&(pe=null)):(z=null,pe=$),z!==pe)){if(de=tg,X="onMouseLeave",O="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(de=ig,X="onPointerLeave",O="onPointerEnter",k="pointer"),ze=z==null?P:lr(z),V=pe==null?P:lr(pe),P=new de(X,k+"leave",z,l,Z),P.target=ze,P.relatedTarget=V,X=null,Ia(Z)===$&&(de=new de(O,k+"enter",pe,l,Z),de.target=V,de.relatedTarget=ze,X=de),ze=X,z&&pe)t:{for(de=z,O=pe,k=0,V=de;V;V=Es(V))k++;for(V=0,X=O;X;X=Es(X))V++;for(;0<k-V;)de=Es(de),k--;for(;0<V-k;)O=Es(O),V--;for(;k--;){if(de===O||O!==null&&de===O.alternate)break t;de=Es(de),O=Es(O)}de=null}else de=null;z!==null&&F0(I,P,z,de,!1),pe!==null&&ze!==null&&F0(I,ze,pe,de,!0)}}e:{if(P=$?lr($):window,z=P.nodeName&&P.nodeName.toLowerCase(),z==="select"||z==="input"&&P.type==="file")var le=fg;else if(cg(P))if(dg)le=pA;else{le=hA;var Te=dA}else z=P.nodeName,!z||z.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?$&&Mu($.elementType)&&(le=fg):le=mA;if(le&&(le=le(n,$))){ug(I,le,l,Z);break e}Te&&Te(n,P,$),n==="focusout"&&$&&P.type==="number"&&$.memoizedProps.value!=null&&Tu(P,"number",P.value)}switch(Te=$?lr($):window,n){case"focusin":(cg(Te)||Te.contentEditable==="true")&&(ss=Te,Pu=$,gr=null);break;case"focusout":gr=Pu=ss=null;break;case"mousedown":zu=!0;break;case"contextmenu":case"mouseup":case"dragend":zu=!1,bg(I,l,Z);break;case"selectionchange":if(yA)break;case"keydown":case"keyup":bg(I,l,Z)}var ce;if(Ru)e:{switch(n){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else as?lg(n,l)&&(he="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(he="onCompositionStart");he&&(ag&&l.locale!=="ko"&&(as||he!=="onCompositionStart"?he==="onCompositionEnd"&&as&&(ce=Jp()):(Di=Z,Eu="value"in Di?Di.value:Di.textContent,as=!0)),Te=Ko($,he),0<Te.length&&(he=new ng(he,n,null,l,Z),I.push({event:he,listeners:Te}),ce?he.data=ce:(ce=og(l),ce!==null&&(he.data=ce)))),(ce=lA?oA(n,l):cA(n,l))&&(he=Ko($,"onBeforeInput"),0<he.length&&(Te=new ng("onBeforeInput","beforeinput",null,l,Z),I.push({event:Te,listeners:he}),Te.data=ce)),JA(I,n,$,l,Z)}G0(I,s)})}function Gr(n,s,l){return{instance:n,listener:s,currentTarget:l}}function Ko(n,s){for(var l=s+"Capture",u=[];n!==null;){var h=n,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=or(n,l),h!=null&&u.unshift(Gr(n,h,g)),h=or(n,s),h!=null&&u.push(Gr(n,h,g))),n.tag===3)return u;n=n.return}return[]}function Es(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function F0(n,s,l,u,h){for(var g=s._reactName,b=[];l!==null&&l!==u;){var S=l,j=S.alternate,$=S.stateNode;if(S=S.tag,j!==null&&j===u)break;S!==5&&S!==26&&S!==27||$===null||(j=$,h?($=or(l,g),$!=null&&b.unshift(Gr(l,$,j))):h||($=or(l,g),$!=null&&b.push(Gr(l,$,j)))),l=l.return}b.length!==0&&n.push({event:s,listeners:b})}var iw=/\r\n?/g,aw=/\u0000|\uFFFD/g;function Y0(n){return(typeof n=="string"?n:""+n).replace(iw,`
`).replace(aw,"")}function X0(n,s){return s=Y0(s),Y0(n)===s}function Qo(){}function Pe(n,s,l,u,h,g){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||ts(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&ts(n,""+u);break;case"className":to(n,"class",u);break;case"tabIndex":to(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":to(n,l,u);break;case"style":Kp(n,u,g);break;case"data":if(s!=="object"){to(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){n.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=ao(""+u),n.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(s!=="input"&&Pe(n,s,"name",h.name,h,null),Pe(n,s,"formEncType",h.formEncType,h,null),Pe(n,s,"formMethod",h.formMethod,h,null),Pe(n,s,"formTarget",h.formTarget,h,null)):(Pe(n,s,"encType",h.encType,h,null),Pe(n,s,"method",h.method,h,null),Pe(n,s,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=ao(""+u),n.setAttribute(l,u);break;case"onClick":u!=null&&(n.onclick=Qo);break;case"onScroll":u!=null&&we("scroll",n);break;case"onScrollEnd":u!=null&&we("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(l=u.__html,l!=null){if(h.children!=null)throw Error(a(60));n.innerHTML=l}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}l=ao(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""+u):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":u===!0?n.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,u):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(l,u):n.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(l):n.setAttribute(l,u);break;case"popover":we("beforetoggle",n),we("toggle",n),eo(n,"popover",u);break;case"xlinkActuate":ti(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ti(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ti(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ti(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ti(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ti(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ti(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ti(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ti(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":eo(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=RM.get(l)||l,eo(n,l,u))}}function cd(n,s,l,u,h,g){switch(l){case"style":Kp(n,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(l=u.__html,l!=null){if(h.children!=null)throw Error(a(60));n.innerHTML=l}}break;case"children":typeof u=="string"?ts(n,u):(typeof u=="number"||typeof u=="bigint")&&ts(n,""+u);break;case"onScroll":u!=null&&we("scroll",n);break;case"onScrollEnd":u!=null&&we("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Qo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zp.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(h=l.endsWith("Capture"),s=l.slice(2,h?l.length-7:void 0),g=n[Gt]||null,g=g!=null?g[l]:null,typeof g=="function"&&n.removeEventListener(s,g,h),typeof u=="function")){typeof g!="function"&&g!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(s,u,h);break e}l in n?n[l]=u:u===!0?n.setAttribute(l,""):eo(n,l,u)}}}function wt(n,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",n),we("load",n);var u=!1,h=!1,g;for(g in l)if(l.hasOwnProperty(g)){var b=l[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Pe(n,s,g,b,l,null)}}h&&Pe(n,s,"srcSet",l.srcSet,l,null),u&&Pe(n,s,"src",l.src,l,null);return;case"input":we("invalid",n);var S=g=b=h=null,j=null,$=null;for(u in l)if(l.hasOwnProperty(u)){var Z=l[u];if(Z!=null)switch(u){case"name":h=Z;break;case"type":b=Z;break;case"checked":j=Z;break;case"defaultChecked":$=Z;break;case"value":g=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,s));break;default:Pe(n,s,u,Z,l,null)}}Fp(n,g,S,j,$,b,h,!1),no(n);return;case"select":we("invalid",n),u=b=g=null;for(h in l)if(l.hasOwnProperty(h)&&(S=l[h],S!=null))switch(h){case"value":g=S;break;case"defaultValue":b=S;break;case"multiple":u=S;default:Pe(n,s,h,S,l,null)}s=g,l=b,n.multiple=!!u,s!=null?es(n,!!u,s,!1):l!=null&&es(n,!!u,l,!0);return;case"textarea":we("invalid",n),g=h=u=null;for(b in l)if(l.hasOwnProperty(b)&&(S=l[b],S!=null))switch(b){case"value":u=S;break;case"defaultValue":h=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:Pe(n,s,b,S,l,null)}Xp(n,u,h,g),no(n);return;case"option":for(j in l)if(l.hasOwnProperty(j)&&(u=l[j],u!=null))switch(j){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Pe(n,s,j,u,l,null)}return;case"dialog":we("beforetoggle",n),we("toggle",n),we("cancel",n),we("close",n);break;case"iframe":case"object":we("load",n);break;case"video":case"audio":for(u=0;u<Hr.length;u++)we(Hr[u],n);break;case"image":we("error",n),we("load",n);break;case"details":we("toggle",n);break;case"embed":case"source":case"link":we("error",n),we("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in l)if(l.hasOwnProperty($)&&(u=l[$],u!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Pe(n,s,$,u,l,null)}return;default:if(Mu(s)){for(Z in l)l.hasOwnProperty(Z)&&(u=l[Z],u!==void 0&&cd(n,s,Z,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&Pe(n,s,S,u,l,null))}function sw(n,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,b=null,S=null,j=null,$=null,Z=null;for(z in l){var I=l[z];if(l.hasOwnProperty(z)&&I!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":j=I;default:u.hasOwnProperty(z)||Pe(n,s,z,null,u,I)}}for(var P in u){var z=u[P];if(I=l[P],u.hasOwnProperty(P)&&(z!=null||I!=null))switch(P){case"type":g=z;break;case"name":h=z;break;case"checked":$=z;break;case"defaultChecked":Z=z;break;case"value":b=z;break;case"defaultValue":S=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,s));break;default:z!==I&&Pe(n,s,P,z,u,I)}}Su(n,b,S,j,$,Z,g,h);return;case"select":z=b=S=P=null;for(g in l)if(j=l[g],l.hasOwnProperty(g)&&j!=null)switch(g){case"value":break;case"multiple":z=j;default:u.hasOwnProperty(g)||Pe(n,s,g,null,u,j)}for(h in u)if(g=u[h],j=l[h],u.hasOwnProperty(h)&&(g!=null||j!=null))switch(h){case"value":P=g;break;case"defaultValue":S=g;break;case"multiple":b=g;default:g!==j&&Pe(n,s,h,g,u,j)}s=S,l=b,u=z,P!=null?es(n,!!l,P,!1):!!u!=!!l&&(s!=null?es(n,!!l,s,!0):es(n,!!l,l?[]:"",!1));return;case"textarea":z=P=null;for(S in l)if(h=l[S],l.hasOwnProperty(S)&&h!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Pe(n,s,S,null,u,h)}for(b in u)if(h=u[b],g=l[b],u.hasOwnProperty(b)&&(h!=null||g!=null))switch(b){case"value":P=h;break;case"defaultValue":z=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==g&&Pe(n,s,b,h,u,g)}Yp(n,P,z);return;case"option":for(var pe in l)if(P=l[pe],l.hasOwnProperty(pe)&&P!=null&&!u.hasOwnProperty(pe))switch(pe){case"selected":n.selected=!1;break;default:Pe(n,s,pe,null,u,P)}for(j in u)if(P=u[j],z=l[j],u.hasOwnProperty(j)&&P!==z&&(P!=null||z!=null))switch(j){case"selected":n.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Pe(n,s,j,P,u,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in l)P=l[de],l.hasOwnProperty(de)&&P!=null&&!u.hasOwnProperty(de)&&Pe(n,s,de,null,u,P);for($ in u)if(P=u[$],z=l[$],u.hasOwnProperty($)&&P!==z&&(P!=null||z!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,s));break;default:Pe(n,s,$,P,u,z)}return;default:if(Mu(s)){for(var ze in l)P=l[ze],l.hasOwnProperty(ze)&&P!==void 0&&!u.hasOwnProperty(ze)&&cd(n,s,ze,void 0,u,P);for(Z in u)P=u[Z],z=l[Z],!u.hasOwnProperty(Z)||P===z||P===void 0&&z===void 0||cd(n,s,Z,P,u,z);return}}for(var O in l)P=l[O],l.hasOwnProperty(O)&&P!=null&&!u.hasOwnProperty(O)&&Pe(n,s,O,null,u,P);for(I in u)P=u[I],z=l[I],!u.hasOwnProperty(I)||P===z||P==null&&z==null||Pe(n,s,I,P,u,z)}var ud=null,fd=null;function Wo(n){return n.nodeType===9?n:n.ownerDocument}function I0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K0(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function dd(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var hd=null;function rw(){var n=window.event;return n&&n.type==="popstate"?n===hd?!1:(hd=n,!0):(hd=null,!1)}var Q0=typeof setTimeout=="function"?setTimeout:void 0,lw=typeof clearTimeout=="function"?clearTimeout:void 0,W0=typeof Promise=="function"?Promise:void 0,ow=typeof queueMicrotask=="function"?queueMicrotask:typeof W0<"u"?function(n){return W0.resolve(null).then(n).catch(cw)}:Q0;function cw(n){setTimeout(function(){throw n})}function Gi(n){return n==="head"}function J0(n,s){var l=s,u=0,h=0;do{var g=l.nextSibling;if(n.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(0<u&&8>u){l=u;var b=n.ownerDocument;if(l&1&&Zr(b.documentElement),l&2&&Zr(b.body),l&4)for(l=b.head,Zr(l),b=l.firstChild;b;){var S=b.nextSibling,j=b.nodeName;b[rr]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=S}}if(h===0){n.removeChild(g),Jr(s);return}h--}else l==="$"||l==="$?"||l==="$!"?h++:u=l.charCodeAt(0)-48;else u=0;l=g}while(l);Jr(s)}function md(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":md(l),_u(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function uw(n,s,l,u){for(;n.nodeType===1;){var h=l;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[rr])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=Ln(n.nextSibling),n===null)break}return null}function fw(n,s,l){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Ln(n.nextSibling),n===null))return null;return n}function pd(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function dw(n,s){var l=n.ownerDocument;if(n.data!=="$?"||l.readyState==="complete")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Ln(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var gd=null;function e_(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return n;s--}else l==="/$"&&s++}n=n.previousSibling}return null}function t_(n,s,l){switch(s=Wo(l),n){case"html":if(n=s.documentElement,!n)throw Error(a(452));return n;case"head":if(n=s.head,!n)throw Error(a(453));return n;case"body":if(n=s.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Zr(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);_u(n)}var xn=new Map,n_=new Set;function Jo(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var pi=G.d;G.d={f:hw,r:mw,D:pw,C:gw,L:yw,m:_w,X:bw,S:vw,M:xw};function hw(){var n=pi.f(),s=Go();return n||s}function mw(n){var s=Ka(n);s!==null&&s.tag===5&&s.type==="form"?Sy(s):pi.r(n)}var ks=typeof document>"u"?null:document;function i_(n,s,l){var u=ks;if(u&&typeof s=="string"&&s){var h=mn(s);h='link[rel="'+n+'"][href="'+h+'"]',typeof l=="string"&&(h+='[crossorigin="'+l+'"]'),n_.has(h)||(n_.add(h),n={rel:n,crossOrigin:l,href:s},u.querySelector(h)===null&&(s=u.createElement("link"),wt(s,"link",n),vt(s),u.head.appendChild(s)))}}function pw(n){pi.D(n),i_("dns-prefetch",n,null)}function gw(n,s){pi.C(n,s),i_("preconnect",n,s)}function yw(n,s,l){pi.L(n,s,l);var u=ks;if(u&&n&&s){var h='link[rel="preload"][as="'+mn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(h+='[imagesrcset="'+mn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(h+='[imagesizes="'+mn(l.imageSizes)+'"]')):h+='[href="'+mn(n)+'"]';var g=h;switch(s){case"style":g=Cs(n);break;case"script":g=Os(n)}xn.has(g)||(n=p({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:n,as:s},l),xn.set(g,n),u.querySelector(h)!==null||s==="style"&&u.querySelector(Fr(g))||s==="script"&&u.querySelector(Yr(g))||(s=u.createElement("link"),wt(s,"link",n),vt(s),u.head.appendChild(s)))}}function _w(n,s){pi.m(n,s);var l=ks;if(l&&n){var u=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+mn(u)+'"][href="'+mn(n)+'"]',g=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Os(n)}if(!xn.has(g)&&(n=p({rel:"modulepreload",href:n},s),xn.set(g,n),l.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Yr(g)))return}u=l.createElement("link"),wt(u,"link",n),vt(u),l.head.appendChild(u)}}}function vw(n,s,l){pi.S(n,s,l);var u=ks;if(u&&n){var h=Qa(u).hoistableStyles,g=Cs(n);s=s||"default";var b=h.get(g);if(!b){var S={loading:0,preload:null};if(b=u.querySelector(Fr(g)))S.loading=5;else{n=p({rel:"stylesheet",href:n,"data-precedence":s},l),(l=xn.get(g))&&yd(n,l);var j=b=u.createElement("link");vt(j),wt(j,"link",n),j._p=new Promise(function($,Z){j.onload=$,j.onerror=Z}),j.addEventListener("load",function(){S.loading|=1}),j.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ec(b,s,u)}b={type:"stylesheet",instance:b,count:1,state:S},h.set(g,b)}}}function bw(n,s){pi.X(n,s);var l=ks;if(l&&n){var u=Qa(l).hoistableScripts,h=Os(n),g=u.get(h);g||(g=l.querySelector(Yr(h)),g||(n=p({src:n,async:!0},s),(s=xn.get(h))&&_d(n,s),g=l.createElement("script"),vt(g),wt(g,"link",n),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function xw(n,s){pi.M(n,s);var l=ks;if(l&&n){var u=Qa(l).hoistableScripts,h=Os(n),g=u.get(h);g||(g=l.querySelector(Yr(h)),g||(n=p({src:n,async:!0,type:"module"},s),(s=xn.get(h))&&_d(n,s),g=l.createElement("script"),vt(g),wt(g,"link",n),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function a_(n,s,l,u){var h=(h=_e.current)?Jo(h):null;if(!h)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Cs(l.href),l=Qa(h).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=Cs(l.href);var g=Qa(h).hoistableStyles,b=g.get(n);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,b),(g=h.querySelector(Fr(n)))&&!g._p&&(b.instance=g,b.state.loading=5),xn.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},xn.set(n,l),g||Sw(h,n,l,b.state))),s&&u===null)throw Error(a(528,""));return b}if(s&&u!==null)throw Error(a(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Os(l),l=Qa(h).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function Cs(n){return'href="'+mn(n)+'"'}function Fr(n){return'link[rel="stylesheet"]['+n+"]"}function s_(n){return p({},n,{"data-precedence":n.precedence,precedence:null})}function Sw(n,s,l,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),wt(s,"link",l),vt(s),n.head.appendChild(s))}function Os(n){return'[src="'+mn(n)+'"]'}function Yr(n){return"script[async]"+n}function r_(n,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+mn(l.href)+'"]');if(u)return s.instance=u,vt(u),u;var h=p({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),vt(u),wt(u,"style",h),ec(u,l.precedence,n),s.instance=u;case"stylesheet":h=Cs(l.href);var g=n.querySelector(Fr(h));if(g)return s.state.loading|=4,s.instance=g,vt(g),g;u=s_(l),(h=xn.get(h))&&yd(u,h),g=(n.ownerDocument||n).createElement("link"),vt(g);var b=g;return b._p=new Promise(function(S,j){b.onload=S,b.onerror=j}),wt(g,"link",u),s.state.loading|=4,ec(g,l.precedence,n),s.instance=g;case"script":return g=Os(l.src),(h=n.querySelector(Yr(g)))?(s.instance=h,vt(h),h):(u=l,(h=xn.get(g))&&(u=p({},l),_d(u,h)),n=n.ownerDocument||n,h=n.createElement("script"),vt(h),wt(h,"link",u),n.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,ec(u,l.precedence,n));return s.instance}function ec(n,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,g=h,b=0;b<u.length;b++){var S=u[b];if(S.dataset.precedence===s)g=S;else if(g!==h)break}g?g.parentNode.insertBefore(n,g.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(n,s.firstChild))}function yd(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function _d(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var tc=null;function l_(n,s,l){if(tc===null){var u=new Map,h=tc=new Map;h.set(l,u)}else h=tc,u=h.get(l),u||(u=new Map,h.set(l,u));if(u.has(n))return u;for(u.set(n,null),l=l.getElementsByTagName(n),h=0;h<l.length;h++){var g=l[h];if(!(g[rr]||g[kt]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=n+b;var S=u.get(b);S?S.push(g):u.set(b,[g])}}return u}function o_(n,s,l){n=n.ownerDocument||n,n.head.insertBefore(l,s==="title"?n.querySelector("head > title"):null)}function Tw(n,s,l){if(l===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function c_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Xr=null;function Mw(){}function Aw(n,s,l){if(Xr===null)throw Error(a(475));var u=Xr;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Cs(l.href),g=n.querySelector(Fr(h));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=nc.bind(u),n.then(u,u)),s.state.loading|=4,s.instance=g,vt(g);return}g=n.ownerDocument||n,l=s_(l),(h=xn.get(h))&&yd(l,h),g=g.createElement("link"),vt(g);var b=g;b._p=new Promise(function(S,j){b.onload=S,b.onerror=j}),wt(g,"link",l),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=nc.bind(u),n.addEventListener("load",s),n.addEventListener("error",s))}}function ww(){if(Xr===null)throw Error(a(475));var n=Xr;return n.stylesheets&&n.count===0&&vd(n,n.stylesheets),0<n.count?function(s){var l=setTimeout(function(){if(n.stylesheets&&vd(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(l)}}:null}function nc(){if(this.count--,this.count===0){if(this.stylesheets)vd(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ic=null;function vd(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ic=new Map,s.forEach(jw,n),ic=null,nc.call(n))}function jw(n,s){if(!(s.state.loading&4)){var l=ic.get(n);if(l)var u=l.get(null);else{l=new Map,ic.set(n,l);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var b=h[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),u=b)}u&&l.set(null,u)}h=s.instance,b=h.getAttribute("data-precedence"),g=l.get(b)||u,g===u&&l.set(null,h),l.set(b,h),this.count++,u=nc.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),g?g.parentNode.insertBefore(h,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),s.state.loading|=4}}var Ir={$$typeof:N,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function Dw(n,s,l,u,h,g,b,S){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mu(0),this.hiddenUpdates=mu(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function u_(n,s,l,u,h,g,b,S,j,$,Z,I){return n=new Dw(n,s,l,b,S,j,$,I),s=1,g===!0&&(s|=24),g=en(3,null,null,s),n.current=g,g.stateNode=n,s=Ju(),s.refCount++,n.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:l,cache:s},af(g),n}function f_(n){return n?(n=cs,n):cs}function d_(n,s,l,u,h,g){h=f_(h),u.context===null?u.context=h:u.pendingContext=h,u=Ci(s),u.payload={element:l},g=g===void 0?null:g,g!==null&&(u.callback=g),l=Oi(n,u,s),l!==null&&(rn(l,n,s),Ar(l,n,s))}function h_(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function bd(n,s){h_(n,s),(n=n.alternate)&&h_(n,s)}function m_(n){if(n.tag===13){var s=os(n,67108864);s!==null&&rn(s,n,67108864),bd(n,67108864)}}var ac=!0;function Ew(n,s,l,u){var h=H.T;H.T=null;var g=G.p;try{G.p=2,xd(n,s,l,u)}finally{G.p=g,H.T=h}}function kw(n,s,l,u){var h=H.T;H.T=null;var g=G.p;try{G.p=8,xd(n,s,l,u)}finally{G.p=g,H.T=h}}function xd(n,s,l,u){if(ac){var h=Sd(u);if(h===null)od(n,s,u,sc,l),g_(n,u);else if(Ow(h,n,s,l,u))u.stopPropagation();else if(g_(n,u),s&4&&-1<Cw.indexOf(n)){for(;h!==null;){var g=Ka(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=oa(g.pendingLanes);if(b!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var j=1<<31-Wt(b);S.entanglements[1]|=j,b&=~j}Yn(g),(Le&6)===0&&(qo=dn()+500,qr(0))}}break;case 13:S=os(g,2),S!==null&&rn(S,g,2),Go(),bd(g,2)}if(g=Sd(u),g===null&&od(n,s,u,sc,l),g===h)break;h=g}h!==null&&u.stopPropagation()}else od(n,s,u,null,l)}}function Sd(n){return n=wu(n),Td(n)}var sc=null;function Td(n){if(sc=null,n=Ia(n),n!==null){var s=c(n);if(s===null)n=null;else{var l=s.tag;if(l===13){if(n=o(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return sc=n,null}function p_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ie()){case Ze:return 2;case nr:return 8;case Kl:case yM:return 32;case Cp:return 268435456;default:return 32}default:return 32}}var Md=!1,Zi=null,Fi=null,Yi=null,Kr=new Map,Qr=new Map,Xi=[],Cw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g_(n,s){switch(n){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":Yi=null;break;case"pointerover":case"pointerout":Kr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qr.delete(s.pointerId)}}function Wr(n,s,l,u,h,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:g,targetContainers:[h]},s!==null&&(s=Ka(s),s!==null&&m_(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),n)}function Ow(n,s,l,u,h){switch(s){case"focusin":return Zi=Wr(Zi,n,s,l,u,h),!0;case"dragenter":return Fi=Wr(Fi,n,s,l,u,h),!0;case"mouseover":return Yi=Wr(Yi,n,s,l,u,h),!0;case"pointerover":var g=h.pointerId;return Kr.set(g,Wr(Kr.get(g)||null,n,s,l,u,h)),!0;case"gotpointercapture":return g=h.pointerId,Qr.set(g,Wr(Qr.get(g)||null,n,s,l,u,h)),!0}return!1}function y_(n){var s=Ia(n.target);if(s!==null){var l=c(s);if(l!==null){if(s=l.tag,s===13){if(s=o(l),s!==null){n.blockedOn=s,AM(n.priority,function(){if(l.tag===13){var u=sn();u=pu(u);var h=os(l,u);h!==null&&rn(h,l,u),bd(l,u)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function rc(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=Sd(n.nativeEvent);if(l===null){l=n.nativeEvent;var u=new l.constructor(l.type,l);Au=u,l.target.dispatchEvent(u),Au=null}else return s=Ka(l),s!==null&&m_(s),n.blockedOn=l,!1;s.shift()}return!0}function __(n,s,l){rc(n)&&l.delete(s)}function Nw(){Md=!1,Zi!==null&&rc(Zi)&&(Zi=null),Fi!==null&&rc(Fi)&&(Fi=null),Yi!==null&&rc(Yi)&&(Yi=null),Kr.forEach(__),Qr.forEach(__)}function lc(n,s){n.blockedOn===s&&(n.blockedOn=null,Md||(Md=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Nw)))}var oc=null;function v_(n){oc!==n&&(oc=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){oc===n&&(oc=null);for(var s=0;s<n.length;s+=3){var l=n[s],u=n[s+1],h=n[s+2];if(typeof u!="function"){if(Td(u||l)===null)continue;break}var g=Ka(l);g!==null&&(n.splice(s,3),s-=3,Tf(g,{pending:!0,data:h,method:l.method,action:u},u,h))}}))}function Jr(n){function s(j){return lc(j,n)}Zi!==null&&lc(Zi,n),Fi!==null&&lc(Fi,n),Yi!==null&&lc(Yi,n),Kr.forEach(s),Qr.forEach(s);for(var l=0;l<Xi.length;l++){var u=Xi[l];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Xi.length&&(l=Xi[0],l.blockedOn===null);)y_(l),l.blockedOn===null&&Xi.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var h=l[u],g=l[u+1],b=h[Gt]||null;if(typeof g=="function")b||v_(l);else if(b){var S=null;if(g&&g.hasAttribute("formAction")){if(h=g,b=g[Gt]||null)S=b.formAction;else if(Td(h)!==null)continue}else S=b.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),v_(l)}}}function Ad(n){this._internalRoot=n}cc.prototype.render=Ad.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(a(409));var l=s.current,u=sn();d_(l,u,n,s,null,null)},cc.prototype.unmount=Ad.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;d_(n.current,2,null,n,null,null),Go(),s[Xa]=null}};function cc(n){this._internalRoot=n}cc.prototype.unstable_scheduleHydration=function(n){if(n){var s=Vp();n={blockedOn:null,target:n,priority:s};for(var l=0;l<Xi.length&&s!==0&&s<Xi[l].priority;l++);Xi.splice(l,0,n),l===0&&y_(n)}};var b_=t.version;if(b_!=="19.1.0")throw Error(a(527,b_,"19.1.0"));G.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=d(s),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var Rw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{ir=uc.inject(Rw),Qt=uc}catch{}}return tl.createRoot=function(n,s){if(!r(n))throw Error(a(299));var l=!1,u="",h=Vy,g=$y,b=Py,S=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=u_(n,1,!1,null,null,l,u,h,g,b,S,null),n[Xa]=s.current,ld(n),new Ad(s)},tl.hydrateRoot=function(n,s,l){if(!r(n))throw Error(a(299));var u=!1,h="",g=Vy,b=$y,S=Py,j=null,$=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(j=l.unstable_transitionCallbacks),l.formState!==void 0&&($=l.formState)),s=u_(n,1,!0,s,l??null,u,h,g,b,S,j,$),s.context=f_(null),l=s.current,u=sn(),u=pu(u),h=Ci(u),h.callback=null,Oi(l,h,u),l=u,s.current.lanes=l,sr(s,l),Yn(s),n[Xa]=s.current,ld(n),new cc(s)},tl.version="19.1.0",tl}var k_;function Yw(){if(k_)return jd.exports;k_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),jd.exports=Fw(),jd.exports}var Xw=Yw();const sl={},C_=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,O_=e=>"init"in e,Od=e=>!!e.write,N_=e=>"v"in e||"e"in e,dc=e=>{if("e"in e)throw e.e;if((sl?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v},Rc=new WeakMap,R_=e=>{var t;return Lc(e)&&!!((t=Rc.get(e))!=null&&t[0])},Iw=e=>{const t=Rc.get(e);t!=null&&t[0]&&(t[0]=!1,t[1].forEach(i=>i()))},kb=(e,t)=>{let i=Rc.get(e);if(!i){i=[!0,new Set],Rc.set(e,i);const a=()=>{i[0]=!1};e.then(a,a)}i[1].add(t)},Lc=e=>typeof(e==null?void 0:e.then)=="function",Cb=(e,t,i)=>{i.p.has(e)||(i.p.add(e),t.then(()=>{i.p.delete(e)},()=>{i.p.delete(e)}))},Nd=(e,t,i)=>{const a=i(e),r="v"in a,c=a.v;if(Lc(t))for(const o of a.d.keys())Cb(e,t,i(o));a.v=t,delete a.e,(!r||!Object.is(c,a.v))&&(++a.n,Lc(c)&&Iw(c))},L_=(e,t,i)=>{var a;const r=new Set;for(const c of((a=i.get(e))==null?void 0:a.t)||[])i.has(c)&&r.add(c);for(const c of t.p)r.add(c);return r},Kw=()=>{const e=new Set,t=()=>{e.forEach(i=>i())};return t.add=i=>(e.add(i),()=>{e.delete(i)}),t},Rd=()=>{const e={},t=new WeakMap,i=a=>{var r,c;(r=t.get(e))==null||r.forEach(o=>o(a)),(c=t.get(a))==null||c.forEach(o=>o())};return i.add=(a,r)=>{const c=a||e,o=(t.has(c)?t:t.set(c,new Set)).get(c);return o.add(r),()=>{o==null||o.delete(r),o.size||t.delete(c)}},i},Qw=e=>(e.c||(e.c=Rd()),e.m||(e.m=Rd()),e.u||(e.u=Rd()),e.f||(e.f=Kw()),e),Ww=Symbol(),Jw=(e=new WeakMap,t=new WeakMap,i=new WeakMap,a=new Set,r=new Set,c=new Set,o={},f=(_,...v)=>_.read(...v),d=(_,...v)=>_.write(...v),m=(_,v)=>{var M;return(M=_.unstable_onInit)==null?void 0:M.call(_,v)},p=(_,v)=>{var M;return(M=_.onMount)==null?void 0:M.call(_,v)},...y)=>{const _=y[0]||(U=>{if((sl?"production":void 0)!=="production"&&!U)throw new Error("Atom is undefined or null");let B=e.get(U);return B||(B={d:new Map,p:new Set,n:0},e.set(U,B),m==null||m(U,F)),B}),v=y[1]||(()=>{const U=[],B=J=>{try{J()}catch(te){U.push(te)}};do{o.f&&B(o.f);const J=new Set,te=J.add.bind(J);a.forEach(ie=>{var ae;return(ae=t.get(ie))==null?void 0:ae.l.forEach(te)}),a.clear(),c.forEach(te),c.clear(),r.forEach(te),r.clear(),J.forEach(B),a.size&&M()}while(a.size||c.size||r.size);if(U.length)throw new AggregateError(U)}),M=y[2]||(()=>{const U=[],B=new WeakSet,J=new WeakSet,te=Array.from(a);for(;te.length;){const ie=te[te.length-1],ae=_(ie);if(J.has(ie)){te.pop();continue}if(B.has(ie)){if(i.get(ie)===ae.n)U.push([ie,ae]);else if((sl?"production":void 0)!=="production"&&i.has(ie))throw new Error("[Bug] invalidated atom exists");J.add(ie),te.pop();continue}B.add(ie);for(const ke of L_(ie,ae,t))B.has(ke)||te.push(ke)}for(let ie=U.length-1;ie>=0;--ie){const[ae,ke]=U[ie];let Ce=!1;for(const me of ke.d.keys())if(me!==ae&&a.has(me)){Ce=!0;break}Ce&&(w(ae),R(ae)),i.delete(ae)}}),w=y[3]||(U=>{var B;const J=_(U);if(N_(J)&&(t.has(U)&&i.get(U)!==J.n||Array.from(J.d).every(([G,ne])=>w(G).n===ne)))return J;J.d.clear();let te=!0;const ie=()=>{t.has(U)&&(R(U),M(),v())},ae=G=>{var ne;if(C_(U,G)){const D=_(G);if(!N_(D))if(O_(G))Nd(G,G.init,_);else throw new Error("no atom init");return dc(D)}const ve=w(G);try{return dc(ve)}finally{J.d.set(G,ve.n),R_(J.v)&&Cb(U,J.v,ve),(ne=t.get(G))==null||ne.t.add(U),te||ie()}};let ke,Ce;const me={get signal(){return ke||(ke=new AbortController),ke.signal},get setSelf(){return(sl?"production":void 0)!=="production"&&!Od(U)&&console.warn("setSelf function cannot be used with read-only atom"),!Ce&&Od(U)&&(Ce=(...G)=>{if((sl?"production":void 0)!=="production"&&te&&console.warn("setSelf function cannot be called in sync"),!te)try{return A(U,...G)}finally{M(),v()}}),Ce}},H=J.n;try{const G=f(U,ae,me);return Nd(U,G,_),Lc(G)&&(kb(G,()=>ke==null?void 0:ke.abort()),G.then(ie,ie)),J}catch(G){return delete J.v,J.e=G,++J.n,J}finally{te=!1,H!==J.n&&i.get(U)===H&&(i.set(U,J.n),a.add(U),(B=o.c)==null||B.call(o,U))}}),T=y[4]||(U=>{const B=[U];for(;B.length;){const J=B.pop(),te=_(J);for(const ie of L_(J,te,t)){const ae=_(ie);i.set(ie,ae.n),B.push(ie)}}}),A=y[5]||((U,...B)=>{let J=!0;const te=ae=>dc(w(ae)),ie=(ae,...ke)=>{var Ce;const me=_(ae);try{if(C_(U,ae)){if(!O_(ae))throw new Error("atom not writable");const H=me.n,G=ke[0];Nd(ae,G,_),R(ae),H!==me.n&&(a.add(ae),(Ce=o.c)==null||Ce.call(o,ae),T(ae));return}else return A(ae,...ke)}finally{J||(M(),v())}};try{return d(U,te,ie,...B)}finally{J=!1}}),R=y[6]||(U=>{var B;const J=_(U),te=t.get(U);if(te&&!R_(J.v)){for(const[ie,ae]of J.d)if(!te.d.has(ie)){const ke=_(ie);N(ie).t.add(U),te.d.add(ie),ae!==ke.n&&(a.add(ie),(B=o.c)==null||B.call(o,ie),T(ie))}for(const ie of te.d||[])if(!J.d.has(ie)){te.d.delete(ie);const ae=W(ie);ae==null||ae.t.delete(U)}}}),N=y[7]||(U=>{var B;const J=_(U);let te=t.get(U);if(!te){w(U);for(const ie of J.d.keys())N(ie).t.add(U);if(te={l:new Set,d:new Set(J.d.keys()),t:new Set},t.set(U,te),(B=o.m)==null||B.call(o,U),Od(U)){const ie=()=>{let ae=!0;const ke=(...Ce)=>{try{return A(U,...Ce)}finally{ae||(M(),v())}};try{const Ce=p(U,ke);Ce&&(te.u=()=>{ae=!0;try{Ce()}finally{ae=!1}})}finally{ae=!1}};r.add(ie)}}return te}),W=y[8]||(U=>{var B;const J=_(U);let te=t.get(U);if(te&&!te.l.size&&!Array.from(te.t).some(ie=>{var ae;return(ae=t.get(ie))==null?void 0:ae.d.has(U)})){te.u&&c.add(te.u),te=void 0,t.delete(U),(B=o.u)==null||B.call(o,U);for(const ie of J.d.keys()){const ae=W(ie);ae==null||ae.t.delete(U)}return}return te}),C=[e,t,i,a,r,c,o,f,d,m,p,_,v,M,w,T,A,R,N,W],F={get:U=>dc(w(U)),set:(U,...B)=>{try{return A(U,...B)}finally{M(),v()}},sub:(U,B)=>{const te=N(U).l;return te.add(B),v(),()=>{te.delete(B),W(U),v()}}};return Object.defineProperty(F,Ww,{value:C}),F},Ob=Jw,ej=Qw,V_=kb,rm={};let tj=0;function Nb(e,t){const i=`atom${++tj}`,a={toString(){return(rm?"production":void 0)!=="production"&&this.debugLabel?i+":"+this.debugLabel:i}};return typeof e=="function"?a.read=e:(a.init=e,a.read=nj,a.write=ij),a}function nj(e){return e(this)}function ij(e,t,i){return t(this,typeof i=="function"?i(e(this)):i)}const aj=()=>{let e=0;const t=ej({}),i=new WeakMap,a=new WeakMap,r=Ob(i,a,void 0,void 0,void 0,void 0,t,void 0,(f,d,m,...p)=>e?m(f,...p):f.write(d,m,...p)),c=new Set;return t.m.add(void 0,f=>{c.add(f);const d=i.get(f);d.m=a.get(f)}),t.u.add(void 0,f=>{c.delete(f);const d=i.get(f);delete d.m}),Object.assign(r,{dev4_get_internal_weak_map:()=>(console.log("Deprecated: Use devstore from the devtools library"),i),dev4_get_mounted_atoms:()=>c,dev4_restore_atoms:f=>{const d={read:()=>null,write:(m,p)=>{++e;try{for(const[y,_]of f)"init"in y&&p(y,_)}finally{--e}}};r.set(d)}})};function Rb(){return(rm?"production":void 0)!=="production"?aj():Ob()}let nl;function sj(){return nl||(nl=Rb(),(rm?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=nl),globalThis.__JOTAI_DEFAULT_STORE__!==nl&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),nl}var L=sm();const Vc=Pw(L),rj={},Lb=L.createContext(void 0);function Vb(e){return L.useContext(Lb)||sj()}function lj({children:e,store:t}){const i=L.useRef(void 0);return!t&&!i.current&&(i.current=Rb()),L.createElement(Lb.Provider,{value:t||i.current},e)}const ch=e=>typeof(e==null?void 0:e.then)=="function",uh=e=>{e.status||(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}))},oj=Vc.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(uh(e),e)}),Ld=new WeakMap,$_=(e,t)=>{let i=Ld.get(e);return i||(i=new Promise((a,r)=>{let c=e;const o=m=>p=>{c===m&&a(p)},f=m=>p=>{c===m&&r(p)},d=()=>{try{const m=t();ch(m)?(Ld.set(m,i),c=m,m.then(o(m),f(m)),V_(m,d)):a(m)}catch(m){r(m)}};e.then(o(e),f(e)),V_(e,d)}),Ld.set(e,i)),i};function cj(e,t){const{delay:i,unstable_promiseStatus:a=!Vc.use}={},r=Vb(),[[c,o,f],d]=L.useReducer(p=>{const y=r.get(e);return Object.is(p[0],y)&&p[1]===r&&p[2]===e?p:[y,r,e]},void 0,()=>[r.get(e),r,e]);let m=c;if((o!==r||f!==e)&&(d(),m=r.get(e)),L.useEffect(()=>{const p=r.sub(e,()=>{if(a)try{const y=r.get(e);ch(y)&&uh($_(y,()=>r.get(e)))}catch{}if(typeof i=="number"){setTimeout(d,i);return}d()});return d(),p},[r,e,i,a]),L.useDebugValue(m),ch(m)){const p=$_(m,()=>r.get(e));return a&&uh(p),oj(p)}return m}function $c(e,t){const i=Vb();return L.useCallback((...r)=>{if((rj?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return i.set(e,...r)},[i,e])}function $b(e,t){return[cj(e),$c(e)]}const P_=e=>{let t;const i=new Set,a=(m,p)=>{const y=typeof m=="function"?m(t):m;if(!Object.is(y,t)){const _=t;t=p??(typeof y!="object"||y===null)?y:Object.assign({},t,y),i.forEach(v=>v(t,_))}},r=()=>t,f={setState:a,getState:r,getInitialState:()=>d,subscribe:m=>(i.add(m),()=>i.delete(m))},d=t=e(a,r,f);return f},uj=e=>e?P_(e):P_,fj=e=>e;function dj(e,t=fj){const i=Vc.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return Vc.useDebugValue(i),i}const hj=e=>{const t=uj(e),i=a=>dj(t,a);return Object.assign(i,t),i},mj=e=>hj;var Pb=Symbol.for("immer-nothing"),z_=Symbol.for("immer-draftable"),cn=Symbol.for("immer-state");function Bn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Zs=Object.getPrototypeOf;function Fs(e){return!!e&&!!e[cn]}function Ba(e){var t;return e?zb(e)||Array.isArray(e)||!!e[z_]||!!((t=e.constructor)!=null&&t[z_])||eu(e)||tu(e):!1}var pj=Object.prototype.constructor.toString();function zb(e){if(!e||typeof e!="object")return!1;const t=Zs(e);if(t===null)return!0;const i=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return i===Object?!0:typeof i=="function"&&Function.toString.call(i)===pj}function Pc(e,t){Jc(e)===0?Reflect.ownKeys(e).forEach(i=>{t(i,e[i],e)}):e.forEach((i,a)=>t(a,i,e))}function Jc(e){const t=e[cn];return t?t.type_:Array.isArray(e)?1:eu(e)?2:tu(e)?3:0}function fh(e,t){return Jc(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Bb(e,t,i){const a=Jc(e);a===2?e.set(t,i):a===3?e.add(i):e[t]=i}function gj(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function eu(e){return e instanceof Map}function tu(e){return e instanceof Set}function Da(e){return e.copy_||e.base_}function dh(e,t){if(eu(e))return new Map(e);if(tu(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const i=zb(e);if(t===!0||t==="class_only"&&!i){const a=Object.getOwnPropertyDescriptors(e);delete a[cn];let r=Reflect.ownKeys(a);for(let c=0;c<r.length;c++){const o=r[c],f=a[o];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(a[o]={configurable:!0,writable:!0,enumerable:f.enumerable,value:e[o]})}return Object.create(Zs(e),a)}else{const a=Zs(e);if(a!==null&&i)return{...e};const r=Object.create(a);return Object.assign(r,e)}}function lm(e,t=!1){return nu(e)||Fs(e)||!Ba(e)||(Jc(e)>1&&(e.set=e.add=e.clear=e.delete=yj),Object.freeze(e),t&&Object.entries(e).forEach(([i,a])=>lm(a,!0))),e}function yj(){Bn(2)}function nu(e){return Object.isFrozen(e)}var _j={};function Ua(e){const t=_j[e];return t||Bn(0,e),t}var bl;function Ub(){return bl}function vj(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function B_(e,t){t&&(Ua("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function hh(e){mh(e),e.drafts_.forEach(bj),e.drafts_=null}function mh(e){e===bl&&(bl=e.parent_)}function U_(e){return bl=vj(bl,e)}function bj(e){const t=e[cn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function q_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const i=t.drafts_[0];return e!==void 0&&e!==i?(i[cn].modified_&&(hh(t),Bn(4)),Ba(e)&&(e=zc(t,e),t.parent_||Bc(t,e)),t.patches_&&Ua("Patches").generateReplacementPatches_(i[cn].base_,e,t.patches_,t.inversePatches_)):e=zc(t,i,[]),hh(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Pb?e:void 0}function zc(e,t,i){if(nu(t))return t;const a=t[cn];if(!a)return Pc(t,(r,c)=>H_(e,a,t,r,c,i)),t;if(a.scope_!==e)return t;if(!a.modified_)return Bc(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const r=a.copy_;let c=r,o=!1;a.type_===3&&(c=new Set(r),r.clear(),o=!0),Pc(c,(f,d)=>H_(e,a,r,f,d,i,o)),Bc(e,r,!1),i&&e.patches_&&Ua("Patches").generatePatches_(a,i,e.patches_,e.inversePatches_)}return a.copy_}function H_(e,t,i,a,r,c,o){if(Fs(r)){const f=c&&t&&t.type_!==3&&!fh(t.assigned_,a)?c.concat(a):void 0,d=zc(e,r,f);if(Bb(i,a,d),Fs(d))e.canAutoFreeze_=!1;else return}else o&&i.add(r);if(Ba(r)&&!nu(r)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;zc(e,r),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&Object.prototype.propertyIsEnumerable.call(i,a)&&Bc(e,r)}}function Bc(e,t,i=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&lm(t,i)}function xj(e,t){const i=Array.isArray(e),a={type_:i?1:0,scope_:t?t.scope_:Ub(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=a,c=om;i&&(r=[a],c=xl);const{revoke:o,proxy:f}=Proxy.revocable(r,c);return a.draft_=f,a.revoke_=o,f}var om={get(e,t){if(t===cn)return e;const i=Da(e);if(!fh(i,t))return Sj(e,i,t);const a=i[t];return e.finalized_||!Ba(a)?a:a===Vd(e.base_,t)?($d(e),e.copy_[t]=gh(a,e)):a},has(e,t){return t in Da(e)},ownKeys(e){return Reflect.ownKeys(Da(e))},set(e,t,i){const a=qb(Da(e),t);if(a!=null&&a.set)return a.set.call(e.draft_,i),!0;if(!e.modified_){const r=Vd(Da(e),t),c=r==null?void 0:r[cn];if(c&&c.base_===i)return e.copy_[t]=i,e.assigned_[t]=!1,!0;if(gj(i,r)&&(i!==void 0||fh(e.base_,t)))return!0;$d(e),ph(e)}return e.copy_[t]===i&&(i!==void 0||t in e.copy_)||Number.isNaN(i)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=i,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Vd(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,$d(e),ph(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const i=Da(e),a=Reflect.getOwnPropertyDescriptor(i,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:i[t]}},defineProperty(){Bn(11)},getPrototypeOf(e){return Zs(e.base_)},setPrototypeOf(){Bn(12)}},xl={};Pc(om,(e,t)=>{xl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});xl.deleteProperty=function(e,t){return xl.set.call(this,e,t,void 0)};xl.set=function(e,t,i){return om.set.call(this,e[0],t,i,e[0])};function Vd(e,t){const i=e[cn];return(i?Da(i):e)[t]}function Sj(e,t,i){var r;const a=qb(t,i);return a?"value"in a?a.value:(r=a.get)==null?void 0:r.call(e.draft_):void 0}function qb(e,t){if(!(t in e))return;let i=Zs(e);for(;i;){const a=Object.getOwnPropertyDescriptor(i,t);if(a)return a;i=Zs(i)}}function ph(e){e.modified_||(e.modified_=!0,e.parent_&&ph(e.parent_))}function $d(e){e.copy_||(e.copy_=dh(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Tj=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,i,a)=>{if(typeof t=="function"&&typeof i!="function"){const c=i;i=t;const o=this;return function(d=c,...m){return o.produce(d,p=>i.call(this,p,...m))}}typeof i!="function"&&Bn(6),a!==void 0&&typeof a!="function"&&Bn(7);let r;if(Ba(t)){const c=U_(this),o=gh(t,void 0);let f=!0;try{r=i(o),f=!1}finally{f?hh(c):mh(c)}return B_(c,a),q_(r,c)}else if(!t||typeof t!="object"){if(r=i(t),r===void 0&&(r=t),r===Pb&&(r=void 0),this.autoFreeze_&&lm(r,!0),a){const c=[],o=[];Ua("Patches").generateReplacementPatches_(t,r,c,o),a(c,o)}return r}else Bn(1,t)},this.produceWithPatches=(t,i)=>{if(typeof t=="function")return(o,...f)=>this.produceWithPatches(o,d=>t(d,...f));let a,r;return[this.produce(t,i,(o,f)=>{a=o,r=f}),a,r]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ba(e)||Bn(8),Fs(e)&&(e=Mj(e));const t=U_(this),i=gh(e,void 0);return i[cn].isManual_=!0,mh(t),i}finishDraft(e,t){const i=e&&e[cn];(!i||!i.isManual_)&&Bn(9);const{scope_:a}=i;return B_(a,t),q_(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let i;for(i=t.length-1;i>=0;i--){const r=t[i];if(r.path.length===0&&r.op==="replace"){e=r.value;break}}i>-1&&(t=t.slice(i+1));const a=Ua("Patches").applyPatches_;return Fs(e)?a(e,t):this.produce(e,r=>a(r,t))}};function gh(e,t){const i=eu(e)?Ua("MapSet").proxyMap_(e,t):tu(e)?Ua("MapSet").proxySet_(e,t):xj(e,t);return(t?t.scope_:Ub()).drafts_.push(i),i}function Mj(e){return Fs(e)||Bn(10,e),Hb(e)}function Hb(e){if(!Ba(e)||nu(e))return e;const t=e[cn];let i;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,i=dh(e,t.scope_.immer_.useStrictShallowCopy_)}else i=dh(e,!0);return Pc(i,(a,r)=>{Bb(i,a,Hb(r))}),t&&(t.finalized_=!1),i}var un=new Tj,Aj=un.produce;un.produceWithPatches.bind(un);un.setAutoFreeze.bind(un);un.setUseStrictShallowCopy.bind(un);un.applyPatches.bind(un);un.createDraft.bind(un);un.finishDraft.bind(un);const wj=e=>(t,i,a)=>(a.setState=(r,c,...o)=>{const f=typeof r=="function"?Aj(r):r;return t(f,c,...o)},e(a.setState,i,a)),jj=wj,jn=(e,t)=>{const i=[];for(const a of e){const r=t[a.card_name];if(r)for(let c=0;c<a.quantity;c++)i.push(r)}return i},jt=[];for(let e=0;e<256;++e)jt.push((e+256).toString(16).slice(1));function Dj(e,t=0){return(jt[e[t+0]]+jt[e[t+1]]+jt[e[t+2]]+jt[e[t+3]]+"-"+jt[e[t+4]]+jt[e[t+5]]+"-"+jt[e[t+6]]+jt[e[t+7]]+"-"+jt[e[t+8]]+jt[e[t+9]]+"-"+jt[e[t+10]]+jt[e[t+11]]+jt[e[t+12]]+jt[e[t+13]]+jt[e[t+14]]+jt[e[t+15]]).toLowerCase()}let Pd;const Ej=new Uint8Array(16);function kj(){if(!Pd){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Pd=crypto.getRandomValues.bind(crypto)}return Pd(Ej)}const Cj=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),G_={randomUUID:Cj};function Un(e,t,i){var r;if(G_.randomUUID&&!e)return G_.randomUUID();e=e||{};const a=e.random??((r=e.rng)==null?void 0:r.call(e))??kj();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,Dj(a)}const wn=({onClick:e,label:t,className:i="",type:a,disabled:r,selected:c,children:o})=>{const f=c?"text-red-400":"text-blue-400",d=c?"border-red-400":"border-blue-400",m=c?"bg-red-100":"";return x.jsxs("div",{className:`relative ${i} z-3`,children:[t&&x.jsx("div",{className:"absolute -top-5 left-0 text-xs text-gray-600",children:t}),x.jsxs("div",{className:`border-2 ${d} ${f} rounded ${a==="extra_zone"?"bg-blue-500/30":a==="field"?"bg-green-500/25":a==="spell_trap"?"bg-green-600/40":"bg-white/20"} flex items-center justify-center cursor-pointer ${a==="extra_zone"?"hover:bg-blue-500/40":a==="field"?"hover:bg-green-500/35":a==="spell_trap"?"hover:bg-green-600/50":"hover:bg-white/30"} transition-colors h-full ${m} ${r?"opacity-50":""} relative`,onClick:e,children:[x.jsx("div",{className:"absolute z-20",children:o}),x.jsx("div",{className:"absolute z-0 font-bold",children:a==="deck"?x.jsx("div",{className:`flex items-center justify-center ${f} text-xs w-full h-full`,children:"Deck"}):a==="extra_deck"?x.jsx("div",{className:`flex items-center justify-center ${f} text-xs w-full h-full`,children:"EX Deck"}):a==="graveyard"?x.jsx("div",{className:`flex items-center justify-center ${f} text-xs w-full h-full`,children:"GY"}):a==="field"?x.jsx("div",{className:`flex items-center justify-center ${f} text-xs w-full h-full`,children:"Field"}):a==="extra_zone"?x.jsx("div",{className:`flex items-center justify-center ${f} text-xs w-full h-full`,children:"EX Zone"}):a==="spell_trap"?x.jsx("div",{className:`flex items-center justify-center ${f} text-xs w-full h-full`,children:"S/T"}):x.jsx("div",{className:`flex items-center justify-center ${f} text-xs w-full h-full`,children:"Monster"})}),x.jsx("div",{className:`absolute z-0
         rounded cursor-pointer transition-transform
        shadow-md border border-gray-600 overflow-hidden
                 "bg-transparent"
      `,children:x.jsx("img",{src:"/yu-gi-oh-1-kill-simulator/card_image/reverse.jpg",alt:"dummy",className:"w-full h-full object-contain opacity-40",style:{filter:"drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1))",backgroundColor:"transparent"}})})]})]})},Ga=({children:e,isOpen:t=!0,onClose:i,isTransparent:a=!1})=>{const[r,c]=L.useState(!1),[o,f]=L.useState(t);if(L.useEffect(()=>{if(t)f(!0),requestAnimationFrame(()=>{c(!0)});else{c(!1);const m=setTimeout(()=>{f(!1)},200);return()=>clearTimeout(m)}},[t]),!o)return null;const d=m=>{m.target===m.currentTarget&&i&&i()};return x.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-transparent",onClick:d,children:x.jsx("div",{className:`bg-white rounded-lg p-6 max-w-3xl w-full mx-4 max-h-[90vh] overflow-y-auto shadow-lg border-slate-900 border-2 transition-all duration-300 ease-out ${a?"opacity-20 scale-100 translate-y-0":r?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 translate-y-4"}`,onClick:m=>m.stopPropagation(),children:e})})},K=e=>e.card_type==="",Ye=e=>K(e)&&e.hasLevel===!0,Oj=e=>K(e)&&e.monster_type==="",Ke=e=>e.card_type==="",Nj=e=>K(e)&&e.monster_type==="",Sl=e=>e.field.spellTrapZones.filter(t=>t===null).length>0,vi=e=>K(e)&&e.monster_type==="",Bt=e=>K(e)&&e.monster_type==="",Gs=e=>K(e)&&e.monster_type==="",Rj=e=>K(e)&&(e.monster_type===""||e.monster_type===""||e.monster_type===""||e.monster_type===""),Tl=e=>e.card_type==="",Lj=e=>K(e)&&e.monster_type==="",Uc=(e,t,i)=>({card:e,id:Un(),location:t,position:void 0,materials:[],buf:{attack:0,defense:0,level:0},equipment:[],summonedBy:void 0,isToken:i}),Gb=e=>e.map(t=>Ye(t.card)?t.card.level:-999).reduce((t,i)=>i+t,0),cm=e=>e.map(t=>Oj(t.card)?t.card.link:1).reduce((t,i)=>i+t,0),La={MEDIUM:"w-40 h-56",SMALL:"w-40 h-56",LARGE:"w-24 h-32"},Vj=960,$j=540,Z_=0,Pj=16,zj=8,Bj=1920,Nt=160,Xn=224,et=8,Uj=432,qj=3*Xn+et*2,F_=Bj/2,Y_=qj+et+Xn/2,gi=Pj+Uj+4*Nt+3*et-Nt/2,yi=zj+2*Xn+et-Xn/2,Hj=gi+et*3+Nt*3,Gj=yi+et*2+Xn,Zj=(e,t)=>({x:t.x-e.x,y:t.y-e.y}),Fj=(e,t)=>t%2===1?{x:F_+(-(t-1)/2+e)*(Nt+et),y:Y_}:{x:F_+et/2+Nt/2+(-t/2+e)*(Nt+et),y:Y_},yh=(e,t=0,i=0)=>{switch(e){case"Deck":return{x:Hj,y:Gj};case"MonsterField":case"Material":return t>=5?{x:gi+(t===5?-1:1)*(Nt+et),y:yi-Xn-et}:{x:gi-2*et-2*Nt+t*(Nt+et),y:yi};case"SpellField":return{x:gi-2*et-2*Nt+t*(Nt+et),y:yi+et+Xn};case"ExtraDeck":return{x:gi-3*et-3*Nt,y:yi+et+Xn};case"Graveyard":return{x:gi+et*3+3*Nt,y:yi};case"FieldZone":return{x:gi-et*3-3*Nt,y:yi};case"OpponentField":return{x:gi+3*(Nt+et),y:yi-Xn-et};case"Hand":return Fj(t,i);case"TokenRemove":return yh("MonsterField",t);case"Throne":return{x:Vj+Z_*Math.cos(Math.PI/2-t*Math.PI/5),y:$j+Z_*Math.sin(Math.PI/2-t*Math.PI/5)};case"Exclusion":return{x:gi-3*(Nt+et),y:yi-(Xn+et)}}},Pn=(e,t)=>{const i=["attack","back",void 0].findIndex(r=>r===(t==null?void 0:t.position))!==-1&&["attack","back",void 0].findIndex(r=>r===(e==null?void 0:e.position))!==-1?0:90;return{roteteY:["attack","defense",void 0].findIndex(r=>r===(t==null?void 0:t.position))!==-1==(["attack","defense",void 0].findIndex(r=>r===(e==null?void 0:e.position))!==-1)?0:180,rotate:i,...Zj(yh(e.location,e.index,e.length),yh(t.location,t.index,t.length))}},Zb=Nb(null),um=Nb(!1),Yj=({actions:e,onSelect:t,rotate:i})=>{const a=e.map(r=>{switch(r){case"summon":return{key:"summon",label:""};case"activate":return{key:"activate",label:""};case"set":return{key:"set",label:""};case"effect":return{key:"effect",label:""};default:return{key:r,label:r}}});return x.jsx("div",{className:`absolute rounded z-20 flex flex-col items-center text-center w-full justify-center h-full hover:bg-black hover:bg-opacity-60 text-[18px] text-white ${i?"rotate-180":""}`,children:a.map(r=>x.jsx("button",{onClick:()=>t(r.key),className:"block w-full px-4 py-2 hover:bg-black hover:bg-opacity-50 text-center bg-opacity-90 flex-1",children:r.label},r.key))})},fm=L.createContext({});function zl(e){const t=L.useRef(null);return t.current===null&&(t.current=e()),t.current}const dm=typeof window<"u",hm=dm?L.useLayoutEffect:L.useEffect,iu=L.createContext(null);function mm(e,t){e.indexOf(t)===-1&&e.push(t)}function pm(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}const bi=(e,t,i)=>i>t?t:i<e?e:i;let gm=()=>{};const xi={},Fb=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Yb(e){return typeof e=="object"&&e!==null}const Xb=e=>/^0[^.\s]+$/u.test(e);function ym(e){let t;return()=>(t===void 0&&(t=e()),t)}const Dn=e=>e,Xj=(e,t)=>i=>t(e(i)),Bl=(...e)=>e.reduce(Xj),Ml=(e,t,i)=>{const a=t-e;return a===0?1:(i-e)/a};let _m=class{constructor(){this.subscriptions=[]}add(t){return mm(this.subscriptions,t),()=>pm(this.subscriptions,t)}notify(t,i,a){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,i,a);else for(let c=0;c<r;c++){const o=this.subscriptions[c];o&&o(t,i,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};const In=e=>e*1e3,Kn=e=>e/1e3;function Ib(e,t){return t?e*(1e3/t):0}const Kb=(e,t,i)=>(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e,Ij=1e-7,Kj=12;function Qj(e,t,i,a,r){let c,o,f=0;do o=t+(i-t)/2,c=Kb(o,a,r)-e,c>0?i=o:t=o;while(Math.abs(c)>Ij&&++f<Kj);return o}function Ul(e,t,i,a){if(e===t&&i===a)return Dn;const r=c=>Qj(c,0,1,e,i);return c=>c===0||c===1?c:Kb(r(c),t,a)}const Qb=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Wb=e=>t=>1-e(1-t),Jb=Ul(.33,1.53,.69,.99),vm=Wb(Jb),ex=Qb(vm),tx=e=>(e*=2)<1?.5*vm(e):.5*(2-Math.pow(2,-10*(e-1))),bm=e=>1-Math.sin(Math.acos(e)),nx=Wb(bm),ix=Qb(bm),Wj=Ul(.42,0,1,1),Jj=Ul(0,0,.58,1),ax=Ul(.42,0,.58,1),eD=e=>Array.isArray(e)&&typeof e[0]!="number",sx=e=>Array.isArray(e)&&typeof e[0]=="number",tD={linear:Dn,easeIn:Wj,easeInOut:ax,easeOut:Jj,circIn:bm,circInOut:ix,circOut:nx,backIn:vm,backInOut:ex,backOut:Jb,anticipate:tx},nD=e=>typeof e=="string",X_=e=>{if(sx(e)){gm(e.length===4);const[t,i,a,r]=e;return Ul(t,i,a,r)}else if(nD(e))return tD[e];return e},hc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function iD(e,t){let i=new Set,a=new Set,r=!1,c=!1;const o=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function d(p){o.has(p)&&(m.schedule(p),e()),p(f)}const m={schedule:(p,y=!1,_=!1)=>{const M=_&&r?i:a;return y&&o.add(p),M.has(p)||M.add(p),p},cancel:p=>{a.delete(p),o.delete(p)},process:p=>{if(f=p,r){c=!0;return}r=!0,[i,a]=[a,i],i.forEach(d),i.clear(),r=!1,c&&(c=!1,m.process(p))}};return m}const aD=40;function rx(e,t){let i=!1,a=!0;const r={delta:0,timestamp:0,isProcessing:!1},c=()=>i=!0,o=hc.reduce((N,W)=>(N[W]=iD(c),N),{}),{setup:f,read:d,resolveKeyframes:m,preUpdate:p,update:y,preRender:_,render:v,postRender:M}=o,w=()=>{const N=xi.useManualTiming?r.timestamp:performance.now();i=!1,xi.useManualTiming||(r.delta=a?1e3/60:Math.max(Math.min(N-r.timestamp,aD),1)),r.timestamp=N,r.isProcessing=!0,f.process(r),d.process(r),m.process(r),p.process(r),y.process(r),_.process(r),v.process(r),M.process(r),r.isProcessing=!1,i&&t&&(a=!1,e(w))},T=()=>{i=!0,a=!0,r.isProcessing||e(w)};return{schedule:hc.reduce((N,W)=>{const C=o[W];return N[W]=(F,U=!1,B=!1)=>(i||T(),C.schedule(F,U,B)),N},{}),cancel:N=>{for(let W=0;W<hc.length;W++)o[hc[W]].cancel(N)},state:r,steps:o}}const{schedule:Qe,cancel:Si,state:Dt,steps:zd}=rx(typeof requestAnimationFrame<"u"?requestAnimationFrame:Dn,!0);let Ac;function sD(){Ac=void 0}const It={now:()=>(Ac===void 0&&It.set(Dt.isProcessing||xi.useManualTiming?Dt.timestamp:performance.now()),Ac),set:e=>{Ac=e,queueMicrotask(sD)}},lx=e=>t=>typeof t=="string"&&t.startsWith(e),xm=lx("--"),rD=lx("var(--"),Sm=e=>rD(e)?lD.test(e.split("/*")[0].trim()):!1,lD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ks={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Al={...Ks,transform:e=>bi(0,1,e)},mc={...Ks,default:1},cl=e=>Math.round(e*1e5)/1e5,Tm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function oD(e){return e==null}const cD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Mm=(e,t)=>i=>!!(typeof i=="string"&&cD.test(i)&&i.startsWith(e)||t&&!oD(i)&&Object.prototype.hasOwnProperty.call(i,t)),ox=(e,t,i)=>a=>{if(typeof a!="string")return a;const[r,c,o,f]=a.match(Tm);return{[e]:parseFloat(r),[t]:parseFloat(c),[i]:parseFloat(o),alpha:f!==void 0?parseFloat(f):1}},uD=e=>bi(0,255,e),Bd={...Ks,transform:e=>Math.round(uD(e))},Ca={test:Mm("rgb","red"),parse:ox("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:a=1})=>"rgba("+Bd.transform(e)+", "+Bd.transform(t)+", "+Bd.transform(i)+", "+cl(Al.transform(a))+")"};function fD(e){let t="",i="",a="",r="";return e.length>5?(t=e.substring(1,3),i=e.substring(3,5),a=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),i=e.substring(2,3),a=e.substring(3,4),r=e.substring(4,5),t+=t,i+=i,a+=a,r+=r),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(a,16),alpha:r?parseInt(r,16)/255:1}}const _h={test:Mm("#"),parse:fD,transform:Ca.transform},ql=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ki=ql("deg"),Qn=ql("%"),ge=ql("px"),dD=ql("vh"),hD=ql("vw"),I_={...Qn,parse:e=>Qn.parse(e)/100,transform:e=>Qn.transform(e*100)},Ns={test:Mm("hsl","hue"),parse:ox("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:a=1})=>"hsla("+Math.round(e)+", "+Qn.transform(cl(t))+", "+Qn.transform(cl(i))+", "+cl(Al.transform(a))+")"},Rt={test:e=>Ca.test(e)||_h.test(e)||Ns.test(e),parse:e=>Ca.test(e)?Ca.parse(e):Ns.test(e)?Ns.parse(e):_h.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ca.transform(e):Ns.transform(e)},mD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function pD(e){var t,i;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Tm))==null?void 0:t.length)||0)+(((i=e.match(mD))==null?void 0:i.length)||0)>0}const cx="number",ux="color",gD="var",yD="var(",K_="${}",_D=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wl(e){const t=e.toString(),i=[],a={color:[],number:[],var:[]},r=[];let c=0;const f=t.replace(_D,d=>(Rt.test(d)?(a.color.push(c),r.push(ux),i.push(Rt.parse(d))):d.startsWith(yD)?(a.var.push(c),r.push(gD),i.push(d)):(a.number.push(c),r.push(cx),i.push(parseFloat(d))),++c,K_)).split(K_);return{values:i,split:f,indexes:a,types:r}}function fx(e){return wl(e).values}function dx(e){const{split:t,types:i}=wl(e),a=t.length;return r=>{let c="";for(let o=0;o<a;o++)if(c+=t[o],r[o]!==void 0){const f=i[o];f===cx?c+=cl(r[o]):f===ux?c+=Rt.transform(r[o]):c+=r[o]}return c}}const vD=e=>typeof e=="number"?0:e;function bD(e){const t=fx(e);return dx(e)(t.map(vD))}const Ji={test:pD,parse:fx,createTransformer:dx,getAnimatableNone:bD};function Ud(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function xD({hue:e,saturation:t,lightness:i,alpha:a}){e/=360,t/=100,i/=100;let r=0,c=0,o=0;if(!t)r=c=o=i;else{const f=i<.5?i*(1+t):i+t-i*t,d=2*i-f;r=Ud(d,f,e+1/3),c=Ud(d,f,e),o=Ud(d,f,e-1/3)}return{red:Math.round(r*255),green:Math.round(c*255),blue:Math.round(o*255),alpha:a}}function qc(e,t){return i=>i>0?t:e}const nt=(e,t,i)=>e+(t-e)*i,qd=(e,t,i)=>{const a=e*e,r=i*(t*t-a)+a;return r<0?0:Math.sqrt(r)},SD=[_h,Ca,Ns],TD=e=>SD.find(t=>t.test(e));function Q_(e){const t=TD(e);if(!t)return!1;let i=t.parse(e);return t===Ns&&(i=xD(i)),i}const W_=(e,t)=>{const i=Q_(e),a=Q_(t);if(!i||!a)return qc(e,t);const r={...i};return c=>(r.red=qd(i.red,a.red,c),r.green=qd(i.green,a.green,c),r.blue=qd(i.blue,a.blue,c),r.alpha=nt(i.alpha,a.alpha,c),Ca.transform(r))},vh=new Set(["none","hidden"]);function MD(e,t){return vh.has(e)?i=>i<=0?e:t:i=>i>=1?t:e}function AD(e,t){return i=>nt(e,t,i)}function Am(e){return typeof e=="number"?AD:typeof e=="string"?Sm(e)?qc:Rt.test(e)?W_:DD:Array.isArray(e)?hx:typeof e=="object"?Rt.test(e)?W_:wD:qc}function hx(e,t){const i=[...e],a=i.length,r=e.map((c,o)=>Am(c)(c,t[o]));return c=>{for(let o=0;o<a;o++)i[o]=r[o](c);return i}}function wD(e,t){const i={...e,...t},a={};for(const r in i)e[r]!==void 0&&t[r]!==void 0&&(a[r]=Am(e[r])(e[r],t[r]));return r=>{for(const c in a)i[c]=a[c](r);return i}}function jD(e,t){const i=[],a={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const c=t.types[r],o=e.indexes[c][a[c]],f=e.values[o]??0;i[r]=f,a[c]++}return i}const DD=(e,t)=>{const i=Ji.createTransformer(t),a=wl(e),r=wl(t);return a.indexes.var.length===r.indexes.var.length&&a.indexes.color.length===r.indexes.color.length&&a.indexes.number.length>=r.indexes.number.length?vh.has(e)&&!r.values.length||vh.has(t)&&!a.values.length?MD(e,t):Bl(hx(jD(a,r),r.values),i):qc(e,t)};function mx(e,t,i){return typeof e=="number"&&typeof t=="number"&&typeof i=="number"?nt(e,t,i):Am(e)(e,t)}const ED=e=>{const t=({timestamp:i})=>e(i);return{start:(i=!0)=>Qe.update(t,i),stop:()=>Si(t),now:()=>Dt.isProcessing?Dt.timestamp:It.now()}},px=(e,t,i=10)=>{let a="";const r=Math.max(Math.round(t/i),2);for(let c=0;c<r;c++)a+=Math.round(e(c/(r-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},Hc=2e4;function wm(e){let t=0;const i=50;let a=e.next(t);for(;!a.done&&t<Hc;)t+=i,a=e.next(t);return t>=Hc?1/0:t}function kD(e,t=100,i){const a=i({...e,keyframes:[0,t]}),r=Math.min(wm(a),Hc);return{type:"keyframes",ease:c=>a.next(r*c).value/t,duration:Kn(r)}}const CD=5;function gx(e,t,i){const a=Math.max(t-CD,0);return Ib(i-e(a),t-a)}const lt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},J_=.001;function OD({duration:e=lt.duration,bounce:t=lt.bounce,velocity:i=lt.velocity,mass:a=lt.mass}){let r,c,o=1-t;o=bi(lt.minDamping,lt.maxDamping,o),e=bi(lt.minDuration,lt.maxDuration,Kn(e)),o<1?(r=m=>{const p=m*o,y=p*e,_=p-i,v=bh(m,o),M=Math.exp(-y);return J_-_/v*M},c=m=>{const y=m*o*e,_=y*i+i,v=Math.pow(o,2)*Math.pow(m,2)*e,M=Math.exp(-y),w=bh(Math.pow(m,2),o);return(-r(m)+J_>0?-1:1)*((_-v)*M)/w}):(r=m=>{const p=Math.exp(-m*e),y=(m-i)*e+1;return-.001+p*y},c=m=>{const p=Math.exp(-m*e),y=(i-m)*(e*e);return p*y});const f=5/e,d=RD(r,c,f);if(e=In(e),isNaN(d))return{stiffness:lt.stiffness,damping:lt.damping,duration:e};{const m=Math.pow(d,2)*a;return{stiffness:m,damping:o*2*Math.sqrt(a*m),duration:e}}}const ND=12;function RD(e,t,i){let a=i;for(let r=1;r<ND;r++)a=a-e(a)/t(a);return a}function bh(e,t){return e*Math.sqrt(1-t*t)}const LD=["duration","bounce"],VD=["stiffness","damping","mass"];function ev(e,t){return t.some(i=>e[i]!==void 0)}function $D(e){let t={velocity:lt.velocity,stiffness:lt.stiffness,damping:lt.damping,mass:lt.mass,isResolvedFromDuration:!1,...e};if(!ev(e,VD)&&ev(e,LD))if(e.visualDuration){const i=e.visualDuration,a=2*Math.PI/(i*1.2),r=a*a,c=2*bi(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:lt.mass,stiffness:r,damping:c}}else{const i=OD(e);t={...t,...i,mass:lt.mass},t.isResolvedFromDuration=!0}return t}function Gc(e=lt.visualDuration,t=lt.bounce){const i=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:r}=i;const c=i.keyframes[0],o=i.keyframes[i.keyframes.length-1],f={done:!1,value:c},{stiffness:d,damping:m,mass:p,duration:y,velocity:_,isResolvedFromDuration:v}=$D({...i,velocity:-Kn(i.velocity||0)}),M=_||0,w=m/(2*Math.sqrt(d*p)),T=o-c,A=Kn(Math.sqrt(d/p)),R=Math.abs(T)<5;a||(a=R?lt.restSpeed.granular:lt.restSpeed.default),r||(r=R?lt.restDelta.granular:lt.restDelta.default);let N;if(w<1){const C=bh(A,w);N=F=>{const U=Math.exp(-w*A*F);return o-U*((M+w*A*T)/C*Math.sin(C*F)+T*Math.cos(C*F))}}else if(w===1)N=C=>o-Math.exp(-A*C)*(T+(M+A*T)*C);else{const C=A*Math.sqrt(w*w-1);N=F=>{const U=Math.exp(-w*A*F),B=Math.min(C*F,300);return o-U*((M+w*A*T)*Math.sinh(B)+C*T*Math.cosh(B))/C}}const W={calculatedDuration:v&&y||null,next:C=>{const F=N(C);if(v)f.done=C>=y;else{let U=C===0?M:0;w<1&&(U=C===0?In(M):gx(N,C,F));const B=Math.abs(U)<=a,J=Math.abs(o-F)<=r;f.done=B&&J}return f.value=f.done?o:F,f},toString:()=>{const C=Math.min(wm(W),Hc),F=px(U=>W.next(C*U).value,C,30);return C+"ms "+F},toTransition:()=>{}};return W}Gc.applyToOptions=e=>{const t=kD(e,100,Gc);return e.ease=t.ease,e.duration=In(t.duration),e.type="keyframes",e};function xh({keyframes:e,velocity:t=0,power:i=.8,timeConstant:a=325,bounceDamping:r=10,bounceStiffness:c=500,modifyTarget:o,min:f,max:d,restDelta:m=.5,restSpeed:p}){const y=e[0],_={done:!1,value:y},v=B=>f!==void 0&&B<f||d!==void 0&&B>d,M=B=>f===void 0?d:d===void 0||Math.abs(f-B)<Math.abs(d-B)?f:d;let w=i*t;const T=y+w,A=o===void 0?T:o(T);A!==T&&(w=A-y);const R=B=>-w*Math.exp(-B/a),N=B=>A+R(B),W=B=>{const J=R(B),te=N(B);_.done=Math.abs(J)<=m,_.value=_.done?A:te};let C,F;const U=B=>{v(_.value)&&(C=B,F=Gc({keyframes:[_.value,M(_.value)],velocity:gx(N,B,_.value),damping:r,stiffness:c,restDelta:m,restSpeed:p}))};return U(0),{calculatedDuration:null,next:B=>{let J=!1;return!F&&C===void 0&&(J=!0,W(B),U(B)),C!==void 0&&B>=C?F.next(B-C):(!J&&W(B),_)}}}function PD(e,t,i){const a=[],r=i||xi.mix||mx,c=e.length-1;for(let o=0;o<c;o++){let f=r(e[o],e[o+1]);if(t){const d=Array.isArray(t)?t[o]||Dn:t;f=Bl(d,f)}a.push(f)}return a}function yx(e,t,{clamp:i=!0,ease:a,mixer:r}={}){const c=e.length;if(gm(c===t.length),c===1)return()=>t[0];if(c===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[c-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=PD(t,a,r),d=f.length,m=p=>{if(o&&p<e[0])return t[0];let y=0;if(d>1)for(;y<e.length-2&&!(p<e[y+1]);y++);const _=Ml(e[y],e[y+1],p);return f[y](_)};return i?p=>m(bi(e[0],e[c-1],p)):m}function zD(e,t){const i=e[e.length-1];for(let a=1;a<=t;a++){const r=Ml(0,t,a);e.push(nt(i,1,r))}}function BD(e){const t=[0];return zD(t,e.length-1),t}function UD(e,t){return e.map(i=>i*t)}function qD(e,t){return e.map(()=>t||ax).splice(0,e.length-1)}function ul({duration:e=300,keyframes:t,times:i,ease:a="easeInOut"}){const r=eD(a)?a.map(X_):X_(a),c={done:!1,value:t[0]},o=UD(i&&i.length===t.length?i:BD(t),e),f=yx(o,t,{ease:Array.isArray(r)?r:qD(t,r)});return{calculatedDuration:e,next:d=>(c.value=f(d),c.done=d>=e,c)}}const HD=e=>e!==null;function jm(e,{repeat:t,repeatType:i="loop"},a,r=1){const c=e.filter(HD),f=r<0||t&&i!=="loop"&&t%2===1?0:c.length-1;return!f||a===void 0?c[f]:a}const GD={decay:xh,inertia:xh,tween:ul,keyframes:ul,spring:Gc};function _x(e){typeof e.type=="string"&&(e.type=GD[e.type])}let Dm=class{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}};const ZD=e=>e/100;let au=class extends Dm{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var a,r;const{motionValue:i}=this.options;i&&i.updatedAt!==It.now()&&this.tick(It.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(a=this.options).onStop)==null||r.call(a))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;_x(t);const{type:i=ul,repeat:a=0,repeatDelay:r=0,repeatType:c,velocity:o=0}=t;let{keyframes:f}=t;const d=i||ul;d!==ul&&typeof f[0]!="number"&&(this.mixKeyframes=Bl(ZD,mx(f[0],f[1])),f=[0,100]);const m=d({...t,keyframes:f});c==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...f].reverse(),velocity:-o})),m.calculatedDuration===null&&(m.calculatedDuration=wm(m));const{calculatedDuration:p}=m;this.calculatedDuration=p,this.resolvedDuration=p+r,this.totalDuration=this.resolvedDuration*(a+1)-r,this.generator=m}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:a,totalDuration:r,mixKeyframes:c,mirroredGenerator:o,resolvedDuration:f,calculatedDuration:d}=this;if(this.startTime===null)return a.next(0);const{delay:m=0,keyframes:p,repeat:y,repeatType:_,repeatDelay:v,type:M,onUpdate:w,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const A=this.currentTime-m*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?A<0:A>r;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let N=this.currentTime,W=a;if(y){const B=Math.min(this.currentTime,r)/f;let J=Math.floor(B),te=B%1;!te&&B>=1&&(te=1),te===1&&J--,J=Math.min(J,y+1),!!(J%2)&&(_==="reverse"?(te=1-te,v&&(te-=v/f)):_==="mirror"&&(W=o)),N=bi(0,1,te)*f}const C=R?{done:!1,value:p[0]}:W.next(N);c&&(C.value=c(C.value));let{done:F}=C;!R&&d!==null&&(F=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return U&&M!==xh&&(C.value=jm(p,this.options,T,this.speed)),w&&w(C.value),U&&this.finish(),C}then(t,i){return this.finished.then(t,i)}get duration(){return Kn(this.calculatedDuration)}get time(){return Kn(this.currentTime)}set time(t){var i;t=In(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(i=this.driver)==null||i.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(It.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=Kn(this.currentTime))}play(){var r,c;if(this.isStopped)return;const{driver:t=ED,startTime:i}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(c=(r=this.options).onPlay)==null||c.call(r);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=i??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(It.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,i;this.notifyFinished(),this.teardown(),this.state="finished",(i=(t=this.options).onComplete)==null||i.call(t)}cancel(){var t,i;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(i=(t=this.options).onCancel)==null||i.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var i;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(i=this.driver)==null||i.stop(),t.observe(this)}};function FD(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Oa=e=>e*180/Math.PI,Sh=e=>{const t=Oa(Math.atan2(e[1],e[0]));return Th(t)},YD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Sh,rotateZ:Sh,skewX:e=>Oa(Math.atan(e[1])),skewY:e=>Oa(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Th=e=>(e=e%360,e<0&&(e+=360),e),tv=Sh,nv=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),iv=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),XD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:nv,scaleY:iv,scale:e=>(nv(e)+iv(e))/2,rotateX:e=>Th(Oa(Math.atan2(e[6],e[5]))),rotateY:e=>Th(Oa(Math.atan2(-e[2],e[0]))),rotateZ:tv,rotate:tv,skewX:e=>Oa(Math.atan(e[4])),skewY:e=>Oa(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Mh(e){return e.includes("scale")?1:0}function Ah(e,t){if(!e||e==="none")return Mh(t);const i=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,r;if(i)a=XD,r=i;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=YD,r=f}if(!r)return Mh(t);const c=a[t],o=r[1].split(",").map(KD);return typeof c=="function"?c(o):o[c]}const ID=(e,t)=>{const{transform:i="none"}=getComputedStyle(e);return Ah(i,t)};function KD(e){return parseFloat(e.trim())}const Qs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ws=new Set(Qs),av=e=>e===Ks||e===ge,QD=new Set(["x","y","z"]),WD=Qs.filter(e=>!QD.has(e));function JD(e){const t=[];return WD.forEach(i=>{const a=e.getValue(i);a!==void 0&&(t.push([i,a.get()]),a.set(i.startsWith("scale")?1:0))}),t}const Va={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Ah(t,"x"),y:(e,{transform:t})=>Ah(t,"y")};Va.translateX=Va.x;Va.translateY=Va.y;const $a=new Set;let wh=!1,jh=!1,Dh=!1;function vx(){if(jh){const e=Array.from($a).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),i=new Map;t.forEach(a=>{const r=JD(a);r.length&&(i.set(a,r),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const r=i.get(a);r&&r.forEach(([c,o])=>{var f;(f=a.getValue(c))==null||f.set(o)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}jh=!1,wh=!1,$a.forEach(e=>e.complete(Dh)),$a.clear()}function bx(){$a.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(jh=!0)})}function eE(){Dh=!0,bx(),vx(),Dh=!1}let Em=class{constructor(t,i,a,r,c,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=a,this.motionValue=r,this.element=c,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?($a.add(this),wh||(wh=!0,Qe.read(bx),Qe.resolveKeyframes(vx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:a,motionValue:r}=this;if(t[0]===null){const c=r==null?void 0:r.get(),o=t[t.length-1];if(c!==void 0)t[0]=c;else if(a&&i){const f=a.readValue(i,o);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=o),r&&c===void 0&&r.set(t[0])}FD(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),$a.delete(this)}cancel(){this.state==="scheduled"&&($a.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}};const tE=e=>e.startsWith("--");function nE(e,t,i){tE(t)?e.style.setProperty(t,i):e.style[t]=i}const iE=ym(()=>window.ScrollTimeline!==void 0),aE={};function sE(e,t){const i=ym(e);return()=>aE[t]??i()}const xx=sE(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),rl=([e,t,i,a])=>`cubic-bezier(${e}, ${t}, ${i}, ${a})`,sv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:rl([0,.65,.55,1]),circOut:rl([.55,0,1,.45]),backIn:rl([.31,.01,.66,-.59]),backOut:rl([.33,1.53,.69,.99])};function Sx(e,t){if(e)return typeof e=="function"?xx()?px(e,t):"ease-out":sx(e)?rl(e):Array.isArray(e)?e.map(i=>Sx(i,t)||sv.easeOut):sv[e]}function rE(e,t,i,{delay:a=0,duration:r=300,repeat:c=0,repeatType:o="loop",ease:f="easeOut",times:d}={},m=void 0){const p={[t]:i};d&&(p.offset=d);const y=Sx(f,r);Array.isArray(y)&&(p.easing=y);const _={delay:a,duration:r,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:c+1,direction:o==="reverse"?"alternate":"normal"};return m&&(_.pseudoElement=m),e.animate(p,_)}function Tx(e){return typeof e=="function"&&"applyToOptions"in e}function lE({type:e,...t}){return Tx(e)&&xx()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}let oE=class extends Dm{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:i,name:a,keyframes:r,pseudoElement:c,allowFlatten:o=!1,finalKeyframe:f,onComplete:d}=t;this.isPseudoElement=!!c,this.allowFlatten=o,this.options=t,gm(typeof t.type!="string");const m=lE(t);this.animation=rE(i,a,r,m,c),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const p=jm(r,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(p):nE(i,a,p),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,i;(i=(t=this.animation).finish)==null||i.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,i;this.isPseudoElement||(i=(t=this.animation).commitStyles)==null||i.call(t)}get duration(){var i,a;const t=((a=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:a.call(i).duration)||0;return Kn(Number(t))}get time(){return Kn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=In(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&iE()?(this.animation.timeline=t,Dn):i(this)}};const Mx={anticipate:tx,backInOut:ex,circInOut:ix};function cE(e){return e in Mx}function uE(e){typeof e.ease=="string"&&cE(e.ease)&&(e.ease=Mx[e.ease])}const rv=10;let fE=class extends oE{constructor(t){uE(t),_x(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:a,onComplete:r,element:c,...o}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const f=new au({...o,autoplay:!1}),d=In(this.finishedTime??this.time);i.setWithVelocity(f.sample(d-rv).value,f.sample(d).value,rv),f.stop()}};const lv=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ji.test(e)||e==="0")&&!e.startsWith("url("));function dE(e){const t=e[0];if(e.length===1)return!0;for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}function hE(e,t,i,a){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const c=e[e.length-1],o=lv(r,t),f=lv(c,t);return!o||!f?!1:dE(e)||(i==="spring"||Tx(i))&&a}function km(e){return Yb(e)&&"offsetHeight"in e}const mE=new Set(["opacity","clipPath","filter","transform"]),pE=ym(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function gE(e){var m;const{motionValue:t,name:i,repeatDelay:a,repeatType:r,damping:c,type:o}=e;if(!km((m=t==null?void 0:t.owner)==null?void 0:m.current))return!1;const{onUpdate:f,transformTemplate:d}=t.owner.getProps();return pE()&&i&&mE.has(i)&&(i!=="transform"||!d)&&!f&&!a&&r!=="mirror"&&c!==0&&o!=="inertia"}const yE=40;let _E=class extends Dm{constructor({autoplay:t=!0,delay:i=0,type:a="keyframes",repeat:r=0,repeatDelay:c=0,repeatType:o="loop",keyframes:f,name:d,motionValue:m,element:p,...y}){var M;super(),this.stop=()=>{var w,T;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=It.now();const _={autoplay:t,delay:i,type:a,repeat:r,repeatDelay:c,repeatType:o,name:d,motionValue:m,element:p,...y},v=(p==null?void 0:p.KeyframeResolver)||Em;this.keyframeResolver=new v(f,(w,T,A)=>this.onKeyframesResolved(w,T,_,!A),d,m,p),(M=this.keyframeResolver)==null||M.scheduleResolve()}onKeyframesResolved(t,i,a,r){this.keyframeResolver=void 0;const{name:c,type:o,velocity:f,delay:d,isHandoff:m,onUpdate:p}=a;this.resolvedAt=It.now(),hE(t,c,o,f)||((xi.instantAnimations||!d)&&(p==null||p(jm(t,a,i))),t[0]=t[t.length-1],a.duration=0,a.repeat=0);const _={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>yE?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...a,keyframes:t},v=!m&&gE(_)?new fE({..._,element:_.motionValue.owner.current}):new au(_);v.finished.then(()=>this.notifyFinished()).catch(Dn),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),eE()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}};const vE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bE(e){const t=vE.exec(e);if(!t)return[,];const[,i,a,r]=t;return[`--${i??a}`,r]}function Ax(e,t,i=1){const[a,r]=bE(e);if(!a)return;const c=window.getComputedStyle(t).getPropertyValue(a);if(c){const o=c.trim();return Fb(o)?parseFloat(o):o}return Sm(r)?Ax(r,t,i+1):r}function Cm(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const wx=new Set(["width","height","top","left","right","bottom",...Qs]),xE={test:e=>e==="auto",parse:e=>e},jx=e=>t=>t.test(e),Dx=[Ks,ge,Qn,Ki,hD,dD,xE],ov=e=>Dx.find(jx(e));function SE(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Xb(e):!0}const TE=new Set(["brightness","contrast","saturate","opacity"]);function ME(e){const[t,i]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=i.match(Tm)||[];if(!a)return e;const r=i.replace(a,"");let c=TE.has(t)?1:0;return a!==i&&(c*=100),t+"("+c+r+")"}const AE=/\b([a-z-]*)\(.*?\)/gu,Eh={...Ji,getAnimatableNone:e=>{const t=e.match(AE);return t?t.map(ME).join(" "):e}},cv={...Ks,transform:Math.round},wE={rotate:Ki,rotateX:Ki,rotateY:Ki,rotateZ:Ki,scale:mc,scaleX:mc,scaleY:mc,scaleZ:mc,skew:Ki,skewX:Ki,skewY:Ki,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:Al,originX:I_,originY:I_,originZ:ge},Om={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,radius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,backgroundPositionX:ge,backgroundPositionY:ge,...wE,zIndex:cv,fillOpacity:Al,strokeOpacity:Al,numOctaves:cv},jE={...Om,color:Rt,backgroundColor:Rt,outlineColor:Rt,fill:Rt,stroke:Rt,borderColor:Rt,borderTopColor:Rt,borderRightColor:Rt,borderBottomColor:Rt,borderLeftColor:Rt,filter:Eh,WebkitFilter:Eh},Ex=e=>jE[e];function kx(e,t){let i=Ex(e);return i!==Eh&&(i=Ji),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const DE=new Set(["auto","none","0"]);function EE(e,t,i){let a=0,r;for(;a<e.length&&!r;){const c=e[a];typeof c=="string"&&!DE.has(c)&&wl(c).values.length&&(r=e[a]),a++}if(r&&i)for(const c of t)e[c]=kx(i,r)}let kE=class extends Em{constructor(t,i,a,r,c){super(t,i,a,r,c,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:a}=this;if(!i||!i.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let m=t[d];if(typeof m=="string"&&(m=m.trim(),Sm(m))){const p=Ax(m,i.current);p!==void 0&&(t[d]=p),d===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!wx.has(a)||t.length!==2)return;const[r,c]=t,o=ov(r),f=ov(c);if(o!==f)if(av(o)&&av(f))for(let d=0;d<t.length;d++){const m=t[d];typeof m=="string"&&(t[d]=parseFloat(m))}else Va[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,a=[];for(let r=0;r<t.length;r++)(t[r]===null||SE(t[r]))&&a.push(r);a.length&&EE(t,a,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Va[a](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const r=i[i.length-1];r!==void 0&&t.getValue(a,r).jump(r,!1)}measureEndState(){var f;const{element:t,name:i,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const r=t.getValue(i);r&&r.jump(this.measuredOrigin,!1);const c=a.length-1,o=a[c];a[c]=Va[i](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([d,m])=>{t.getValue(d).set(m)}),this.resolveNoneKeyframes()}};function CE(e,t,i){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;const r=(i==null?void 0:i[e])??a.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}const Cx=(e,t)=>t&&typeof e=="number"?t.transform(e):e,uv=30,OE=e=>!isNaN(parseFloat(e)),fl={current:void 0};let NE=class{constructor(t,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(a,r=!0)=>{var o,f;const c=It.now();if(this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty();r&&((f=this.events.renderRequest)==null||f.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=It.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=OE(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new _m);const a=this.events[t].add(i);return t==="change"?()=>{a(),Qe.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t,i=!0){!i||!this.passiveEffect?this.updateAndNotify(t,i):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,i,a){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return fl.current&&fl.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=It.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>uv)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,uv);return Ib(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,i;(t=this.dependents)==null||t.clear(),(i=this.events.destroy)==null||i.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function qa(e,t){return new NE(e,t)}const{schedule:Nm}=rx(queueMicrotask,!1),Vn={x:!1,y:!1};function Ox(){return Vn.x||Vn.y}function RE(e){return e==="x"||e==="y"?Vn[e]?null:(Vn[e]=!0,()=>{Vn[e]=!1}):Vn.x||Vn.y?null:(Vn.x=Vn.y=!0,()=>{Vn.x=Vn.y=!1})}function Nx(e,t){const i=CE(e),a=new AbortController,r={passive:!0,...t,signal:a.signal};return[i,r,()=>a.abort()]}function fv(e){return!(e.pointerType==="touch"||Ox())}function LE(e,t,i={}){const[a,r,c]=Nx(e,i),o=f=>{if(!fv(f))return;const{target:d}=f,m=t(d,f);if(typeof m!="function"||!d)return;const p=y=>{fv(y)&&(m(y),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,r)};return a.forEach(f=>{f.addEventListener("pointerenter",o,r)}),c}const Rx=(e,t)=>t?e===t?!0:Rx(e,t.parentElement):!1,Rm=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,VE=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $E(e){return VE.has(e.tagName)||e.tabIndex!==-1}const wc=new WeakSet;function dv(e){return t=>{t.key==="Enter"&&e(t)}}function Hd(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const PE=(e,t)=>{const i=e.currentTarget;if(!i)return;const a=dv(()=>{if(wc.has(i))return;Hd(i,"down");const r=dv(()=>{Hd(i,"up")}),c=()=>Hd(i,"cancel");i.addEventListener("keyup",r,t),i.addEventListener("blur",c,t)});i.addEventListener("keydown",a,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",a),t)};function hv(e){return Rm(e)&&!Ox()}function zE(e,t,i={}){const[a,r,c]=Nx(e,i),o=f=>{const d=f.currentTarget;if(!hv(f))return;wc.add(d);const m=t(d,f),p=(v,M)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",_),wc.has(d)&&wc.delete(d),hv(v)&&typeof m=="function"&&m(v,{success:M})},y=v=>{p(v,d===window||d===document||i.useGlobalTarget||Rx(d,v.target))},_=v=>{p(v,!1)};window.addEventListener("pointerup",y,r),window.addEventListener("pointercancel",_,r)};return a.forEach(f=>{(i.useGlobalTarget?window:f).addEventListener("pointerdown",o,r),km(f)&&(f.addEventListener("focus",m=>PE(m,r)),!$E(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),c}function Lx(e){return Yb(e)&&"ownerSVGElement"in e}function BE(e){return Lx(e)&&e.tagName==="svg"}function UE(...e){const t=!Array.isArray(e[0]),i=t?0:-1,a=e[0+i],r=e[1+i],c=e[2+i],o=e[3+i],f=yx(r,c,o);return t?f(a):f}const Tt=e=>!!(e&&e.getVelocity);function qE(e,t,i){const a=e.get();let r=null,c=a,o;const f=typeof a=="string"?a.replace(/[\d.-]/g,""):void 0,d=()=>{r&&(r.stop(),r=null)},m=()=>{d(),r=new au({keyframes:[pv(e.get()),pv(c)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...i,onUpdate:o})};e.attach((y,_)=>(c=y,o=v=>_(mv(v,f)),Qe.postRender(m),e.get()),d);let p;return Tt(t)&&(p=t.on("change",y=>e.set(mv(y,f))),e.on("destroy",p)),p}function mv(e,t){return t?e+t:e}function pv(e){return typeof e=="number"?e:parseFloat(e)}const HE=[...Dx,Rt,Ji],GE=e=>HE.find(jx(e)),Hl=L.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class ZE extends L.Component{getSnapshotBeforeUpdate(t){const i=this.props.childRef.current;if(i&&t.isPresent&&!this.props.isPresent){const a=i.offsetParent,r=km(a)&&a.offsetWidth||0,c=this.props.sizeRef.current;c.height=i.offsetHeight||0,c.width=i.offsetWidth||0,c.top=i.offsetTop,c.left=i.offsetLeft,c.right=r-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function FE({children:e,isPresent:t,anchorX:i}){const a=L.useId(),r=L.useRef(null),c=L.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=L.useContext(Hl);return L.useInsertionEffect(()=>{const{width:f,height:d,top:m,left:p,right:y}=c.current;if(t||!r.current||!f||!d)return;const _=i==="left"?`left: ${p}`:`right: ${y}`;r.current.dataset.motionPopId=a;const v=document.createElement("style");return o&&(v.nonce=o),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${d}px !important;
            ${_}px !important;
            top: ${m}px !important;
          }
        `),()=>{document.head.contains(v)&&document.head.removeChild(v)}},[t]),x.jsx(ZE,{isPresent:t,childRef:r,sizeRef:c,children:L.cloneElement(e,{ref:r})})}const YE=({children:e,initial:t,isPresent:i,onExitComplete:a,custom:r,presenceAffectsLayout:c,mode:o,anchorX:f})=>{const d=zl(XE),m=L.useId();let p=!0,y=L.useMemo(()=>(p=!1,{id:m,initial:t,isPresent:i,custom:r,onExitComplete:_=>{d.set(_,!0);for(const v of d.values())if(!v)return;a&&a()},register:_=>(d.set(_,!1),()=>d.delete(_))}),[i,d,a]);return c&&p&&(y={...y}),L.useMemo(()=>{d.forEach((_,v)=>d.set(v,!1))},[i]),L.useEffect(()=>{!i&&!d.size&&a&&a()},[i]),o==="popLayout"&&(e=x.jsx(FE,{isPresent:i,anchorX:f,children:e})),x.jsx(iu.Provider,{value:y,children:e})};function XE(){return new Map}function Vx(e=!0){const t=L.useContext(iu);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:a,register:r}=t,c=L.useId();L.useEffect(()=>{if(e)return r(c)},[e]);const o=L.useCallback(()=>e&&a&&a(c),[c,a,e]);return!i&&a?[!1,o]:[!0]}const pc=e=>e.key||"";function gv(e){const t=[];return L.Children.forEach(e,i=>{L.isValidElement(i)&&t.push(i)}),t}const Wi=({children:e,custom:t,initial:i=!0,onExitComplete:a,presenceAffectsLayout:r=!0,mode:c="sync",propagate:o=!1,anchorX:f="left"})=>{const[d,m]=Vx(o),p=L.useMemo(()=>gv(e),[e]),y=o&&!d?[]:p.map(pc),_=L.useRef(!0),v=L.useRef(p),M=zl(()=>new Map),[w,T]=L.useState(p),[A,R]=L.useState(p);hm(()=>{_.current=!1,v.current=p;for(let C=0;C<A.length;C++){const F=pc(A[C]);y.includes(F)?M.delete(F):M.get(F)!==!0&&M.set(F,!1)}},[A,y.length,y.join("-")]);const N=[];if(p!==w){let C=[...p];for(let F=0;F<A.length;F++){const U=A[F],B=pc(U);y.includes(B)||(C.splice(F,0,U),N.push(U))}return c==="wait"&&N.length&&(C=N),R(gv(C)),T(p),null}const{forceRender:W}=L.useContext(fm);return x.jsx(x.Fragment,{children:A.map(C=>{const F=pc(C),U=o&&!d?!1:p===A||y.includes(F),B=()=>{if(M.has(F))M.set(F,!0);else return;let J=!0;M.forEach(te=>{te||(J=!1)}),J&&(W==null||W(),R(v.current),o&&(m==null||m()),a&&a())};return x.jsx(YE,{isPresent:U,initial:!_.current||i?void 0:!1,custom:t,presenceAffectsLayout:r,mode:c,onExitComplete:U?void 0:B,anchorX:f,children:C},F)})})},$x=L.createContext({strict:!1}),yv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ys={};for(const e in yv)Ys[e]={isEnabled:t=>yv[e].some(i=>!!t[i])};function IE(e){for(const t in e)Ys[t]={...Ys[t],...e[t]}}const KE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||KE.has(e)}let Px=e=>!Zc(e);function QE(e){e&&(Px=t=>t.startsWith("on")?!Zc(t):e(t))}try{QE(require("@emotion/is-prop-valid").default)}catch{}function WE(e,t,i){const a={};for(const r in e)r==="values"&&typeof e.values=="object"||(Px(r)||i===!0&&Zc(r)||!t&&!Zc(r)||e.draggable&&r.startsWith("onDrag"))&&(a[r]=e[r]);return a}function JE(e){if(typeof Proxy>"u")return e;const t=new Map,i=(...a)=>e(...a);return new Proxy(i,{get:(a,r)=>r==="create"?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}const su=L.createContext({});function ru(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function jl(e){return typeof e=="string"||Array.isArray(e)}const Lm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vm=["initial",...Lm];function lu(e){return ru(e.animate)||Vm.some(t=>jl(e[t]))}function zx(e){return!!(lu(e)||e.variants)}function e2(e,t){if(lu(e)){const{initial:i,animate:a}=e;return{initial:i===!1||jl(i)?i:void 0,animate:jl(a)?a:void 0}}return e.inherit!==!1?t:{}}function t2(e){const{initial:t,animate:i}=e2(e,L.useContext(su));return L.useMemo(()=>({initial:t,animate:i}),[_v(t),_v(i)])}function _v(e){return Array.isArray(e)?e.join(" "):e}const n2=Symbol.for("motionComponentSymbol");function Rs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function i2(e,t,i){return L.useCallback(a=>{a&&e.onMount&&e.onMount(a),t&&(a?t.mount(a):t.unmount()),i&&(typeof i=="function"?i(a):Rs(i)&&(i.current=a))},[t])}const $m=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),a2="framerAppearId",Bx="data-"+$m(a2),Ux=L.createContext({});function s2(e,t,i,a,r){var w,T;const{visualElement:c}=L.useContext(su),o=L.useContext($x),f=L.useContext(iu),d=L.useContext(Hl).reducedMotion,m=L.useRef(null);a=a||o.renderer,!m.current&&a&&(m.current=a(e,{visualState:t,parent:c,props:i,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:d}));const p=m.current,y=L.useContext(Ux);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&r2(m.current,i,r,y);const _=L.useRef(!1);L.useInsertionEffect(()=>{p&&_.current&&p.update(i,f)});const v=i[Bx],M=L.useRef(!!v&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,v))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,v)));return hm(()=>{p&&(_.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Nm.render(p.render),M.current&&p.animationState&&p.animationState.animateChanges())}),L.useEffect(()=>{p&&(!M.current&&p.animationState&&p.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)==null||A.call(window,v)}),M.current=!1))}),p}function r2(e,t,i,a){const{layoutId:r,layout:c,drag:o,dragConstraints:f,layoutScroll:d,layoutRoot:m,layoutCrossfade:p}=t;e.projection=new i(e.latestValues,t["data-framer-portal-id"]?void 0:qx(e.parent)),e.projection.setOptions({layoutId:r,layout:c,alwaysMeasureLayout:!!o||f&&Rs(f),visualElement:e,animationType:typeof c=="string"?c:"both",initialPromotionConfig:a,crossfade:p,layoutScroll:d,layoutRoot:m})}function qx(e){if(e)return e.options.allowProjection!==!1?e.projection:qx(e.parent)}function l2({preloadedFeatures:e,createVisualElement:t,useRender:i,useVisualState:a,Component:r}){e&&IE(e);function c(f,d){let m;const p={...L.useContext(Hl),...f,layoutId:o2(f)},{isStatic:y}=p,_=t2(f),v=a(f,y);if(!y&&dm){c2();const M=u2(p);m=M.MeasureLayout,_.visualElement=s2(r,v,p,t,M.ProjectionNode)}return x.jsxs(su.Provider,{value:_,children:[m&&_.visualElement?x.jsx(m,{visualElement:_.visualElement,...p}):null,i(r,f,i2(v,_.visualElement,d),v,y,_.visualElement)]})}c.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const o=L.forwardRef(c);return o[n2]=r,o}function o2({layoutId:e}){const t=L.useContext(fm).id;return t&&e!==void 0?t+"-"+e:e}function c2(e,t){L.useContext($x).strict}function u2(e){const{drag:t,layout:i}=Ys;if(!t&&!i)return{};const a={...t,...i};return{MeasureLayout:t!=null&&t.isEnabled(e)||i!=null&&i.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}const Dl={};function f2(e){for(const t in e)Dl[t]=e[t],xm(t)&&(Dl[t].isCSSVariable=!0)}function Hx(e,{layout:t,layoutId:i}){return Ws.has(e)||e.startsWith("origin")||(t||i!==void 0)&&(!!Dl[e]||e==="opacity")}const d2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},h2=Qs.length;function m2(e,t,i){let a="",r=!0;for(let c=0;c<h2;c++){const o=Qs[c],f=e[o];if(f===void 0)continue;let d=!0;if(typeof f=="number"?d=f===(o.startsWith("scale")?1:0):d=parseFloat(f)===0,!d||i){const m=Cx(f,Om[o]);if(!d){r=!1;const p=d2[o]||o;a+=`${p}(${m}) `}i&&(t[o]=m)}}return a=a.trim(),i?a=i(t,r?"":a):r&&(a="none"),a}function Pm(e,t,i){const{style:a,vars:r,transformOrigin:c}=e;let o=!1,f=!1;for(const d in t){const m=t[d];if(Ws.has(d)){o=!0;continue}else if(xm(d)){r[d]=m;continue}else{const p=Cx(m,Om[d]);d.startsWith("origin")?(f=!0,c[d]=p):a[d]=p}}if(t.transform||(o||i?a.transform=m2(t,e.transform,i):a.transform&&(a.transform="none")),f){const{originX:d="50%",originY:m="50%",originZ:p=0}=c;a.transformOrigin=`${d} ${m} ${p}`}}const zm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Gx(e,t,i){for(const a in t)!Tt(t[a])&&!Hx(a,i)&&(e[a]=t[a])}function p2({transformTemplate:e},t){return L.useMemo(()=>{const i=zm();return Pm(i,t,e),Object.assign({},i.vars,i.style)},[t])}function g2(e,t){const i=e.style||{},a={};return Gx(a,i,e),Object.assign(a,p2(e,t)),a}function y2(e,t){const i={},a=g2(e,t);return e.drag&&e.dragListener!==!1&&(i.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=a,i}const _2={offset:"stroke-dashoffset",array:"stroke-dasharray"},v2={offset:"strokeDashoffset",array:"strokeDasharray"};function b2(e,t,i=1,a=0,r=!0){e.pathLength=1;const c=r?_2:v2;e[c.offset]=ge.transform(-a);const o=ge.transform(t),f=ge.transform(i);e[c.array]=`${o} ${f}`}function Zx(e,{attrX:t,attrY:i,attrScale:a,pathLength:r,pathSpacing:c=1,pathOffset:o=0,...f},d,m,p){if(Pm(e,f,m),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:_}=e;y.transform&&(_.transform=y.transform,delete y.transform),(_.transform||y.transformOrigin)&&(_.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),_.transform&&(_.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete y.transformBox),t!==void 0&&(y.x=t),i!==void 0&&(y.y=i),a!==void 0&&(y.scale=a),r!==void 0&&b2(y,r,c,o,!1)}const Fx=()=>({...zm(),attrs:{}}),Yx=e=>typeof e=="string"&&e.toLowerCase()==="svg";function x2(e,t,i,a){const r=L.useMemo(()=>{const c=Fx();return Zx(c,t,Yx(a),e.transformTemplate,e.style),{...c.attrs,style:{...c.style}}},[t]);if(e.style){const c={};Gx(c,e.style,e),r.style={...c,...r.style}}return r}const S2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Bm(e){return typeof e!="string"||e.includes("-")?!1:!!(S2.indexOf(e)>-1||/[A-Z]/u.test(e))}function T2(e=!1){return(i,a,r,{latestValues:c},o)=>{const d=(Bm(i)?x2:y2)(a,c,o,i),m=WE(a,typeof i=="string",e),p=i!==L.Fragment?{...m,...d,ref:r}:{},{children:y}=a,_=L.useMemo(()=>Tt(y)?y.get():y,[y]);return L.createElement(i,{...p,children:_})}}function vv(e){const t=[{},{}];return e==null||e.values.forEach((i,a)=>{t[0][a]=i.get(),t[1][a]=i.getVelocity()}),t}function Um(e,t,i,a){if(typeof t=="function"){const[r,c]=vv(a);t=t(i!==void 0?i:e.custom,r,c)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,c]=vv(a);t=t(i!==void 0?i:e.custom,r,c)}return t}function jc(e){return Tt(e)?e.get():e}function M2({scrapeMotionValuesFromProps:e,createRenderState:t},i,a,r){return{latestValues:A2(i,a,r,e),renderState:t()}}const Xx=e=>(t,i)=>{const a=L.useContext(su),r=L.useContext(iu),c=()=>M2(e,t,a,r);return i?c():zl(c)};function A2(e,t,i,a){const r={},c=a(e,{});for(const _ in c)r[_]=jc(c[_]);let{initial:o,animate:f}=e;const d=lu(e),m=zx(e);t&&m&&!d&&e.inherit!==!1&&(o===void 0&&(o=t.initial),f===void 0&&(f=t.animate));let p=i?i.initial===!1:!1;p=p||o===!1;const y=p?f:o;if(y&&typeof y!="boolean"&&!ru(y)){const _=Array.isArray(y)?y:[y];for(let v=0;v<_.length;v++){const M=Um(e,_[v]);if(M){const{transitionEnd:w,transition:T,...A}=M;for(const R in A){let N=A[R];if(Array.isArray(N)){const W=p?N.length-1:0;N=N[W]}N!==null&&(r[R]=N)}for(const R in w)r[R]=w[R]}}}return r}function qm(e,t,i){var c;const{style:a}=e,r={};for(const o in a)(Tt(a[o])||t.style&&Tt(t.style[o])||Hx(o,e)||((c=i==null?void 0:i.getValue(o))==null?void 0:c.liveStyle)!==void 0)&&(r[o]=a[o]);return r}const w2={useVisualState:Xx({scrapeMotionValuesFromProps:qm,createRenderState:zm})};function Ix(e,t,i){const a=qm(e,t,i);for(const r in e)if(Tt(e[r])||Tt(t[r])){const c=Qs.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;a[c]=e[r]}return a}const j2={useVisualState:Xx({scrapeMotionValuesFromProps:Ix,createRenderState:Fx})};function D2(e,t){return function(a,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...Bm(a)?j2:w2,preloadedFeatures:e,useRender:T2(r),createVisualElement:t,Component:a};return l2(o)}}function El(e,t,i){const a=e.getProps();return Um(a,t,i!==void 0?i:a.custom,e)}const kh=e=>Array.isArray(e);function E2(e,t,i){e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,qa(i))}function k2(e){return kh(e)?e[e.length-1]||0:e}function C2(e,t){const i=El(e,t);let{transitionEnd:a={},transition:r={},...c}=i||{};c={...c,...a};for(const o in c){const f=k2(c[o]);E2(e,o,f)}}function O2(e){return!!(Tt(e)&&e.add)}function Ch(e,t){const i=e.getValue("willChange");if(O2(i))return i.add(t);if(!i&&xi.WillChange){const a=new xi.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function Kx(e){return e.props[Bx]}const N2=e=>e!==null;function R2(e,{repeat:t,repeatType:i="loop"},a){const r=e.filter(N2),c=t&&i!=="loop"&&t%2===1?0:r.length-1;return r[c]}const L2={type:"spring",stiffness:500,damping:25,restSpeed:10},V2=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),$2={type:"keyframes",duration:.8},P2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},z2=(e,{keyframes:t})=>t.length>2?$2:Ws.has(e)?e.startsWith("scale")?V2(t[1]):L2:P2;function B2({when:e,delay:t,delayChildren:i,staggerChildren:a,staggerDirection:r,repeat:c,repeatType:o,repeatDelay:f,from:d,elapsed:m,...p}){return!!Object.keys(p).length}const Hm=(e,t,i,a={},r,c)=>o=>{const f=Cm(a,e)||{},d=f.delay||a.delay||0;let{elapsed:m=0}=a;m=m-In(d);const p={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-m,onUpdate:_=>{t.set(_),f.onUpdate&&f.onUpdate(_)},onComplete:()=>{o(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:c?void 0:r};B2(f)||Object.assign(p,z2(e,p)),p.duration&&(p.duration=In(p.duration)),p.repeatDelay&&(p.repeatDelay=In(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let y=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(y=!0)),(xi.instantAnimations||xi.skipAnimations)&&(y=!0,p.duration=0,p.delay=0),p.allowFlatten=!f.type&&!f.ease,y&&!c&&t.get()!==void 0){const _=R2(p.keyframes,f);if(_!==void 0){Qe.update(()=>{p.onUpdate(_),p.onComplete()});return}}return f.isSync?new au(p):new _E(p)};function U2({protectedKeys:e,needsAnimating:t},i){const a=e.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,a}function Qx(e,t,{delay:i=0,transitionOverride:a,type:r}={}){let{transition:c=e.getDefaultTransition(),transitionEnd:o,...f}=t;a&&(c=a);const d=[],m=r&&e.animationState&&e.animationState.getState()[r];for(const p in f){const y=e.getValue(p,e.latestValues[p]??null),_=f[p];if(_===void 0||m&&U2(m,p))continue;const v={delay:i,...Cm(c||{},p)},M=y.get();if(M!==void 0&&!y.isAnimating&&!Array.isArray(_)&&_===M&&!v.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const A=Kx(e);if(A){const R=window.MotionHandoffAnimation(A,p,Qe);R!==null&&(v.startTime=R,w=!0)}}Ch(e,p),y.start(Hm(p,y,_,e.shouldReduceMotion&&wx.has(p)?{type:!1}:v,e,w));const T=y.animation;T&&d.push(T)}return o&&Promise.all(d).then(()=>{Qe.update(()=>{o&&C2(e,o)})}),d}function Oh(e,t,i={}){var d;const a=El(e,t,i.type==="exit"?(d=e.presenceContext)==null?void 0:d.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=a||{};i.transitionOverride&&(r=i.transitionOverride);const c=a?()=>Promise.all(Qx(e,a,i)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=r;return q2(e,t,p+m,y,_,i)}:()=>Promise.resolve(),{when:f}=r;if(f){const[m,p]=f==="beforeChildren"?[c,o]:[o,c];return m().then(()=>p())}else return Promise.all([c(),o(i.delay)])}function q2(e,t,i=0,a=0,r=1,c){const o=[],f=(e.variantChildren.size-1)*a,d=r===1?(m=0)=>m*a:(m=0)=>f-m*a;return Array.from(e.variantChildren).sort(H2).forEach((m,p)=>{m.notify("AnimationStart",t),o.push(Oh(m,t,{...c,delay:i+d(p)}).then(()=>m.notify("AnimationComplete",t)))}),Promise.all(o)}function H2(e,t){return e.sortNodePosition(t)}function G2(e,t,i={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const r=t.map(c=>Oh(e,c,i));a=Promise.all(r)}else if(typeof t=="string")a=Oh(e,t,i);else{const r=typeof t=="function"?El(e,t,i.custom):t;a=Promise.all(Qx(e,r,i))}return a.then(()=>{e.notify("AnimationComplete",t)})}function Wx(e,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==e.length)return!1;for(let a=0;a<i;a++)if(t[a]!==e[a])return!1;return!0}const Z2=Vm.length;function Jx(e){if(!e)return;if(!e.isControllingVariants){const i=e.parent?Jx(e.parent)||{}:{};return e.props.initial!==void 0&&(i.initial=e.props.initial),i}const t={};for(let i=0;i<Z2;i++){const a=Vm[i],r=e.props[a];(jl(r)||r===!1)&&(t[a]=r)}return t}const F2=[...Lm].reverse(),Y2=Lm.length;function X2(e){return t=>Promise.all(t.map(({animation:i,options:a})=>G2(e,i,a)))}function I2(e){let t=X2(e),i=bv(),a=!0;const r=d=>(m,p)=>{var _;const y=El(e,p,d==="exit"?(_=e.presenceContext)==null?void 0:_.custom:void 0);if(y){const{transition:v,transitionEnd:M,...w}=y;m={...m,...w,...M}}return m};function c(d){t=d(e)}function o(d){const{props:m}=e,p=Jx(e.parent)||{},y=[],_=new Set;let v={},M=1/0;for(let T=0;T<Y2;T++){const A=F2[T],R=i[A],N=m[A]!==void 0?m[A]:p[A],W=jl(N),C=A===d?R.isActive:null;C===!1&&(M=T);let F=N===p[A]&&N!==m[A]&&W;if(F&&a&&e.manuallyAnimateOnMount&&(F=!1),R.protectedKeys={...v},!R.isActive&&C===null||!N&&!R.prevProp||ru(N)||typeof N=="boolean")continue;const U=K2(R.prevProp,N);let B=U||A===d&&R.isActive&&!F&&W||T>M&&W,J=!1;const te=Array.isArray(N)?N:[N];let ie=te.reduce(r(A),{});C===!1&&(ie={});const{prevResolvedValues:ae={}}=R,ke={...ae,...ie},Ce=G=>{B=!0,_.has(G)&&(J=!0,_.delete(G)),R.needsAnimating[G]=!0;const ne=e.getValue(G);ne&&(ne.liveStyle=!1)};for(const G in ke){const ne=ie[G],ve=ae[G];if(v.hasOwnProperty(G))continue;let D=!1;kh(ne)&&kh(ve)?D=!Wx(ne,ve):D=ne!==ve,D?ne!=null?Ce(G):_.add(G):ne!==void 0&&_.has(G)?Ce(G):R.protectedKeys[G]=!0}R.prevProp=N,R.prevResolvedValues=ie,R.isActive&&(v={...v,...ie}),a&&e.blockInitialAnimation&&(B=!1),B&&(!(F&&U)||J)&&y.push(...te.map(G=>({animation:G,options:{type:A}})))}if(_.size){const T={};if(typeof m.initial!="boolean"){const A=El(e,Array.isArray(m.initial)?m.initial[0]:m.initial);A&&A.transition&&(T.transition=A.transition)}_.forEach(A=>{const R=e.getBaseTarget(A),N=e.getValue(A);N&&(N.liveStyle=!0),T[A]=R??null}),y.push({animation:T})}let w=!!y.length;return a&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(w=!1),a=!1,w?t(y):Promise.resolve()}function f(d,m){var y;if(i[d].isActive===m)return Promise.resolve();(y=e.variantChildren)==null||y.forEach(_=>{var v;return(v=_.animationState)==null?void 0:v.setActive(d,m)}),i[d].isActive=m;const p=o(d);for(const _ in i)i[_].protectedKeys={};return p}return{animateChanges:o,setActive:f,setAnimateFunction:c,getState:()=>i,reset:()=>{i=bv(),a=!0}}}function K2(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Wx(t,e):!1}function wa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bv(){return{animate:wa(!0),whileInView:wa(),whileHover:wa(),whileTap:wa(),whileDrag:wa(),whileFocus:wa(),exit:wa()}}let aa=class{constructor(t){this.isMounted=!1,this.node=t}update(){}},Q2=class extends aa{constructor(t){super(t),t.animationState||(t.animationState=I2(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ru(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}},W2=0,J2=class extends aa{constructor(){super(...arguments),this.id=W2++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const r=this.node.animationState.setActive("exit",!t);i&&!t&&r.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}};const ek={animation:{Feature:Q2},exit:{Feature:J2}};function kl(e,t,i,a={passive:!0}){return e.addEventListener(t,i,a),()=>e.removeEventListener(t,i)}function Gl(e){return{point:{x:e.pageX,y:e.pageY}}}const tk=e=>t=>Rm(t)&&e(t,Gl(t));function dl(e,t,i,a){return kl(e,t,tk(i),a)}function eS({top:e,left:t,right:i,bottom:a}){return{x:{min:t,max:i},y:{min:e,max:a}}}function nk({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function ik(e,t){if(!t)return e;const i=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:a.y,right:a.x}}const tS=1e-4,ak=1-tS,sk=1+tS,nS=.01,rk=0-nS,lk=0+nS;function Ut(e){return e.max-e.min}function ok(e,t,i){return Math.abs(e-t)<=i}function xv(e,t,i,a=.5){e.origin=a,e.originPoint=nt(t.min,t.max,e.origin),e.scale=Ut(i)/Ut(t),e.translate=nt(i.min,i.max,e.origin)-e.originPoint,(e.scale>=ak&&e.scale<=sk||isNaN(e.scale))&&(e.scale=1),(e.translate>=rk&&e.translate<=lk||isNaN(e.translate))&&(e.translate=0)}function hl(e,t,i,a){xv(e.x,t.x,i.x,a?a.originX:void 0),xv(e.y,t.y,i.y,a?a.originY:void 0)}function Sv(e,t,i){e.min=i.min+t.min,e.max=e.min+Ut(t)}function ck(e,t,i){Sv(e.x,t.x,i.x),Sv(e.y,t.y,i.y)}function Tv(e,t,i){e.min=t.min-i.min,e.max=e.min+Ut(t)}function ml(e,t,i){Tv(e.x,t.x,i.x),Tv(e.y,t.y,i.y)}const Mv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ls=()=>({x:Mv(),y:Mv()}),Av=()=>({min:0,max:0}),ft=()=>({x:Av(),y:Av()});function Mn(e){return[e("x"),e("y")]}function Gd(e){return e===void 0||e===1}function Nh({scale:e,scaleX:t,scaleY:i}){return!Gd(e)||!Gd(t)||!Gd(i)}function Ea(e){return Nh(e)||iS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function iS(e){return wv(e.x)||wv(e.y)}function wv(e){return e&&e!=="0%"}function Fc(e,t,i){const a=e-i,r=t*a;return i+r}function jv(e,t,i,a,r){return r!==void 0&&(e=Fc(e,r,a)),Fc(e,i,a)+t}function Rh(e,t=0,i=1,a,r){e.min=jv(e.min,t,i,a,r),e.max=jv(e.max,t,i,a,r)}function aS(e,{x:t,y:i}){Rh(e.x,t.translate,t.scale,t.originPoint),Rh(e.y,i.translate,i.scale,i.originPoint)}const Dv=.999999999999,Ev=1.0000000000001;function uk(e,t,i,a=!1){const r=i.length;if(!r)return;t.x=t.y=1;let c,o;for(let f=0;f<r;f++){c=i[f],o=c.projectionDelta;const{visualElement:d}=c.options;d&&d.props.style&&d.props.style.display==="contents"||(a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&$s(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,aS(e,o)),a&&Ea(c.latestValues)&&$s(e,c.latestValues))}t.x<Ev&&t.x>Dv&&(t.x=1),t.y<Ev&&t.y>Dv&&(t.y=1)}function Vs(e,t){e.min=e.min+t,e.max=e.max+t}function kv(e,t,i,a,r=.5){const c=nt(e.min,e.max,r);Rh(e,t,i,c,a)}function $s(e,t){kv(e.x,t.x,t.scaleX,t.scale,t.originX),kv(e.y,t.y,t.scaleY,t.scale,t.originY)}function sS(e,t){return eS(ik(e.getBoundingClientRect(),t))}function fk(e,t,i){const a=sS(e,i),{scroll:r}=t;return r&&(Vs(a.x,r.offset.x),Vs(a.y,r.offset.y)),a}const rS=({current:e})=>e?e.ownerDocument.defaultView:null,Cv=(e,t)=>Math.abs(e-t);function dk(e,t){const i=Cv(e.x,t.x),a=Cv(e.y,t.y);return Math.sqrt(i**2+a**2)}let lS=class{constructor(t,i,{transformPagePoint:a,contextWindow:r,dragSnapToOrigin:c=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Fd(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,v=dk(y.offset,{x:0,y:0})>=3;if(!_&&!v)return;const{point:M}=y,{timestamp:w}=Dt;this.history.push({...M,timestamp:w});const{onStart:T,onMove:A}=this.handlers;_||(T&&T(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,y)},this.handlePointerMove=(y,_)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Zd(_,this.transformPagePoint),Qe.update(this.updatePoint,!0)},this.handlePointerUp=(y,_)=>{this.end();const{onEnd:v,onSessionEnd:M,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Fd(y.type==="pointercancel"?this.lastMoveEventInfo:Zd(_,this.transformPagePoint),this.history);this.startEvent&&v&&v(y,T),M&&M(y,T)},!Rm(t))return;this.dragSnapToOrigin=c,this.handlers=i,this.transformPagePoint=a,this.contextWindow=r||window;const o=Gl(t),f=Zd(o,this.transformPagePoint),{point:d}=f,{timestamp:m}=Dt;this.history=[{...d,timestamp:m}];const{onSessionStart:p}=i;p&&p(t,Fd(f,this.history)),this.removeListeners=Bl(dl(this.contextWindow,"pointermove",this.handlePointerMove),dl(this.contextWindow,"pointerup",this.handlePointerUp),dl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Si(this.updatePoint)}};function Zd(e,t){return t?{point:t(e.point)}:e}function Ov(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Fd({point:e},t){return{point:e,delta:Ov(e,oS(t)),offset:Ov(e,hk(t)),velocity:mk(t,.1)}}function hk(e){return e[0]}function oS(e){return e[e.length-1]}function mk(e,t){if(e.length<2)return{x:0,y:0};let i=e.length-1,a=null;const r=oS(e);for(;i>=0&&(a=e[i],!(r.timestamp-a.timestamp>In(t)));)i--;if(!a)return{x:0,y:0};const c=Kn(r.timestamp-a.timestamp);if(c===0)return{x:0,y:0};const o={x:(r.x-a.x)/c,y:(r.y-a.y)/c};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function pk(e,{min:t,max:i},a){return t!==void 0&&e<t?e=a?nt(t,e,a.min):Math.max(e,t):i!==void 0&&e>i&&(e=a?nt(i,e,a.max):Math.min(e,i)),e}function Nv(e,t,i){return{min:t!==void 0?e.min+t:void 0,max:i!==void 0?e.max+i-(e.max-e.min):void 0}}function gk(e,{top:t,left:i,bottom:a,right:r}){return{x:Nv(e.x,i,r),y:Nv(e.y,t,a)}}function Rv(e,t){let i=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([i,a]=[a,i]),{min:i,max:a}}function yk(e,t){return{x:Rv(e.x,t.x),y:Rv(e.y,t.y)}}function _k(e,t){let i=.5;const a=Ut(e),r=Ut(t);return r>a?i=Ml(t.min,t.max-a,e.min):a>r&&(i=Ml(e.min,e.max-r,t.min)),bi(0,1,i)}function vk(e,t){const i={};return t.min!==void 0&&(i.min=t.min-e.min),t.max!==void 0&&(i.max=t.max-e.min),i}const Lh=.35;function bk(e=Lh){return e===!1?e=0:e===!0&&(e=Lh),{x:Lv(e,"left","right"),y:Lv(e,"top","bottom")}}function Lv(e,t,i){return{min:Vv(e,t),max:Vv(e,i)}}function Vv(e,t){return typeof e=="number"?e:e[t]||0}const xk=new WeakMap;let Sk=class{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ft(),this.visualElement=t}start(t,{snapToCursor:i=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const r=p=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(Gl(p).point)},c=(p,y)=>{const{drag:_,dragPropagation:v,onDragStart:M}=this.getProps();if(_&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=RE(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mn(T=>{let A=this.getAxisMotionValue(T).get()||0;if(Qn.test(A)){const{projection:R}=this.visualElement;if(R&&R.layout){const N=R.layout.layoutBox[T];N&&(A=Ut(N)*(parseFloat(A)/100))}}this.originPoint[T]=A}),M&&Qe.postRender(()=>M(p,y)),Ch(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(p,y)=>{const{dragPropagation:_,dragDirectionLock:v,onDirectionLock:M,onDrag:w}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:T}=y;if(v&&this.currentDirection===null){this.currentDirection=Tk(T),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",y.point,T),this.updateAxis("y",y.point,T),this.visualElement.render(),w&&w(p,y)},f=(p,y)=>this.stop(p,y),d=()=>Mn(p=>{var y;return this.getAnimationState(p)==="paused"&&((y=this.getAxisMotionValue(p).animation)==null?void 0:y.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new lS(t,{onSessionStart:r,onStart:c,onMove:o,onSessionEnd:f,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:rS(this.visualElement)})}stop(t,i){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:r}=i;this.startAnimation(r);const{onDragEnd:c}=this.getProps();c&&Qe.postRender(()=>c(t,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,a){const{drag:r}=this.getProps();if(!a||!gc(t,r,this.currentDirection))return;const c=this.getAxisMotionValue(t);let o=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(o=pk(o,this.constraints[t],this.elastic[t])),c.set(o)}resolveConstraints(){var c;const{dragConstraints:t,dragElastic:i}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(c=this.visualElement.projection)==null?void 0:c.layout,r=this.constraints;t&&Rs(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=gk(a.layoutBox,t):this.constraints=!1,this.elastic=bk(i),r!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Mn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=vk(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!Rs(t))return!1;const a=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const c=fk(a,r.root,this.visualElement.getTransformPagePoint());let o=yk(r.layout.layoutBox,c);if(i){const f=i(nk(o));this.hasMutatedConstraints=!!f,f&&(o=eS(f))}return o}startAnimation(t){const{drag:i,dragMomentum:a,dragElastic:r,dragTransition:c,dragSnapToOrigin:o,onDragTransitionEnd:f}=this.getProps(),d=this.constraints||{},m=Mn(p=>{if(!gc(p,i,this.currentDirection))return;let y=d&&d[p]||{};o&&(y={min:0,max:0});const _=r?200:1e6,v=r?40:1e7,M={type:"inertia",velocity:a?t[p]:0,bounceStiffness:_,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...c,...y};return this.startAxisValueAnimation(p,M)});return Promise.all(m).then(f)}startAxisValueAnimation(t,i){const a=this.getAxisMotionValue(t);return Ch(this.visualElement,t),a.start(Hm(t,a,0,i,this.visualElement,!1))}stopAnimation(){Mn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Mn(t=>{var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.pause()})}getAnimationState(t){var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),r=a[i];return r||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){Mn(i=>{const{drag:a}=this.getProps();if(!gc(i,a,this.currentDirection))return;const{projection:r}=this.visualElement,c=this.getAxisMotionValue(i);if(r&&r.layout){const{min:o,max:f}=r.layout.layoutBox[i];c.set(t[i]-nt(o,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:a}=this.visualElement;if(!Rs(i)||!a||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Mn(o=>{const f=this.getAxisMotionValue(o);if(f&&this.constraints!==!1){const d=f.get();r[o]=_k({min:d,max:d},this.constraints[o])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Mn(o=>{if(!gc(o,t,null))return;const f=this.getAxisMotionValue(o),{min:d,max:m}=this.constraints[o];f.set(nt(d,m,r[o]))})}addListeners(){if(!this.visualElement.current)return;xk.set(this.visualElement,this);const t=this.visualElement.current,i=dl(t,"pointerdown",d=>{const{drag:m,dragListener:p=!0}=this.getProps();m&&p&&this.start(d)}),a=()=>{const{dragConstraints:d}=this.getProps();Rs(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,c=r.addEventListener("measure",a);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Qe.read(a);const o=kl(window,"resize",()=>this.scalePositionWithinConstraints()),f=r.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(Mn(p=>{const y=this.getAxisMotionValue(p);y&&(this.originPoint[p]+=d[p].translate,y.set(y.get()+d[p].translate))}),this.visualElement.render())});return()=>{o(),i(),c(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:a=!1,dragPropagation:r=!1,dragConstraints:c=!1,dragElastic:o=Lh,dragMomentum:f=!0}=t;return{...t,drag:i,dragDirectionLock:a,dragPropagation:r,dragConstraints:c,dragElastic:o,dragMomentum:f}}};function gc(e,t,i){return(t===!0||t===e)&&(i===null||i===e)}function Tk(e,t=10){let i=null;return Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x"),i}let Mk=class extends aa{constructor(t){super(t),this.removeGroupControls=Dn,this.removeListeners=Dn,this.controls=new Sk(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Dn}unmount(){this.removeGroupControls(),this.removeListeners()}};const $v=e=>(t,i)=>{e&&Qe.postRender(()=>e(t,i))};let Ak=class extends aa{constructor(){super(...arguments),this.removePointerDownListener=Dn}onPointerDown(t){this.session=new lS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:a,onPanEnd:r}=this.node.getProps();return{onSessionStart:$v(t),onStart:$v(i),onMove:a,onEnd:(c,o)=>{delete this.session,r&&Qe.postRender(()=>r(c,o))}}}mount(){this.removePointerDownListener=dl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};const Dc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Pv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const il={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ge.test(e))e=parseFloat(e);else return e;const i=Pv(e,t.target.x),a=Pv(e,t.target.y);return`${i}% ${a}%`}},wk={correct:(e,{treeScale:t,projectionDelta:i})=>{const a=e,r=Ji.parse(e);if(r.length>5)return a;const c=Ji.createTransformer(e),o=typeof r[0]!="number"?1:0,f=i.x.scale*t.x,d=i.y.scale*t.y;r[0+o]/=f,r[1+o]/=d;const m=nt(f,d,.5);return typeof r[2+o]=="number"&&(r[2+o]/=m),typeof r[3+o]=="number"&&(r[3+o]/=m),c(r)}};let jk=class extends L.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:a,layoutId:r}=this.props,{projection:c}=t;f2(Dk),c&&(i.group&&i.group.add(c),a&&a.register&&r&&a.register(c),c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),Dc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:a,drag:r,isPresent:c}=this.props,{projection:o}=a;return o&&(o.isPresent=c,r||t.layoutDependency!==i||i===void 0||t.isPresent!==c?o.willUpdate():this.safeToRemove(),t.isPresent!==c&&(c?o.promote():o.relegate()||Qe.postRender(()=>{const f=o.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Nm.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:a}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(r),a&&a.deregister&&a.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}};function cS(e){const[t,i]=Vx(),a=L.useContext(fm);return x.jsx(jk,{...e,layoutGroup:a,switchLayoutGroup:L.useContext(Ux),isPresent:t,safeToRemove:i})}const Dk={borderRadius:{...il,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:il,borderTopRightRadius:il,borderBottomLeftRadius:il,borderBottomRightRadius:il,boxShadow:wk};function Ek(e,t,i){const a=Tt(e)?e:qa(e);return a.start(Hm("",a,t,i)),a.animation}const kk=(e,t)=>e.depth-t.depth;let Ck=class{constructor(){this.children=[],this.isDirty=!1}add(t){mm(this.children,t),this.isDirty=!0}remove(t){pm(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(kk),this.isDirty=!1,this.children.forEach(t)}};function Ok(e,t){const i=It.now(),a=({timestamp:r})=>{const c=r-i;c>=t&&(Si(a),e(c-t))};return Qe.setup(a,!0),()=>Si(a)}const uS=["TopLeft","TopRight","BottomLeft","BottomRight"],Nk=uS.length,zv=e=>typeof e=="string"?parseFloat(e):e,Bv=e=>typeof e=="number"||ge.test(e);function Rk(e,t,i,a,r,c){r?(e.opacity=nt(0,i.opacity??1,Lk(a)),e.opacityExit=nt(t.opacity??1,0,Vk(a))):c&&(e.opacity=nt(t.opacity??1,i.opacity??1,a));for(let o=0;o<Nk;o++){const f=`border${uS[o]}Radius`;let d=Uv(t,f),m=Uv(i,f);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||Bv(d)===Bv(m)?(e[f]=Math.max(nt(zv(d),zv(m),a),0),(Qn.test(m)||Qn.test(d))&&(e[f]+="%")):e[f]=m}(t.rotate||i.rotate)&&(e.rotate=nt(t.rotate||0,i.rotate||0,a))}function Uv(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Lk=fS(0,.5,nx),Vk=fS(.5,.95,Dn);function fS(e,t,i){return a=>a<e?0:a>t?1:i(Ml(e,t,a))}function qv(e,t){e.min=t.min,e.max=t.max}function Sn(e,t){qv(e.x,t.x),qv(e.y,t.y)}function Hv(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Gv(e,t,i,a,r){return e-=t,e=Fc(e,1/i,a),r!==void 0&&(e=Fc(e,1/r,a)),e}function $k(e,t=0,i=1,a=.5,r,c=e,o=e){if(Qn.test(t)&&(t=parseFloat(t),t=nt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let f=nt(c.min,c.max,a);e===c&&(f-=t),e.min=Gv(e.min,t,i,f,r),e.max=Gv(e.max,t,i,f,r)}function Zv(e,t,[i,a,r],c,o){$k(e,t[i],t[a],t[r],t.scale,c,o)}const Pk=["x","scaleX","originX"],zk=["y","scaleY","originY"];function Fv(e,t,i,a){Zv(e.x,t,Pk,i?i.x:void 0,a?a.x:void 0),Zv(e.y,t,zk,i?i.y:void 0,a?a.y:void 0)}function Yv(e){return e.translate===0&&e.scale===1}function dS(e){return Yv(e.x)&&Yv(e.y)}function Xv(e,t){return e.min===t.min&&e.max===t.max}function Bk(e,t){return Xv(e.x,t.x)&&Xv(e.y,t.y)}function Iv(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function hS(e,t){return Iv(e.x,t.x)&&Iv(e.y,t.y)}function Kv(e){return Ut(e.x)/Ut(e.y)}function Qv(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}let Uk=class{constructor(){this.members=[]}add(t){mm(this.members,t),t.scheduleRender()}remove(t){if(pm(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(r=>t===r);if(i===0)return!1;let a;for(let r=i;r>=0;r--){const c=this.members[r];if(c.isPresent!==!1){a=c;break}}return a?(this.promote(a),!0):!1}promote(t,i){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,i&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:a}=t;i.onExitComplete&&i.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function qk(e,t,i){let a="";const r=e.x.translate/t.x,c=e.y.translate/t.y,o=(i==null?void 0:i.z)||0;if((r||c||o)&&(a=`translate3d(${r}px, ${c}px, ${o}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:m,rotate:p,rotateX:y,rotateY:_,skewX:v,skewY:M}=i;m&&(a=`perspective(${m}px) ${a}`),p&&(a+=`rotate(${p}deg) `),y&&(a+=`rotateX(${y}deg) `),_&&(a+=`rotateY(${_}deg) `),v&&(a+=`skewX(${v}deg) `),M&&(a+=`skewY(${M}deg) `)}const f=e.x.scale*t.x,d=e.y.scale*t.y;return(f!==1||d!==1)&&(a+=`scale(${f}, ${d})`),a||"none"}const Yd=["","X","Y","Z"],Hk={visibility:"hidden"},Gk=1e3;let Zk=0;function Xd(e,t,i,a){const{latestValues:r}=t;r[e]&&(i[e]=r[e],t.setStaticValue(e,0),a&&(a[e]=0))}function mS(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const i=Kx(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:r,layoutId:c}=e.options;window.MotionCancelOptimisedAnimation(i,"transform",Qe,!(r||c))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&mS(a)}function pS({attachResizeListener:e,defaultParent:t,measureScroll:i,checkIsScrollRoot:a,resetTransform:r}){return class{constructor(o={},f=t==null?void 0:t()){this.id=Zk++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Xk),this.nodes.forEach(Jk),this.nodes.forEach(eC),this.nodes.forEach(Ik)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ck)}addEventListener(o,f){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new _m),this.eventHandlers.get(o).add(f)}notifyListeners(o,...f){const d=this.eventHandlers.get(o);d&&d.notify(...f)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Lx(o)&&!BE(o),this.instance=o;const{layoutId:f,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||f)&&(this.isLayoutDirty=!0),e){let p;const y=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=Ok(y,250),Dc.hasAnimatedSinceResize&&(Dc.hasAnimatedSinceResize=!1,this.nodes.forEach(Jv))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&m&&(f||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:y,hasRelativeLayoutChanged:_,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||m.getDefaultTransition()||sC,{onLayoutAnimationStart:w,onLayoutAnimationComplete:T}=m.getProps(),A=!this.targetLayout||!hS(this.targetLayout,v),R=!y&&_;if(this.options.layoutRoot||this.resumeFrom||R||y&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...Cm(M,"layout"),onPlay:w,onComplete:T};(m.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(p,R)}else y||Jv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Si(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tC),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&mS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const y=this.path[p];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:f,layout:d}=this.options;if(f===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Wv);return}this.isUpdating||this.nodes.forEach(Qk),this.isUpdating=!1,this.nodes.forEach(Wk),this.nodes.forEach(Fk),this.nodes.forEach(Yk),this.clearAllSnapshots();const f=It.now();Dt.delta=bi(0,1e3/60,f-Dt.timestamp),Dt.timestamp=f,Dt.isProcessing=!0,zd.update.process(Dt),zd.preRender.process(Dt),zd.render.process(Dt),Dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Nm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Kk),this.sharedNodes.forEach(nC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ut(this.snapshot.measuredBox.x)&&!Ut(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(f=!1),f&&this.instance){const d=a(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!dS(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;o&&this.instance&&(f||Ea(this.latestValues)||p)&&(r(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const f=this.measurePageBox();let d=this.removeElementScroll(f);return o&&(d=this.removeTransform(d)),rC(d),{animationId:this.root.animationId,measuredBox:f,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:o}=this.options;if(!o)return ft();const f=o.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(lC))){const{scroll:p}=this.root;p&&(Vs(f.x,p.offset.x),Vs(f.y,p.offset.y))}return f}removeElementScroll(o){var d;const f=ft();if(Sn(f,o),(d=this.scroll)!=null&&d.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&Sn(f,o),Vs(f.x,y.offset.x),Vs(f.y,y.offset.y))}return f}applyTransform(o,f=!1){const d=ft();Sn(d,o);for(let m=0;m<this.path.length;m++){const p=this.path[m];!f&&p.options.layoutScroll&&p.scroll&&p!==p.root&&$s(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Ea(p.latestValues)&&$s(d,p.latestValues)}return Ea(this.latestValues)&&$s(d,this.latestValues),d}removeTransform(o){const f=ft();Sn(f,o);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!Ea(m.latestValues))continue;Nh(m.latestValues)&&m.updateSnapshot();const p=ft(),y=m.measurePageBox();Sn(p,y),Fv(f,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return Ea(this.latestValues)&&Fv(f,this.latestValues),f}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var _;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==f;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:y}=this.options;if(!(!this.layout||!(p||y))){if(this.resolvedRelativeTargetAt=Dt.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),ml(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Sn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ft(),this.targetWithTransforms=ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ck(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Sn(this.target,this.layout.layoutBox),aS(this.target,this.targetDelta)):Sn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),ml(this.relativeTargetOrigin,this.target,v.target),Sn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Nh(this.parent.latestValues)||iS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var M;const o=this.getLead(),f=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||(M=this.parent)!=null&&M.isProjectionDirty)&&(d=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Dt.timestamp&&(d=!1),d)return;const{layout:m,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||p))return;Sn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,_=this.treeScale.y;uk(this.layoutCorrected,this.treeScale,this.path,f),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ft());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Hv(this.prevProjectionDelta.x,this.projectionDelta.x),Hv(this.prevProjectionDelta.y,this.projectionDelta.y)),hl(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==_||!Qv(this.projectionDelta.x,this.prevProjectionDelta.x)||!Qv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),o){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ls(),this.projectionDelta=Ls(),this.projectionDeltaWithTransform=Ls()}setAnimationOrigin(o,f=!1){const d=this.snapshot,m=d?d.latestValues:{},p={...this.latestValues},y=Ls();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const _=ft(),v=d?d.source:void 0,M=this.layout?this.layout.source:void 0,w=v!==M,T=this.getStack(),A=!T||T.members.length<=1,R=!!(w&&!A&&this.options.crossfade===!0&&!this.path.some(aC));this.animationProgress=0;let N;this.mixTargetDelta=W=>{const C=W/1e3;e1(y.x,o.x,C),e1(y.y,o.y,C),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ml(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),iC(this.relativeTarget,this.relativeTargetOrigin,_,C),N&&Bk(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=ft()),Sn(N,this.relativeTarget)),w&&(this.animationValues=p,Rk(p,m,this.latestValues,C,R,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var f,d,m;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(m=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||m.stop(),this.pendingAnimation&&(Si(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qe.update(()=>{Dc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qa(0)),this.currentAnimation=Ek(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),o.onUpdate&&o.onUpdate(p)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Gk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:f,target:d,layout:m,latestValues:p}=o;if(!(!f||!d||!m)){if(this!==o&&this.layout&&m&&gS(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||ft();const y=Ut(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+y;const _=Ut(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+_}Sn(f,d),$s(f,p),hl(this.projectionDeltaWithTransform,this.layoutCorrected,f,p)}}registerSharedNode(o,f){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Uk),this.sharedNodes.get(o).add(f);const m=f.options.initialPromotionConfig;f.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(f):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var f;const{layoutId:o}=this.options;return o?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:o}=this.options;return o?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:f,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let f=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(f=!0),!f)return;const m={};d.z&&Xd("z",o,m,this.animationValues);for(let p=0;p<Yd.length;p++)Xd(`rotate${Yd[p]}`,o,m,this.animationValues),Xd(`skew${Yd[p]}`,o,m,this.animationValues);o.render();for(const p in m)o.setStaticValue(p,m[p]),this.animationValues&&(this.animationValues[p]=m[p]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Hk;const f={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=jc(o==null?void 0:o.pointerEvents)||"",f.transform=d?d(this.latestValues,""):"none",f;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=jc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ea(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const p=m.animationValues||m.latestValues;this.applyTransformsToTarget(),f.transform=qk(this.projectionDeltaWithTransform,this.treeScale,p),d&&(f.transform=d(p,f.transform));const{x:y,y:_}=this.projectionDelta;f.transformOrigin=`${y.origin*100}% ${_.origin*100}% 0`,m.animationValues?f.opacity=m===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:f.opacity=m===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in Dl){if(p[v]===void 0)continue;const{correct:M,applyTo:w,isCSSVariable:T}=Dl[v],A=f.transform==="none"?p[v]:M(p[v],m);if(w){const R=w.length;for(let N=0;N<R;N++)f[w[N]]=A}else T?this.options.visualElement.renderState.vars[v]=A:f[v]=A}return this.options.layoutId&&(f.pointerEvents=m===this?jc(o==null?void 0:o.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var f;return(f=o.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(Wv),this.root.sharedNodes.clear()}}}function Fk(e){e.updateLayout()}function Yk(e){var i;const t=((i=e.resumeFrom)==null?void 0:i.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:r}=e.layout,{animationType:c}=e.options,o=t.source!==e.layout.source;c==="size"?Mn(y=>{const _=o?t.measuredBox[y]:t.layoutBox[y],v=Ut(_);_.min=a[y].min,_.max=_.min+v}):gS(c,t.layoutBox,a)&&Mn(y=>{const _=o?t.measuredBox[y]:t.layoutBox[y],v=Ut(a[y]);_.max=_.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+v)});const f=Ls();hl(f,a,t.layoutBox);const d=Ls();o?hl(d,e.applyTransform(r,!0),t.measuredBox):hl(d,a,t.layoutBox);const m=!dS(f);let p=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:v}=y;if(_&&v){const M=ft();ml(M,t.layoutBox,_.layoutBox);const w=ft();ml(w,a,v.layoutBox),hS(M,w)||(p=!0),y.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=M,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:t,delta:d,layoutDelta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function Xk(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Ik(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Kk(e){e.clearSnapshot()}function Wv(e){e.clearMeasurements()}function Qk(e){e.isLayoutDirty=!1}function Wk(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Jv(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Jk(e){e.resolveTargetDelta()}function eC(e){e.calcProjection()}function tC(e){e.resetSkewAndRotation()}function nC(e){e.removeLeadSnapshot()}function e1(e,t,i){e.translate=nt(t.translate,0,i),e.scale=nt(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function t1(e,t,i,a){e.min=nt(t.min,i.min,a),e.max=nt(t.max,i.max,a)}function iC(e,t,i,a){t1(e.x,t.x,i.x,a),t1(e.y,t.y,i.y,a)}function aC(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const sC={duration:.45,ease:[.4,0,.1,1]},n1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),i1=n1("applewebkit/")&&!n1("chrome/")?Math.round:Dn;function a1(e){e.min=i1(e.min),e.max=i1(e.max)}function rC(e){a1(e.x),a1(e.y)}function gS(e,t,i){return e==="position"||e==="preserve-aspect"&&!ok(Kv(t),Kv(i),.2)}function lC(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const oC=pS({attachResizeListener:(e,t)=>kl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Id={current:void 0},yS=pS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Id.current){const e=new oC({});e.mount(window),e.setOptions({layoutScroll:!0}),Id.current=e}return Id.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),cC={pan:{Feature:Ak},drag:{Feature:Mk,ProjectionNode:yS,MeasureLayout:cS}};function s1(e,t,i){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",i==="Start");const r="onHover"+i,c=a[r];c&&Qe.postRender(()=>c(t,Gl(t)))}let uC=class extends aa{mount(){const{current:t}=this.node;t&&(this.unmount=LE(t,(i,a)=>(s1(this.node,a,"Start"),r=>s1(this.node,r,"End"))))}unmount(){}},fC=class extends aa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bl(kl(this.node.current,"focus",()=>this.onFocus()),kl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};function r1(e,t,i){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",i==="Start");const r="onTap"+(i==="End"?"":i),c=a[r];c&&Qe.postRender(()=>c(t,Gl(t)))}let dC=class extends aa{mount(){const{current:t}=this.node;t&&(this.unmount=zE(t,(i,a)=>(r1(this.node,a,"Start"),(r,{success:c})=>r1(this.node,r,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};const Vh=new WeakMap,Kd=new WeakMap,hC=e=>{const t=Vh.get(e.target);t&&t(e)},mC=e=>{e.forEach(hC)};function pC({root:e,...t}){const i=e||document;Kd.has(i)||Kd.set(i,{});const a=Kd.get(i),r=JSON.stringify(t);return a[r]||(a[r]=new IntersectionObserver(mC,{root:e,...t})),a[r]}function gC(e,t,i){const a=pC(t);return Vh.set(e,i),a.observe(e),()=>{Vh.delete(e),a.unobserve(e)}}const yC={some:0,all:1};let _C=class extends aa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:a,amount:r="some",once:c}=t,o={root:i?i.current:void 0,rootMargin:a,threshold:typeof r=="number"?r:yC[r]},f=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,c&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:y}=this.node.getProps(),_=m?p:y;_&&_(d)};return gC(this.node.current,o,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(vC(t,i))&&this.startObserver()}unmount(){}};function vC({viewport:e={}},{viewport:t={}}={}){return i=>e[i]!==t[i]}const bC={inView:{Feature:_C},tap:{Feature:dC},focus:{Feature:fC},hover:{Feature:uC}},xC={layout:{ProjectionNode:yS,MeasureLayout:cS}},$h={current:null},_S={current:!1};function SC(){if(_S.current=!0,!!dm)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>$h.current=e.matches;e.addListener(t),t()}else $h.current=!1}const TC=new WeakMap;function MC(e,t,i){for(const a in t){const r=t[a],c=i[a];if(Tt(r))e.addValue(a,r);else if(Tt(c))e.addValue(a,qa(r,{owner:e}));else if(c!==r)if(e.hasValue(a)){const o=e.getValue(a);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=e.getStaticValue(a);e.addValue(a,qa(o!==void 0?o:r,{owner:e}))}}for(const a in i)t[a]===void 0&&e.removeValue(a);return t}const l1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let AC=class{scrapeMotionValuesFromProps(t,i,a){return{}}constructor({parent:t,props:i,presenceContext:a,reducedMotionConfig:r,blockInitialAnimation:c,visualState:o},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Em,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=It.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Qe.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=i.initial?{...d}:{},this.renderState=m,this.parent=t,this.props=i,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=f,this.blockInitialAnimation=!!c,this.isControllingVariants=lu(i),this.isVariantNode=zx(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...y}=this.scrapeMotionValuesFromProps(i,{},this);for(const _ in y){const v=y[_];d[_]!==void 0&&Tt(v)&&v.set(d[_],!1)}}mount(t){this.current=t,TC.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,a)=>this.bindToMotionValue(a,i)),_S.current||SC(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$h.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Si(this.notifyUpdate),Si(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=Ws.has(t);a&&this.onBindTransform&&this.onBindTransform();const r=i.on("change",f=>{this.latestValues[t]=f,this.props.onUpdate&&Qe.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0)}),c=i.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{r(),c(),o&&o(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ys){const i=Ys[t];if(!i)continue;const{isEnabled:a,Feature:r}=i;if(!this.features[t]&&r&&a(this.props)&&(this.features[t]=new r(this)),this.features[t]){const c=this.features[t];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ft()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let a=0;a<l1.length;a++){const r=l1[a];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const c="on"+r,o=t[c];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=MC(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const a=this.values.get(t);i!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&i!==void 0&&(a=qa(i===null?void 0:i,{owner:this}),this.addValue(t,a)),a}readValue(t,i){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(Fb(a)||Xb(a))?a=parseFloat(a):!GE(a)&&Ji.test(i)&&(a=kx(t,i)),this.setBaseTarget(t,Tt(a)?a.get():a)),Tt(a)?a.get():a}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){var c;const{initial:i}=this.props;let a;if(typeof i=="string"||typeof i=="object"){const o=Um(this.props,i,(c=this.presenceContext)==null?void 0:c.custom);o&&(a=o[t])}if(i&&a!==void 0)return a;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!Tt(r)?r:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new _m),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}},vS=class extends AC{constructor(){super(...arguments),this.KeyframeResolver=kE}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:a}){delete i[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Tt(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}};function bS(e,{style:t,vars:i},a,r){Object.assign(e.style,t,r&&r.getProjectionStyles(a));for(const c in i)e.style.setProperty(c,i[c])}function wC(e){return window.getComputedStyle(e)}let jC=class extends vS{constructor(){super(...arguments),this.type="html",this.renderInstance=bS}readValueFromInstance(t,i){var a;if(Ws.has(i))return(a=this.projection)!=null&&a.isProjecting?Mh(i):ID(t,i);{const r=wC(t),c=(xm(i)?r.getPropertyValue(i):r[i])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(t,{transformPagePoint:i}){return sS(t,i)}build(t,i,a){Pm(t,i,a.transformTemplate)}scrapeMotionValuesFromProps(t,i,a){return qm(t,i,a)}};const xS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function DC(e,t,i,a){bS(e,t,void 0,a);for(const r in t.attrs)e.setAttribute(xS.has(r)?r:$m(r),t.attrs[r])}let EC=class extends vS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ft}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(Ws.has(i)){const a=Ex(i);return a&&a.default||0}return i=xS.has(i)?i:$m(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,a){return Ix(t,i,a)}build(t,i,a){Zx(t,i,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,i,a,r){DC(t,i,a,r)}mount(t){this.isSVGTag=Yx(t.tagName),super.mount(t)}};const kC=(e,t)=>Bm(e)?new EC(t):new jC(t,{allowProjection:e!==L.Fragment}),CC=D2({...ek,...bC,...cC,...xC},kC),Be=JE(CC);function Gm(e){const t=zl(()=>qa(e)),{isStatic:i}=L.useContext(Hl);if(i){const[,a]=L.useState(e);L.useEffect(()=>t.on("change",a),[])}return t}function SS(e,t){const i=Gm(t()),a=()=>i.set(t());return a(),hm(()=>{const r=()=>Qe.preRender(a,!1,!0),c=e.map(o=>o.on("change",r));return()=>{c.forEach(o=>o()),Si(a)}}),i}function OC(e){fl.current=[],e();const t=SS(fl.current,e);return fl.current=void 0,t}function NC(e,t,i,a){if(typeof e=="function")return OC(e);const r=UE(t,i,a);return Array.isArray(e)?o1(e,r):o1([e],([c])=>r(c))}function o1(e,t){const i=zl(()=>[]);return SS(e,()=>{i.length=0;const a=e.length;for(let r=0;r<a;r++)i[r]=e[r].get();return t(i)})}function RC(e,t={}){const{isStatic:i}=L.useContext(Hl),a=()=>Tt(e)?e.get():e;if(i)return NC(a);const r=Gm(a());return L.useInsertionEffect(()=>qE(r,e,t),[r,JSON.stringify(t)]),r}const ht=({card:e,size:t="medium",onClick:i,forceAttack:a,selected:r=!1,customSize:c=void 0,disableActivate:o=!1,rotate:f=!1})=>{const d=$c(Zb),m=$c(um),[p,y]=L.useState([]),[_,v]=L.useState(null),M={small:La.SMALL,medium:La.MEDIUM,large:La.LARGE},w=qn();return e==null?null:x.jsxs("div",{className:`
                ${c??M[t]} 
                ${r?"ring-4 ring-yellow-400":""}
                rounded cursor-pointer hover:scale-105 transition-transform
                shadow-md border border-gray-600 overflow-hidden
                relative
                ${(e.position==="defense"||e.position==="back_defense")&&!a?" -rotate-90":""}
            `,onClick:i,onMouseEnter:()=>{v(e),d(e);const T=nO(w,e);y(T)},onMouseLeave:()=>{v(null)},style:{perspective:"1000px"},children:[x.jsxs(Be.div,{className:"relative w-full h-full",style:{transformStyle:"preserve-3d"},transition:{duration:o?0:.6,ease:"easeInOut"},animate:{rotateY:e.position==="back"||e.position==="back_defense"?180:0},children:[x.jsxs("div",{className:"absolute inset-0 w-full h-full rounded",style:{backfaceVisibility:"hidden"},children:[e.card.image?x.jsx("img",{src:`/yu-gi-oh-1-kill-simulator/card_image/${e.card.image}`,alt:e.card.card_name,className:"w-full h-full object-contain",style:{filter:"drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1))",backgroundColor:"transparent"},onError:T=>{var A;T.currentTarget.style.display="none",(A=T.currentTarget.nextElementSibling)==null||A.classList.remove("hidden")}}):null,x.jsxs("div",{className:`${e.card.image?"hidden":""} w-full h-full bg-gray-700 flex flex-col items-center justify-center p-1 text-white`,children:[x.jsx("div",{className:"text-xs font-bold text-center line-clamp-2",children:e.card.card_name}),K(e.card)&&"attack"in e.card&&x.jsxs("div",{className:"text-xs mt-auto",children:["ATK: ",e.card.attack,e.card.hasDefense?` / DEF: ${e.card.defense}`:""]})]})]}),x.jsx("div",{className:"absolute inset-0 w-full h-full rounded",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:x.jsx("img",{src:"/yu-gi-oh-1-kill-simulator/card_image/reverse.jpg",alt:"Card Back",className:"w-full h-full object-contain",style:{filter:"drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1))",backgroundColor:"transparent"}})})]}),!o&&(_==null?void 0:_.id)===e.id&&p.length>0&&x.jsx("div",{className:"absolute inset-0 z-50",children:x.jsx(Yj,{rotate:f,actions:p,onSelect:T=>{T==="summon"?w.playCard(e):T==="set"?w.setCard(e):T==="activate"?w.playCard(e):T==="effect"&&(w.activateEffect(e),m(!1)),v(null)},card:e})})]})},c1=(e,t)=>{const i=new Set(t);return e.filter(a=>!i.has(a))},Ph=(e,t)=>{const i=[];return e.includes("")&&i.push(t+5),e.includes("")&&i.push(t+6),e.includes("")&&i.push(t+1),e.includes("")&&i.push(t-4),e.includes("")&&i.push(t-5),e.includes("")&&i.push(t-6),e.includes("")&&i.push(t-1),e.includes("")&&i.push(t+4),i},Zm=(e,t)=>{const i=e.filter(c=>c!==null).length,a=[...t,...e].map((c,o)=>({elem:c,zone:o===5?6:o===6?8:o})).filter(({elem:c})=>c!==null).map(({zone:c})=>c===6?5:c===8?6:c),r=[...t,...e].map((c,o)=>({...c,zone:o===5?6:o===6?8:o})).filter(c=>c!==null).filter(c=>(c==null?void 0:c.card)&&vi(c.card)).map(c=>({directions:c.card.linkDirection,zone:c.zone})).map(({directions:c,zone:o})=>Ph(c,o)).flat().filter(c=>c>=0&&c<=4||c===6||c===8).map(c=>c===6?5:c===8?6:c);return c1(i===0?Array.from(new Set([...r,5,6])):Array.from(new Set(r)),a)},LC=[2,1,3,0,4,5,6],_i=e=>LC.find(t=>e.includes(t))??-1,VC=(e,t)=>e.filter(i=>t.includes(i)),$C=({cardInstance:e,state:t,onSelect:i,onCancel:a,optionPosition:r,isOpen:c=!0,popQueue:o,placementMask:f=[0,1,2,3,4,5,6]})=>{const d="w-20 h-32",m="w-20 h-32",p=vi(e.card),y=VC(p?Zm(t.field.extraMonsterZones,t.field.monsterZones):K(e.card)&&(e.card.monster_type===""||e.card.monster_type==="")?[...t.field.monsterZones.map((A,R)=>({elem:A,index:R})).filter(({elem:A})=>A===null),...t.field.extraMonsterZones.map((A,R)=>({elem:A,index:R+5})).filter(({elem:A})=>A===null)].map(A=>A.index):[...t.field.monsterZones.map((A,R)=>({elem:A,index:R})).filter(({elem:A})=>A===null)].map(A=>A.index),f),[_,v]=L.useState(-1),[M,w]=L.useState("attack"),T={...e,position:"back_defense"};return L.useEffect(()=>{v(_i(y)),w(r[0])},[]),L.useEffect(()=>{const A=R=>{R.key==="Enter"&&_>=0&&c&&i(_,M)};return window.addEventListener("keydown",A),()=>{window.removeEventListener("keydown",A)}},[_,M,c,i]),x.jsxs(Ga,{isOpen:c,children:[p&&x.jsx("h3",{className:"text-lg font-bold mb-4 text-center",children:""}),x.jsxs("div",{className:"mb-4 p-4 bg-blue-100 rounded text-center",children:[x.jsx("p",{className:"font-bold",children:e.card.card_name}),e.materials.length>0&&x.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[": ",e.materials.map(A=>A.card.card_name).join(", ")]})]}),x.jsx("p",{className:"text-center mb-6",children:""}),x.jsxs("div",{className:"grid grid-cols-5 gap-4 max-w-6xl",children:[x.jsx("div",{className:`${d}`}),x.jsx(wn,{className:`${d}`,onClick:()=>{y.includes(5)&&v(5)},type:"extra_zone",disabled:!y.includes(5),selected:_===5,customSize:d,disableActivate:!0,children:x.jsx(ht,{card:t.field.extraMonsterZones[0],customSize:m})}),x.jsx("div",{className:`${d}`}),x.jsx(wn,{className:`${d}`,onClick:()=>{y.includes(6)&&v(6)},type:"extra_zone",disabled:!y.includes(6),selected:_===6,customSize:d,disableActivate:!0,children:x.jsx(ht,{card:t.field.extraMonsterZones[1],customSize:m})}),x.jsx("div",{className:`${d}`})]}),x.jsx("div",{className:"grid grid-cols-5 gap-4 max-w-6xl mt-6",children:t.field.monsterZones.map((A,R)=>x.jsx(wn,{className:d,onClick:()=>{y.includes(R)&&v(R)},disabled:!y.includes(R),selected:_===R,customSize:d,disableActivate:!0,children:x.jsx(ht,{card:A,disableActivate:!0,customSize:m})},`monster-${R}`))}),x.jsxs("div",{className:"flex mt-6 items-center justify-around",children:[x.jsx("div",{className:"mr-2",children:""}),r.includes("attack")&&x.jsx(wn,{className:`${m}`,onClick:()=>{w("attack")},selected:M==="attack",customSize:m,children:x.jsx(ht,{card:e,customSize:m,disableActivate:!0})}),r.includes("defense")&&x.jsx(wn,{className:`${m} -rotate-90`,onClick:()=>{w("defense")},selected:M==="defense",customSize:m,children:x.jsx(ht,{card:e,disableActivate:!0,customSize:m})}),r.includes("back_defense")&&x.jsx(wn,{className:`${m} `,onClick:()=>{w("back_defense")},selected:M==="back_defense",reverse:!0,children:x.jsx(ht,{card:T,customSize:m,disableActivate:!0})})]}),x.jsxs("div",{className:"flex justify-center mt-6",children:[x.jsx("button",{onClick:()=>i(_,M),disabled:_<0,className:"px-6 py-3 rounded font-bold bg-blue-500 hover:bg-blue-600 text-white",children:""}),(a||y.length===0)&&x.jsx("button",{onClick:()=>{a?a():o()},className:"px-6 py-3 bg-gray-500 hover:bg-gray-600 text-white rounded font-bold",children:""})]})]})};class je{constructor(t){fc(this,"cardList");this.cardList=t}monster(){const t=this.cardList.filter(i=>i!==null&&K(i.card));return new je(t)}race(t){const i=this.cardList.filter(a=>a!==null&&K(a.card)&&a.card.race===t);return new je(i)}level(t){const i=this.cardList.filter(a=>a!==null&&K(a.card)&&Re(a)===t);return new je(i)}hasLevel(){const t=this.cardList.filter(i=>i!==null&&K(i.card)&&i.card.hasLevel);return new je(t)}upperLevel(t){const i=this.cardList.filter(a=>a!==null&&K(a.card)&&Re(a)>=t);return new je(i)}underLevel(t){const i=this.cardList.filter(a=>a!==null&&K(a.card)&&Re(a)<=t&&0<=Re(a));return new je(i)}fusionMonster(){const t=this.cardList.filter(i=>i!==null&&K(i.card)&&Nj(i.card));return new je(t)}spellOrTrap(){const t=this.cardList.filter(i=>i!==null&&Ke(i.card));return new je(t)}magic(){const t=this.cardList.filter(i=>i!==null&&Ke(i.card));return new je(t)}trap(){const t=this.cardList.filter(i=>i!==null&&Tl(i.card));return new je(t)}equipSpell(){const t=this.cardList.filter(i=>i!==null&&Ke(i.card)&&i.card.magic_type==="");return new je(t)}nonNull(){const t=this.cardList.filter(i=>i!==null);return new je(t)}canNormalSummon(){const t=this.cardList.filter(i=>i!==null&&K(i.card)&&i.card.canNormalSummon);return new je(t)}noSummonLimited(){const t=this.cardList.filter(i=>i!==null&&K(i.card)&&i.card.summonLimited!==!0);return new je(t)}null(){const t=this.cardList.filter(i=>i===null);return new je(t)}element(t){const i=this.cardList.filter(a=>a!==null&&K(a.card)&&a.card.element===t);return new je(i)}lightsworn(){const t=this.cardList.filter(i=>i!==null&&(i.card.card_name.includes("")||i.card.card_name.includes("")));return new je(t)}include(t){const i=this.cardList.filter(a=>a!==null&&a.card.card_name.includes(t));return new je(i)}excludeId(t){const i=this.cardList.filter(a=>a!==null&&a.id!==t);return new je(i)}exclude(t){const i=this.cardList.filter(a=>a!==null&&!a.card.card_name.includes(t));return new je(i)}faceup(){const t=this.cardList.filter(i=>i!==null&&(i.position==="attack"||i.position==="defense"));return new je(t)}hasAttackBelow(t){const i=this.cardList.filter(a=>a!==null&&K(a.card)&&a.card.attack<=t);return new je(i)}unique(){const t=this.cardList.filter(a=>a!==null),i=Array.from(new Map(t.map(a=>[a==null?void 0:a.card.card_name,a])).values());return new je(i)}len(){return this.cardList.length}get(){return this.cardList}clone(){return[...this.cardList]}}class E{constructor(t){fc(this,"state");fc(this,"list",[]);this.state=t}allMonster(){return this.list=[...this.list,...this.state.field.monsterZones,...this.state.field.extraMonsterZones],this}materials(){const t=[...this.state.field.monsterZones.map(i=>(i==null?void 0:i.materials)??[]),...this.state.field.extraMonsterZones.map(i=>(i==null?void 0:i.materials)??[])].flat().filter(i=>i!==null);return this.list=[...this.list,...t],this}monster(){return this.list=[...this.list,...this.state.field.monsterZones],this}exMonster(){return this.list=[...this.list,...this.state.field.extraMonsterZones],this}spellTrap(){return this.list=[...this.list,...this.state.field.spellTrapZones],this}deck(){return this.list=[...this.list,...this.state.deck],this}extraDeck(){return this.list=[...this.list,...this.state.extraDeck],this}hand(){return this.list=[...this.list,...this.state.hand],this}graveyard(){return this.list=[...this.list,...this.state.graveyard],this}banished(){return this.list=[...this.list,...this.state.banished],this}field(){return this.list=[...this.list,this.state.field.fieldZone],this}opponentField(){return this.list=[...this.list,this.state.opponentField.fieldZone],this}allFieldSpellTrap(){return this.list=[...this.list,this.state.opponentField.fieldZone,this.state.field.fieldZone,...this.state.field.spellTrapZones],this}filter(){return new je(this.list)}len(){return this.list.length}get(){return this.list}getNonNull(){return this.list.filter(t=>t!==null)}clone(){return JSON.parse(JSON.stringify(this.list))}}const Re=e=>{var i;const t=((i=e.card)==null?void 0:i.level)??-9999;return e.buf.level+t},on=e=>{var a;const t=((a=e.card)==null?void 0:a.attack)??-9999,i=(e.equipment??[]).reduce((r,c)=>{var o;return r+(((o=c==null?void 0:c.buf)==null?void 0:o.attack)??0)},0);return Math.max(e.buf.attack+t+i,0)},Fm=e=>{var a;const t=((a=e.card)==null?void 0:a.defense)??-9999,i=(e.equipment??[]).reduce((r,c)=>{var o;return r+(((o=c==null?void 0:c.buf)==null?void 0:o.defense)??0)},0);return Math.max(e.buf.defense+t+i,0)},Ue=e=>e.field.monsterZones.filter(t=>t===null).length>0,TS=(e,t)=>{if(Ue(e))return!0;const i=e.field.monsterZones;for(const a of t)if(i.findIndex(r=>(r==null?void 0:r.id)===a.id)!==-1)return!0;return!0},PC=(e,t)=>[...e.field.monsterZones].filter(i=>i!==null),zC=e=>{const t=[...e.field.spellTrapZones.map((i,a)=>({elem:i,index:a})).filter(({elem:i})=>i===null)].map(i=>i.index);return _i(t)},MS=(e,t)=>{const a=e.field.monsterZones.map((r,c)=>({elem:r,index:c})).filter(({elem:r})=>r===null).map(r=>r.index);return _i(a)},Xe=e=>{const t=[...e.deck];for(let i=t.length-1;i>0;i--){const a=Math.floor(Math.random()*(i+1));[t[i],t[a]]=[t[a],t[i]]}e.deck=t},AS=(e,t,i)=>{const a=[...i],r=[...t];for(const o of e){const f=a.findIndex(d=>(d==null?void 0:d.id)===o.id);if(f!==-1)a[f]=null;else{const d=r.findIndex(m=>(m==null?void 0:m.id)===o.id);d!==-1&&(r[d]=null)}}return Zm(r,a).length>0},BC=(e,t,i)=>{if(!vi(e.card))return!1;const a=[...i.filter(o=>o!==null),...t.filter(o=>o!==null)].filter(o=>(o==null?void 0:o.position)==="attack"||(o==null?void 0:o.position)==="defense");if(a.length===0)return!1;const r=e.card.link;if(!r)return!1;const c=(o,f)=>{if(f===0)return[[]];if(o.length===0)return[];const d=[];for(let m=0;m<o.length;m++){const p=o.slice(m+1),y=c(p,f-1);for(const _ of y)d.push([o[m],..._])}return d};for(let o=1;o<=Math.min(a.length,r);o++){const f=c(a,o);for(const d of f){const m=e.card.materialCondition;if(m&&m(d)&&AS(d,t,i))return!0}}return!1},UC=(e,t,i)=>{if(!Bt(e.card))return!1;const a=[...i.filter(c=>c!==null),...t.filter(c=>c!==null)].filter(c=>(c==null?void 0:c.position)==="attack"||(c==null?void 0:c.position)==="defense");if(a.length===0)return!1;const r=(c,o)=>{if(o===0)return[[]];if(c.length===0)return[];const f=[];for(let d=0;d<c.length;d++){const m=c.slice(d+1),p=r(m,o-1);for(const y of p)f.push([c[d],...y])}return f};for(let c=1;c<=a.length;c++){const o=r(a,c);for(const f of o){const d=e.card.materialCondition;if(d&&d(f)&&wS(f,t,i))return!0}}return!1},wS=(e,t,i)=>{const a=[...i],r=[...t];for(const f of e){const d=a.findIndex(m=>(m==null?void 0:m.id)===f.id);if(d!==-1)a[d]=null;else{const m=r.findIndex(p=>(p==null?void 0:p.id)===f.id);m!==-1&&(r[m]=null)}}const c=a.some(f=>f===null),o=r.some(f=>f===null);return c||o},qC=(e,t,i)=>{if(!Gs(e.card))return!1;const a=new je([...i.filter(c=>c!==null),...t.filter(c=>c!==null)]).hasLevel().faceup().get();if(a.length===0)return!1;const r=(c,o)=>{if(o===0)return[[]];if(c.length===0)return[];const f=[];for(let d=0;d<c.length;d++){const m=c.slice(d+1),p=r(m,o-1);for(const y of p)f.push([c[d],...y])}return f};for(let c=2;c<=a.length;c++){const o=r(a,c);for(const f of o){const d=e.card.materialCondition;if(d&&d(f)&&HC(f,t,i))return!0}}return!1},HC=(e,t,i)=>{const a=[...i],r=[...t];for(const f of e){const d=a.findIndex(m=>(m==null?void 0:m.id)===f.id);if(d!==-1)a[d]=null;else{const m=r.findIndex(p=>(p==null?void 0:p.id)===f.id);m!==-1&&(r[m]=null)}}const c=a.some(f=>f===null),o=r.some(f=>f===null);return c||o},Ym=e=>{let t=[0];for(const i of e){const a=i.card.link??1;a>=2?t=t.map(r=>[r,r+1,r+a]).flat():t=t.map(r=>[r,r+1]).flat()}return t},Ne=(e,t)=>new E(e).allFieldSpellTrap().allMonster().deck().extraDeck().hand().graveyard().materials().get().find(i=>i!==null&&i.id===t),ou=(e,t,i)=>{var a,r,c,o,f,d,m;for(let p=0;p<5;p++)(r=(a=e.field.monsterZones[p])==null?void 0:a.card.effect)!=null&&r[i]&&xe(e,t,{order:3e3},(y,_)=>{var v,M,w;(w=(M=(v=y.field.monsterZones[p])==null?void 0:v.card.effect)==null?void 0:M[i])==null||w.call(M,y,y.field.monsterZones[p],{effectedByName:_.card.card_name,effectedByField:_.location,effectedById:_.id})});for(let p=0;p<2;p++)(o=(c=e.field.extraMonsterZones[p])==null?void 0:c.card.effect)!=null&&o[i]&&((m=(d=(f=e.field.extraMonsterZones[p])==null?void 0:f.card.effect)==null?void 0:d[i])==null||m.call(d,e,e.field.extraMonsterZones[p],{effectedByName:t.card.card_name,effectedByField:t.location,effectedById:t.id}))},GC=(e,t,i,a,r)=>{var o,f;const c=t.card.effect;if((i==="MonsterField"||i==="FieldZone"||i==="SpellField")&&a==="Graveyard"&&(c!=null&&c.onFieldToGraveyard)&&xe(e,t,{order:3e3},(d,m)=>{var p,y,_;(_=(y=(p=m.card)==null?void 0:p.effect)==null?void 0:y.onFieldToGraveyard)==null||_.call(y,d,m,{equipCardId:(r==null?void 0:r.equipCardId)??""})}),(i==="SpellField"||i==="MonsterField"||i==="FieldZone")&&((f=(o=t.card)==null?void 0:o.effect)!=null&&f.onLeaveField)){xe(e,t,{order:3e3},(d,m)=>{var p,y;(y=(p=m.card.effect)==null?void 0:p.onLeaveField)==null||y.call(p,d,m,{equipCardId:(r==null?void 0:r.equipCardId)??""})});return}i==="Deck"&&a==="Graveyard"&&(c!=null&&c.onDeckToGraveyard)&&xe(e,t,{order:3e3},(d,m)=>{var p,y,_;(_=(y=(p=m.card)==null?void 0:p.effect)==null?void 0:y.onDeckToGraveyard)==null||_.call(y,d,m)}),i==="Deck"&&a==="Graveyard"&&ou(e,t,"onCardDeckToGraveyard"),i==="Hand"&&a==="Graveyard"&&(c!=null&&c.onHandToGraveyard)&&xe(e,t,{order:3e3},(d,m)=>{var p,y,_;(_=(y=(p=m.card)==null?void 0:p.effect)==null?void 0:y.onHandToGraveyard)==null||_.call(y,d,m)}),a==="Graveyard"&&(c!=null&&c.onAnywhereToGraveyard)&&xe(e,t,{order:3e3},(d,m)=>{var p,y,_;(_=(y=(p=m.card)==null?void 0:p.effect)==null?void 0:y.onAnywhereToGraveyard)==null||_.call(y,d,m)}),i==="Graveyard"&&a==="MonsterField"&&(c!=null&&c.onGraveyardToField)&&xe(e,t,{order:3e3},(d,m)=>{var p,y,_;(_=(y=(p=m.card)==null?void 0:p.effect)==null?void 0:y.onGraveyardToField)==null||_.call(y,d,m,{equipCardId:(r==null?void 0:r.equipCardId)??""})}),a==="Graveyard"&&new E(e).allMonster().spellTrap().field().filter().nonNull().get().forEach(m=>{var p;(p=m.card.effect)!=null&&p.onCardToGraveyard&&xe(e,m,{order:3100},(y,_)=>{var v,M,w,T,A;(A=(v=_.card.effect)==null?void 0:v.onCardToGraveyard)==null||A.call(v,y,_,{effectedBy:((w=(M=r==null?void 0:r.effectedBy)==null?void 0:M.card)==null?void 0:w.card_name)??"",effectedByField:((T=r==null?void 0:r.effectedBy)==null?void 0:T.location)??""})})})},sa=(e,t,i)=>{var a,r,c;for(let o=0;o<5;o++)if(((r=(a=e.field.monsterZones)==null?void 0:a[o])==null?void 0:r.id)===t.id){const f=e.field.monsterZones[o],d={attack:i.attack+f.buf.attack,defense:i.defense+f.buf.defense,level:i.level+f.buf.level};e.field.monsterZones[o]={...e.field.monsterZones[o],buf:d}}for(let o=0;o<2;o++)if(((c=e.field.extraMonsterZones[o])==null?void 0:c.id)===t.id){const f=e.field.extraMonsterZones[o],d={attack:i.attack+f.buf.attack,defense:i.defense+f.buf.defense,level:i.level+f.buf.level},m={...e.field.extraMonsterZones[o],buf:d};e.field.extraMonsterZones[o]=m}},jS=(e,t)=>{var a,r;const i=Ne(e,t);i!=null&&(Y(e,i,"Graveyard"),(r=(a=i.card.effect)==null?void 0:a.onRelease)==null||r.call(a,e,i))},Zl=(e,t)=>{var i,a;Y(e,t,"Graveyard"),(a=(i=t.card.effect)==null?void 0:i.onRelease)==null||a.call(i,e,t)},ea=(e,t,i)=>{Y(e,t,"Graveyard");const a=i.card.card_name,r=i.location,c=i.id;xe(e,t,{order:4e3},(o,f)=>{var d,m;(m=(d=f.card.effect)==null?void 0:d.onAnywhereToGraveyardByEffect)==null||m.call(d,o,f,{effectedByName:a,effectedByField:r,effectedById:c})}),ou(e,i,"onCardToGraveyardByEffect")},DS=(e,t,i)=>{const a=Ne(e,i);a!=null&&Xm(e,t,a)},Xm=(e,t,i)=>{var r,c;const a={...i,location:"FieldZone"};for(let o=0;o<5;o++)e.field.monsterZones[o]!==null&&((r=e.field.monsterZones[o])==null?void 0:r.id)===t.id&&e.field.monsterZones[o].equipment.push(a);for(let o=0;o<2;o++)e.field.extraMonsterZones[o]!==null&&((c=e.field.extraMonsterZones[o])==null?void 0:c.id)===t.id&&e.field.extraMonsterZones[o].equipment.push(a)},ZC=(e,t)=>{for(let i=0;i<5;i++){const a=e.field.monsterZones[i];if(a&&a.equipment.some(r=>r.id===t.id))return a}for(let i=0;i<2;i++){const a=e.field.extraMonsterZones[i];if(a&&a.equipment.some(r=>r.id===t.id))return a}return null},u1=(e,t)=>{var i,a;for(let r=0;r<5;r++)if(((a=(i=e.field)==null?void 0:i.spellTrapZones[r])==null?void 0:a.id)===t.id)return r;return-1},fn=(e,t,i,a)=>{const r=Ne(e,t);r!=null&&Y(e,r,i,a)},Y=(e,t,i,a)=>{var d,m,p,y;const r=t.location,c=(t.location==="MonsterField"||t.location==="SpellField")&&i!=="MonsterField"&&i!=="SpellField";if(Rj(t.card)&&(i==="Deck"||i==="Hand")){Y(e,{...t,equipment:[],materials:[]},"ExtraDeck");return}if(c){const _=[...t.equipment],v=[...t.materials];if(_.forEach((M,w)=>{xe(e,M,{delay:100+w*20},(T,A)=>{Y(T,A,"Graveyard")})}),v.forEach((M,w)=>{xe(e,M,{delay:100+w*20},(T,A)=>{Y(T,A,"Graveyard")})}),(m=(d=t.card)==null?void 0:d.effect)!=null&&m.onLeaveFieldInstead&&(a==null?void 0:a.ignoreLeavingInstead)!==!0){(p=t.card.effect)==null||p.onLeaveFieldInstead(e,t);return}}const o=Im(e,t);if(e.currentFrom={...o,position:t.position},t.isToken===!0&&i==="Graveyard"){e.currentTo={location:"TokenRemove",index:o.index};return}const f={...t,location:i,position:a!=null&&a.reverse?"back":void 0,equipment:c?[]:[...t.equipment||[]],materials:c?[]:[...t.materials||[]],effectUse:[],card:{...t.card,effect:t.card.originEffect?t.card.originEffect:t.card.effect}};switch(i){case"Deck":e.currentTo={location:"Deck"},a!=null&&a.deckTop?e.deck.unshift(f):e.deck.push(f);break;case"Hand":e.currentTo={location:"Hand",index:e.hand.length,length:e.hand.length+1},e.hand.push(f);break;case"Graveyard":e.currentTo={location:"Graveyard"},e.graveyard.push(f),K(f.card)&&c&&e.monstersToGraveyardThisTurn.push(f);break;case"Exclusion":e.currentTo={location:"Exclusion"},e.banished.push(f);break;case"ExtraDeck":e.currentTo={location:"ExtraDeck"},e.extraDeck.push(f);break;case"MonsterField":e.currentTo={location:"MonsterField"},a.zone>=0&&a.zone<=4?(e.currentTo={location:"MonsterField",index:a.zone,position:a.position},e.field.monsterZones[a.zone]={...f,position:a.position}):(a.zone===5||a.zone===6)&&(e.currentTo={location:"MonsterField",index:a.zone,position:a.position},e.field.extraMonsterZones[a.zone-5]={...f,position:a.position});break;case"SpellField":{if((a==null?void 0:a.spellFieldIndex)!==void 0){const _=a!=null&&a.reverse?"back":"attack";e.currentTo={location:"SpellField",index:a.spellFieldIndex,position:_},e.field.spellTrapZones[a.spellFieldIndex]={...f,position:_}}else{const _=zC(e);if(_!==-1){const v=a!=null&&a.reverse?"back":"attack";e.currentTo={location:"SpellField",index:_,position:v},e.field.spellTrapZones[_]={...f,position:v}}}break}case"FieldZone":{e.field.fieldZone!==null&&Y(e,e.field.fieldZone,"Graveyard"),e.currentTo={location:"FieldZone"};const _=a!=null&&a.reverse?"back":"attack";e.field.fieldZone={...f,position:_};break}case"OpponentField":{e.currentTo={location:"OpponentField"};const _=a!=null&&a.reverse?"back":"attack";e.opponentField.fieldZone={...f,position:_};break}case"Throne":{const _=["","","","",""].indexOf(t.card.card_name);e.currentTo={location:"Throne",index:_},e.throne[_]={...f};break}}GC(e,f,r,i,{equipCardId:((y=o==null?void 0:o.equipCard)==null?void 0:y.id)??"",effectedBy:a==null?void 0:a.effectedBy})},Im=(e,t)=>{var d,m,p,y,_,v,M,w;let i={location:t.location,index:void 0,length:void 0};const a=e.hand.findIndex(T=>T.id===t.id);if(a!==-1){const T=e.hand.length;e.hand.splice(a,1),i={location:"Hand",index:a,length:T}}const r=e.deck.findIndex(T=>T.id===t.id);r!==-1&&(e.deck.splice(r,1),i={location:"Deck"});const c=e.graveyard.findIndex(T=>T.id===t.id);c!==-1&&(e.graveyard.splice(c,1),i={location:"Graveyard"});const o=e.banished.findIndex(T=>T.id===t.id);o!==-1&&(e.banished.splice(o,1),i={location:"Exclusion"});const f=e.extraDeck.findIndex(T=>T.id===t.id);f!==-1&&(e.extraDeck.splice(f,1),i={location:"ExtraDeck"});for(let T=0;T<e.field.monsterZones.length;T++)if(((d=e.field.monsterZones[T])==null?void 0:d.id)===t.id){e.field.monsterZones[T]=null,i={location:"MonsterField",index:T};break}for(let T=0;T<e.field.extraMonsterZones.length;T++)if(((m=e.field.extraMonsterZones[T])==null?void 0:m.id)===t.id){e.field.extraMonsterZones[T]=null,i={location:"MonsterField",index:T+5};break}for(let T=0;T<e.field.spellTrapZones.length;T++)if(((p=e.field.spellTrapZones[T])==null?void 0:p.id)===t.id){e.field.spellTrapZones[T]=null,i={location:"SpellField",index:T};break}((y=e.field.fieldZone)==null?void 0:y.id)===t.id&&(e.field.fieldZone=null,i={location:"FieldZone"});for(let T=0;T<5;T++)if(e.field.monsterZones[T]&&((_=e.field.monsterZones[T])!=null&&_.materials)){const A=e.field.monsterZones[T].materials.findIndex(R=>R.id===t.id);if(A!==-1){e.field.monsterZones[T].materials.splice(A,1),i={location:"MonsterField",index:T};break}}for(let T=0;T<2;T++)if(e.field.extraMonsterZones[T]&&((v=e.field.extraMonsterZones[T])!=null&&v.materials)){const A=e.field.extraMonsterZones[T].materials.findIndex(R=>R.id===t.id);if(A!==-1){e.field.extraMonsterZones[T].materials.splice(A,1),i={location:"MonsterField",index:T+5};break}}for(let T=0;T<5;T++)if(e.field.monsterZones[T]&&((M=e.field.monsterZones[T])!=null&&M.equipment)){const A=e.field.monsterZones[T].equipment.findIndex(R=>R.id===t.id);if(A!==-1){e.field.monsterZones[T].equipment.splice(A,1),i.equipCard=e.field.monsterZones[T];break}}for(let T=0;T<2;T++)if(e.field.extraMonsterZones[T]&&((w=e.field.extraMonsterZones[T])!=null&&w.equipment)){const A=e.field.extraMonsterZones[T].equipment.findIndex(R=>R.id===t.id);if(A!==-1){e.field.extraMonsterZones[T].equipment.splice(A,1),i.equipCard=e.field.monsterZones[T];break}}return i},ES=(e,t,i="Graveyard")=>{Y(e,t,i),t.card.effect.onDestroyByEffect&&t.card.effect.onDestroyByEffect(e,t)},FC=(e,t)=>{const i=Im(e,t);e.currentFrom={...i,position:t.position};const a={...t,location:"Exclusion"};e.currentTo={location:"Exclusion"},e.banished.push(a)},YC=(e,t)=>{const i=Array.from({length:e.extraDeck.length}).map((r,c)=>({i:c,rand:Math.random()})).sort((r,c)=>r.rand-c.rand).slice(0,t).map(r=>r.i);return e.extraDeck.filter((r,c)=>i.includes(c))},Ps=(e,t,i,a,r)=>{Y(e,{...t,...r!=null&&r.summonedBy?{summonedBy:r.summonedBy}:{}},"MonsterField",{position:a,zone:i});const c={...t,position:a,location:"MonsterField",summonedBy:(r==null?void 0:r.summonedBy)??"Special",equipment:[...t.equipment||[]],materials:[...t.materials||[]]};return(c.position==="attack"||c.position==="defense")&&xe(e,c,{order:2e3,delay:100},(o,f)=>{var d,m,p;(d=f.card.effect)!=null&&d.onSummon&&((p=(m=f.card.effect)==null?void 0:m.onSummon)==null||p.call(m,o,f),xe(o,f,{},(y,_)=>{ou(y,_,"onCardEffect")}))}),c},f1=(e,t,i)=>{var a,r,c,o,f,d,m,p;for(let y=0;y<e.field.monsterZones.length;y++)if(((a=e.field.monsterZones[y])==null?void 0:a.id)===t.id){e.field.monsterZones[y].magicCounter=(((r=e.field.monsterZones[y])==null?void 0:r.magicCounter)??0)+i;return}for(let y=0;y<e.field.extraMonsterZones.length;y++)if(((c=e.field.extraMonsterZones[y])==null?void 0:c.id)===t.id){e.field.extraMonsterZones[y].magicCounter=(((o=e.field.extraMonsterZones[y])==null?void 0:o.magicCounter)??0)+i;return}for(let y=0;y<e.field.spellTrapZones.length;y++)if(((f=e.field.spellTrapZones[y])==null?void 0:f.id)===t.id&&((d=e.field.spellTrapZones[y])==null?void 0:d.position)!=="back"){e.field.spellTrapZones[y].magicCounter=(e.field.spellTrapZones[y].magicCounter??0)+i;return}if(((m=e.field.fieldZone)==null?void 0:m.id)===t.id&&e.field.fieldZone.position!=="back"){e.field.fieldZone.magicCounter=(((p=e.field.fieldZone)==null?void 0:p.magicCounter)??0)+i;return}},kS=(e,t)=>K(t.card)?t.card.element===""?3:Re(t)<=4?0:Re(t)<=6?1:2:0,XC=(e,t)=>{if(!K(t.card)||e.hasNormalSummoned||e.normalSummonProhibited||e.phase!=="main1"&&e.phase!=="main2"||!t.card.canNormalSummon)return!1;const i=kS(e,t);return i?new E(e).allMonster().getNonNull().length>=i:e.field.monsterZones.filter(r=>r===null).length>0},IC=(e,t)=>{e.turnOnceUsedEffectMemo||(e.turnOnceUsedEffectMemo={}),e.turnOnceUsedEffectMemo={...e.turnOnceUsedEffectMemo,[t]:!0}},KC=(e,t,i)=>{var a,r,c,o,f,d,m,p;for(let y=0;y<5;y++)((a=e.field.monsterZones[y])==null?void 0:a.id)===t.id&&((r=e.field.monsterZones[y])!=null&&r.effectUse?(o=(c=e.field.monsterZones[y])==null?void 0:c.effectUse)==null||o.push(i):e.field.monsterZones[y].effectUse=[i]);for(let y=0;y<2;y++)((f=e.field.extraMonsterZones[y])==null?void 0:f.id)===t.id&&((d=e.field.extraMonsterZones[y])!=null&&d.effectUse?(p=(m=e.field.extraMonsterZones[y])==null?void 0:m.effectUse)==null||p.push(i):e.field.extraMonsterZones[y].effectUse=[i])},QC=(e,t)=>{var i;return((i=e.turnOnceUsedEffectMemo)==null?void 0:i[t])===!0},yc=(e,t)=>{if(vi(t.card))return Zm(e.field.extraMonsterZones,e.field.monsterZones);if(K(t.card)&&(t.card.monster_type===""||t.card.monster_type==="")){const a=e.field.extraMonsterZones.filter(r=>r===null).length===2;return[...e.field.monsterZones.map((r,c)=>({elem:r,index:c})).filter(({elem:r})=>r===null),...a?[{index:5},{index:6}]:[]].map(r=>r.index)}else return[...e.field.monsterZones.map((a,r)=>({elem:a,index:r})).filter(({elem:a})=>a===null)].map(a=>a.index)},En=(e,t)=>{const i=[t,...e.effectQueue].sort((a,r)=>a.order-r.order);e.effectQueue=i},oe=(e,t,i,a=void 0,r=!1)=>{var f;const c=a??t.card.card_name,o=QC(e,c);return r?(f=t.effectUse)!=null&&f.includes(c)?!1:i(e,t):o?!1:i(e,t)},re=(e,t,i,a=void 0,r=!1)=>{const c=a??t.card.card_name;return r?(KC(e,t,c),i(e,t)):(IC(e,c),i(e,t))},We=(e,t,i,a,r)=>{const c=i.filter(o=>o.condition(e,t));c.length!==0&&En(e,{id:Un(),order:1,type:"option",effectName:`${t.card.card_name}`,cardInstance:t,option:c.map(o=>({name:o.name,value:o.name})),effectType:"with_option_callback",canCancel:r??!1,callback:(o,f,d)=>{a(o,f,d)}})},q=(e,t,i,a,r)=>{En(e,{id:Un(),order:a.order??1,type:a.select==="single"?"select":"multiselect",effectName:a.message?a.message:`${t.card.card_name}`,cardInstance:t,getAvailableCards:i,condition:a.condition?a.condition:c=>a.select==="single"?c.length===1:c.length>=1,effectType:"with_user_select_card_callback",canCancel:(a==null?void 0:a.canCancel)??!1,callback:(c,o,f)=>{r(c,o,f)}})},Cl=(e,t,i,a)=>{En(e,{id:Un(),order:i.order??1,type:"confirm",effectName:i.message||`${t.card.card_name}`,cardInstance:t,condition:()=>!0,effectType:"with_user_confirm_callback",canCancel:!0,callback:a})},ue=(e,t,i,{canSelectPosition:a,optionPosition:r,order:c,needRelease:o,summonType:f,placementMask:d},m)=>{const p=(r==null?void 0:r[0])??"attack",y=(v,M,w)=>{const T=yc(v,w),A=_i(T);if(A>=0){v.isProcessing=!1;const R=Ps(v,w,A,p,{summonedBy:f});m(v,M,R);return}};if(e.autoSummon&&!o){const v=yc(e,i);if(_i(v)>=0){y(e,t,i);return}}const _=i.id;if((o??0)>0)q(e,t,v=>new E(v).allMonster().getNonNull(),{select:"multi",condition:v=>v.length===o,canCancel:!0,message:""},(v,M,w)=>{const T=w.map(A=>A.id);Ge(v,M,{delay:100},w.length,(A,R,N)=>{jS(A,T[N-1])},A=>{const R=Ne(A,_);if(A.autoSummon){const N=yc(A,R);if(_i(N)>=0){y(A,M,R);return}}En(A,{id:Un(),order:c??1,type:"summon",cardInstance:R,effectType:"with_user_summon_callback",canSelectPosition:a??!0,optionPosition:r??["attack","defense"],callback:(N,W,C)=>{const F=Ps(N,W,C.zone,C.position,{summonedBy:f});m(N,W,F)}})})});else{if(e.autoSummon){const v=yc(e,i),M=_i(v);if(M>=0){const w=Ps(e,i,M,"attack");m(e,t,w);return}}En(e,{id:Un(),order:c??1,type:"summon",cardInstance:i,effectType:"with_user_summon_callback",canSelectPosition:a??!0,optionPosition:r??["attack","defense"],placementMask:d,callback:(v,M,w)=>{const T=Ps(v,M,w.zone,w.position,{summonedBy:f});m(v,M,T)}})}},ln=(e,t,i,a)=>{En(e,{id:Un(),order:i.order??1,type:"notification",cardInstance:t,effectType:"notification",message:i.message,duration:i.duration??2e3,callback:a})},On=(e,t,i,a)=>{const r=i.target==="player"?e.lifePoints:e.opponentLifePoints,c=i.operation==="decrease"?-i.amount:i.amount,o=Math.max(0,r+c);i.target==="player"?e.lifePoints=o:e.opponentLifePoints=o,En(e,{id:Un(),order:i.order??1,type:"life_change",cardInstance:t,effectType:"life_change",target:i.target,amount:i.amount,operation:i.operation,callback:a})},$t=(e,t,i,a,r)=>{Ge(e,t,{},i,(c,o)=>{c.deck.length!==0&&(r!=null&&r.byEffect?ea(c,c.deck[0],o):Y(c,c.deck[0],"Graveyard"))},(c,o)=>{a&&a(c,o)})},Km=(e,t,i,a)=>{const r=i.map(c=>c.id);Ge(e,t,{},i.length,(c,o,f)=>{const d=Ne(c,r[f-1]);Y(c,d,"Deck",{effectedBy:o})},(c,o)=>{a&&a(c,o)})},ta=(e,t,i,a,r)=>{const c=i.map(o=>o.id);Ge(e,t,{},i.length,(o,f,d)=>{const m=Ne(o,c[d-1]);r!=null&&r.byEffect?ea(o,m,f):Y(o,m,"Graveyard")},(o,f)=>{a&&a(o,f)})},WC=(e,t,i,a)=>{const r=i.map(c=>c.id);Ge(e,t,{},i.length,(c,o,f)=>{fn(c,r[f-1],"Deck")},(c,o)=>{a&&a(c,o)})},CS=(e,t,i,a)=>{const r=[...i].sort(()=>Math.random()-.5);Ge(e,t,{},r.length,(c,o,f)=>{fn(c,r[f-1],"Deck",{deckTop:!1})},(c,o)=>{a&&a(c,o)})},mt=(e,t,i,a)=>{(i.target??"player")==="player"&&Ge(e,t,{},i.count,c=>{c.deck.length>0?Y(c,c.deck[0],"Hand"):(c.gameOver=!0,c.winner="timeout",c.winReason="deck_out")},(c,o)=>{a&&a(c,o)})},Ha=(e,t,i,a)=>{Ge(e,t,{},i.cardIdList.length,(r,c,o)=>{fn(r,i.cardIdList[o-1],"Exclusion")},(r,c)=>{a&&a(r,c)})},JC=(e,t,i,a)=>{Ge(e,t,{},i.cardIdList.length,(r,c,o)=>{jS(r,i.cardIdList[o-1])},(r,c)=>{a&&a(r,c)})},Ge=(e,t,i,a,r,c)=>{if(a<=0){c&&c(e,t);return}xe(e,t,i,(o,f)=>{r(o,f,a),Ge(o,f,i,a-1,r,c)})},xe=(e,t,i,a)=>{En(e,{id:Un(),order:i.order??1,type:"notify",cardInstance:t,effectType:"delay",delay:i.delay,callback:(r,c)=>{a(r,c)}})},eO=(e,t,i={},a)=>{En(e,{id:Un(),order:i.order??1,type:"chain_check",cardInstance:t,effectType:"chain",delay:i.delay,callback:(r,c,o)=>{a(r,c,o)}})},d1=(e,t,i)=>{var a,r,c,o,f;return Ke(t.card)&&t.card.magic_type===""&&((r=(a=t.card.effect)==null?void 0:a.onChain)!=null&&r.condition)?((f=(o=(c=t.card.effect)==null?void 0:c.onChain)==null?void 0:o.condition)==null?void 0:f.call(o,e,t,i))??!1:!1},OS=(e,t)=>{const i=[],a=new E(e).hand().get();for(const c of a)c&&d1(e,c,t)&&i.push(c);const r=new E(e).spellTrap().filter().nonNull().get();for(const c of r)d1(e,c,t)&&i.push(c);return i},tO=(e,t)=>{var i,a,r;return Ke(t.card)&&((a=(i=t.card.effect)==null?void 0:i.onSpell)==null?void 0:a.condition(e,t))&&(Sl(e)||t.location==="SpellField"&&t.position==="back"||t.location==="FieldZone"&&t.position==="back")&&t.position!=="attack"&&(t.location==="Hand"||t.location==="SpellField"||t.location==="FieldZone")&&(t.card.magic_type!==""||e.isFieldSpellActivationAllowed===t.id||e.isFieldSpellActivationAllowed===null)&&(t.card.magic_type!==""||t.location!=="SpellField"||t.position!=="back"||t.setTurn!==e.turn)&&e.phase==="main1"||Tl(t.card)&&((r=t.card.effect.onSpell)==null?void 0:r.condition(e,t))&&t.location==="SpellField"&&((t==null?void 0:t.setTurn)??999999)<e.turn},nO=(e,t)=>{var a,r;if(e.isProcessing)return[];const i=[];return K(t.card)&&XC(e,t)&&t.location==="Hand"&&i.push("summon"),tO(e,t)&&i.push("activate"),(Tl(t.card)||Ke(t.card))&&Sl(e)&&t.location==="Hand"&&e.phase==="main1"&&(!Ke(t.card)||t.card.magic_type!==""||e.isFieldSpellActivationAllowed===null)&&i.push("set"),(r=(a=t.card.effect)==null?void 0:a.onIgnition)!=null&&r.condition(e,t)&&e.phase==="main1"&&i.push("effect"),i},NS=(e,t)=>{var i,a,r,c,o,f;if(e.isProcessing=!0,t.card.card_type===""){const m=t.card.magic_type;if(m===""||m===""||m===""){const p=(y,_,v)=>{const M=u1(y,_);if(M!==-1&&_.position==="back")y.field.spellTrapZones[M].position="attack";else{const w=y.field.spellTrapZones.map((A,R)=>({i:R,e:A})).filter(({e:A})=>A===null).map(A=>A.i),T=_i(w);Y(y,_,"SpellField",{spellFieldIndex:T})}xe(y,_,{delay:500},(w,T)=>{w.cardChain.unshift(T),eO(w,T,{},(A,R,N)=>{var W;(W=R.card.effect.onSpell)==null||W.effect(A,R,v,(C,F)=>{xe(C,F,{},(U,B)=>{Y(U,B,"Graveyard"),U.cardChain.shift(),U.isProcessing=!1})}),N&&NS(A,N)})})};(i=t.card.effect.onSpell)!=null&&i.payCost?t.card.effect.onSpell.payCost(e,t,(y,_,v)=>{xe(y,_,{},(M,w)=>{p(M,w,v)})}):p(e,t,void 0)}else if(m===""||m==="")(a=t.card.effect.onSpell)!=null&&a.payCost?t.card.effect.onSpell.payCost(e,t,(p,y)=>{var _;Y(p,y,"SpellField"),(_=y.card.effect.onSpell)==null||_.effect(p,y,void 0,(v,M)=>{xe(v,M,{},w=>{w.isProcessing=!1})})}):(Y(e,t,"SpellField"),(r=t.card.effect.onSpell)==null||r.effect(e,t,void 0,(p,y)=>{xe(p,y,{},_=>{_.isProcessing=!1})}));else if(m==="")if(e.field.fieldZone!==null&&((c=e.field.fieldZone)==null?void 0:c.id)!==(t==null?void 0:t.id)){Y(e,e.field.fieldZone,"Graveyard"),xe(e,t,{order:-1},(p,y)=>{var _;Y(p,y,"FieldZone"),(_=y.card.effect.onSpell)==null||_.effect(p,y,void 0,v=>{v.isProcessing=!1})});return}else Y(e,t,"FieldZone"),(o=t.card.effect.onSpell)==null||o.effect(e,t,void 0,p=>{p.isProcessing=!1})}else if(t.card.card_type===""){const d=u1(e,t);d!==-1&&t.position==="back"?e.field.spellTrapZones[d].position=void 0:Y(e,t,"SpellField",{}),(f=t.card.effect.onSpell)==null||f.effect(e,t,void 0,(m,p)=>{xe(m,p,{},(y,_)=>{Y(y,_,"Graveyard"),y.isProcessing=!1})})}else if(t.card.card_type===""){const d=kS(e,t);ue(e,t,t,{canSelectPosition:!0,optionPosition:["attack","back_defense"],needRelease:d,summonType:"Normal"},m=>{m.hasNormalSummoned=!0})}},Yc=(e,t,i)=>{var c,o,f;const a=new E(e).allMonster().allFieldSpellTrap().field().getNonNull();let r=i;for(const d of a)(c=d.card.effect)!=null&&c.onPayLifeCost&&(r=(f=(o=d.card.effect)==null?void 0:o.onPayLifeCost)==null?void 0:f.call(o,e,d,t,r));return r},iO={card_name:"DDR",card_type:"",text:"",image:"card73705533_1.jpg",magic_type:"",effect:{onSpell:{condition:(e,t)=>{const i=new E(e).hand().filter().excludeId(t.id).nonNull().get(),a=new E(e).banished().filter().noSummonLimited().get();return i.length>0&&a.length>0},payCost:(e,t,i)=>{q(e,t,r=>new E(r).hand().filter().excludeId(t.id).nonNull().get(),{select:"single",condition:r=>r.length===1,message:"1",canCancel:!0},(r,c,o)=>{o.length>0&&(Y(r,o[0],"Graveyard"),i(r,c))})},effect:(e,t,i,a)=>{const r=c=>new E(c).banished().filter().noSummonLimited().get();if(r(e).length===0){a==null||a(e,t);return}q(e,t,r,{select:"single",condition:c=>c.length===1,message:"1",canCancel:!1},(c,o,f)=>{if(f.length>0){const d=f[0],m=o.id;ue(c,o,d,{canSelectPosition:!1,optionPosition:["attack"]},(p,y,_)=>{DS(p,_,m),a==null||a(p,y)})}else a==null||a(c,o)})}},onLeaveField:(e,t,i)=>{const a=String((i==null?void 0:i.equipCardId)??0);a&&xe(e,t,{},r=>{fn(r,a,"Graveyard")})}}},aO=Object.freeze(Object.defineProperty({__proto__:null,default:iO},Symbol.toStringTag,{value:"Module"})),sO={card_name:"",card_type:"",magic_type:"",text:"",image:"card100024670_1.jpg",effect:{onSpell:{condition:e=>e.deck.filter(t=>K(t.card)).length>0,effect:(e,t,i,a)=>q(e,t,r=>r.deck.filter(c=>K(c.card)),{select:"single",message:""},(r,c,o)=>{Y(r,o[0],"Graveyard"),Xe(r),a==null||a(r,c)})}}},rO=Object.freeze(Object.defineProperty({__proto__:null,default:sO},Symbol.toStringTag,{value:"Module"})),lO={card_name:"",card_type:"",text:"",image:"card73705497_1.jpg",magic_type:"",effect:{onSpell:{condition:e=>e.deck.length>=1&&!e.hasNormalSummoned&&new E(e).deck().graveyard().filter().equipSpell().get().length>0,payCost:(e,t,i)=>{if(e.deck.length>0){const a=e.deck[e.deck.length-1];Y(e,a,"Graveyard"),e.normalSummonProhibited=!0,xe(e,t,{delay:100},(r,c)=>{i(r,c)})}},effect:(e,t,i,a)=>{const r=c=>new E(c).deck().graveyard().filter().equipSpell().get();r(e).length>0?q(e,t,r,{select:"single",message:"",canCancel:!1},(c,o,f)=>{Y(c,f[0],"Hand"),Xe(c),a==null||a(c,o)}):a==null||a(e,t)}}}},oO=Object.freeze(Object.defineProperty({__proto__:null,default:lO},Symbol.toStringTag,{value:"Module"})),cO={card_name:"",card_type:"",magic_type:"",text:"",image:"card100095117_1.jpg",effect:{onSpell:{condition:(e,t)=>oe(e,t,i=>!!i.deck.find(a=>K(a.card)&&a.card.race===""&&a.card.element===""&&a.card.canNormalSummon===!1)),effect:(e,t,i,a)=>re(e,t,(r,c)=>{if(r.deck.filter(o=>K(o.card)&&o.card.race===""&&o.card.element===""&&o.card.canNormalSummon===!1).length===0){a==null||a(r,c);return}q(r,c,o=>o.deck.filter(f=>K(f.card)&&f.card.race===""&&f.card.element===""&&f.card.canNormalSummon===!1),{select:"single",message:""},(o,f,d)=>{Y(o,d[0],"Hand"),Xe(o),a==null||a(o,f)})})}}},uO=Object.freeze(Object.defineProperty({__proto__:null,default:cO},Symbol.toStringTag,{value:"Module"})),fO={card_name:"",card_type:"",text:"",image:"card100220247_1.jpg",magic_type:"",effect:{onSpell:{condition:()=>!1,payCost:()=>!1,effect:()=>{}}}},dO=Object.freeze(Object.defineProperty({__proto__:null,default:fO},Symbol.toStringTag,{value:"Module"})),hO={card_name:"",card_type:"",magic_type:"",text:"111311",image:"card100204881_1.jpg",effect:{onSpell:{condition:(e,t)=>oe(e,t,i=>{const a=i.deck.filter(c=>Ye(c.card)&&c.card.level===1);return new Set(a.map(c=>c.card.card_name)).size>=3}),effect:(e,t,i,a)=>re(e,t,()=>{q(e,t,r=>r.deck.filter(c=>Ye(c.card)&&c.card.level===1).reduce((c,o)=>c.find(f=>f.card.card_name===o.card.card_name)?c:[...c,o],[]),{select:"multi",condition:r=>r.length===3,message:"13"},(r,c,o)=>{const f=Math.floor(Math.random()*3),d=o.filter((m,p)=>p!==f);q(r,c,()=>d,{select:"single",message:"1"},(m,p,y)=>{Y(m,y[0],"Hand"),Xe(m),a==null||a(m,p)})})})}}},mO=Object.freeze(Object.defineProperty({__proto__:null,default:hO},Symbol.toStringTag,{value:"Module"})),pO={card_name:"",card_type:"",text:"",image:"card1002391_1.jpg",magic_type:"",effect:{onSpell:{condition:e=>new E(e).hand().filter().monster().lightsworn().get().length>0&&e.deck.length>=4,payCost:(e,t,i)=>{q(e,t,r=>new E(r).hand().filter().monster().lightsworn().get(),{select:"single",message:"",canCancel:!0},(r,c,o)=>{o.length>0&&Y(r,o[0],"Graveyard"),i(r,c)})},effect:(e,t,i,a)=>{mt(e,t,{count:2},(r,c)=>{Ge(r,c,{delay:100},2,o=>{Y(o,o.deck[0],"Graveyard")},(o,f)=>{a&&a(o,f)})})}}}},gO=Object.freeze(Object.defineProperty({__proto__:null,default:pO},Symbol.toStringTag,{value:"Module"})),yO={card_name:"",card_type:"",magic_type:"",text:"",image:"card100022942_1.jpg",effect:{onSpell:{condition:()=>!0,effect:(e,t,i,a)=>{a==null||a(e,t)}},onIgnition:{condition:(e,t)=>oe(e,t,(i,a)=>{var r,c;return(((r=i.field.fieldZone)==null?void 0:r.id)===a.id||((c=i.opponentField.fieldZone)==null?void 0:c.id)===a.id)&&i.lifePoints>=1e3&&a.location==="FieldZone"&&a.position!=="back"}),effect:(e,t)=>{re(e,t,(i,a)=>{i.lifePoints-=1e3,We(i,a,[{name:"",condition:()=>i.deck.length>0},{name:"",condition:()=>!0},{name:"",condition:()=>!0}],(r,c,o)=>{switch(o){case"":if(r.deck.length>0){Xe(r);const f=r.deck[0];Y(r,f,"Hand")}break;case"":Y(r,c,"Graveyard");break}})})}}}},_O=Object.freeze(Object.defineProperty({__proto__:null,default:yO},Symbol.toStringTag,{value:"Module"})),vO={card_name:"",card_type:"",magic_type:"",text:"",image:"card73707637_1.jpg",effect:{onSpell:{condition:e=>e.deck.filter(t=>Ke(t.card)&&t.card.magic_type==="").length>0,effect:(e,t,i,a)=>q(e,t,r=>r.deck.filter(c=>Ke(c.card)&&c.card.magic_type===""),{select:"single",message:""},(r,c,o)=>{Y(r,o[0],"Hand"),Xe(r),a==null||a(r,c)})}}},bO=Object.freeze(Object.defineProperty({__proto__:null,default:vO},Symbol.toStringTag,{value:"Module"})),xO={card_name:"",card_type:"",text:"",image:"card100039152_1.jpg",magic_type:"",effect:{onSpell:{condition:e=>new E(e).hand().filter().include("D-HERO").get().length>0&&e.deck.length>=2,payCost:(e,t,i)=>{q(e,t,r=>new E(r).hand().filter().include("D-HERO").get(),{select:"single",message:"D-HERO",canCancel:!1},(r,c,o)=>{o.length>0&&(Y(r,o[0],"Graveyard"),xe(r,c,{delay:100},(f,d)=>{i(f,d)}))})},effect:(e,t,i,a)=>{mt(e,t,{count:2},(r,c)=>{a==null||a(r,c)})}}}},SO=Object.freeze(Object.defineProperty({__proto__:null,default:xO},Symbol.toStringTag,{value:"Module"})),RS={card_name:"",monster_type:"",level:1,element:"",race:"",attack:0,defense:0,text:"",image:"619FYKr61VL._AC_.jpg",canNormalSummon:!1,card_type:"",effect:{},hasDefense:!0,hasLevel:!0,hasLink:!1,hasRank:!1},TO=Object.freeze(Object.defineProperty({__proto__:null,default:RS},Symbol.toStringTag,{value:"Module"})),MO={card_name:"",card_type:"",text:"",image:"card100036862_1.jpg",magic_type:"",effect:{onSpell:{condition:e=>new E(e).monster().filter().null().len()>0,effect:(e,t,i,a)=>{const r=Uc(RS,"MonsterField",!0),c=MS(e);c!==-1&&Ps(e,r,c,"attack"),a==null||a(e,t)}}}},AO=Object.freeze(Object.defineProperty({__proto__:null,default:MO},Symbol.toStringTag,{value:"Module"})),wO={card_name:"",card_type:"",text:"",image:"card100002568_1.jpg",magic_type:"",effect:{onSpell:{condition:e=>new E(e).deck().filter().include("").len()>0,effect:(e,t,i,a)=>{const r=c=>new E(c).deck().filter().include("").get();if(r.length===0){ln(e,t,{message:""},()=>{a==null||a(e,t)});return}q(e,t,r,{select:"single"},(c,o,f)=>{Y(c,f[0],"Hand"),Xe(c),a==null||a(c,o)})}}}},jO=Object.freeze(Object.defineProperty({__proto__:null,default:wO},Symbol.toStringTag,{value:"Module"})),DO={card_name:"",card_type:"",text:"",image:"card100098273_1.jpg",magic_type:"",effect:{onSpell:{condition:e=>e.hand.filter(i=>K(i.card)&&Re(i)===8).length>0&&e.deck.length>=2,payCost:(e,t,i)=>{q(e,t,r=>new E(r).hand().filter().level(8).get(),{select:"single",message:"8",canCancel:!0},(r,c,o)=>{o.length>0&&(Y(r,o[0],"Graveyard"),xe(r,c,{delay:100},(f,d)=>{i(f,d)}))})},effect:(e,t,i,a)=>{mt(e,t,{count:2}),a==null||a(e,t)}}}},EO=Object.freeze(Object.defineProperty({__proto__:null,default:DO},Symbol.toStringTag,{value:"Module"})),kO={card_name:"",card_type:"",text:"",image:"card100002511_1.jpg",magic_type:"",effect:{onSpell:{condition:(e,t)=>new E(e).allFieldSpellTrap().filter().nonNull().excludeId(t.id).len()>0,effect:(e,t,i,a)=>{const r=new E(e).allFieldSpellTrap().filter().nonNull().excludeId(t.id).get().map(c=>c.id);Ge(e,t,{delay:100},r.length,(c,o,f)=>{const d=Ne(c,r[f-1]);Y(c,d,"Hand")},(c,o)=>{a==null||a(c,o)})}}}},CO=Object.freeze(Object.defineProperty({__proto__:null,default:kO},Symbol.toStringTag,{value:"Module"})),OO={card_name:"",card_type:"",text:"",image:"card1000621_1.jpg",magic_type:"",effect:{onSpell:{condition:e=>new E(e).allMonster().filter().nonNull().len()>0&&new E(e).deck().filter().canNormalSummon().noSummonLimited().len()>0,payCost:(e,t,i)=>{q(e,t,a=>new E(a).allMonster().filter().nonNull().get(),{select:"single",message:"1"},(a,r,c)=>{Zl(a,c[0]),xe(a,r,{delay:100},(o,f)=>{i(o,f)})})},effect:(e,t,i,a)=>{xe(e,t,{},(r,c)=>{const f=new E(r).deck().get().findIndex(d=>d!==null&&K(d.card)&&d.card.canNormalSummon===!0&&d.card.summonLimited!==!0);if(f===-1){ln(r,c,{message:`${c.card.card_name}`},(d,m)=>{a==null||a(d,m)});return}Ge(r,c,{delay:200},f+1,(d,m,p)=>{const y=d.deck[0],_=m.id;p===1?ue(d,m,d.deck[0],{},v=>{const M=Ne(v,_);a==null||a(v,M)}):(Y(d,y,"Graveyard"),d.deck[0].position="attack")},(d,m)=>{a==null||a(d,m)})})}}}},NO=Object.freeze(Object.defineProperty({__proto__:null,default:OO},Symbol.toStringTag,{value:"Module"})),RO={card_name:"",card_type:"",text:"",image:"card100006055_1.jpg",magic_type:"",effect:{onSpell:{condition:(e,t)=>new E(e).hand().filter().excludeId(t.id).len()>0,effect:(e,t,i,a)=>{const r=new E(e).hand().filter().excludeId(t.id).nonNull().get(),c=r.length;WC(e,t,r,(o,f)=>{Xe(o),mt(o,f,{count:c},(d,m)=>{a==null||a(d,m)})})}}}},LO=Object.freeze(Object.defineProperty({__proto__:null,default:RO},Symbol.toStringTag,{value:"Module"})),VO={card_name:"",card_type:"",magic_type:"",text:"",image:"card100013349_1.jpg",effect:{onSpell:{condition:e=>!(e.hand.filter(t=>K(t.card)).length===0||[...e.deck,...e.hand].filter(t=>Ye(t.card)&&t.card.level===1).length===0||e.deck.filter(t=>Ye(t.card)&&t.card.level===1).length===0&&e.hand.filter(t=>K(t.card)).length===1&&e.hand.filter(t=>Ye(t.card)&&t.card.level===1).length===1||!Ue(e)),effect:(e,t,i,a)=>q(e,t,r=>r.hand.filter(c=>K(c.card)),{select:"single",message:"",condition:(r,c)=>{const o=[...c.hand,...c.deck].filter(f=>Ye(f.card)&&f.card.level===1);return o.length>=2?!0:o.length===1?o[0].id!==r[0].id:!1}},(r,c,o)=>{const f=c.id;Y(r,o[0],"Graveyard"),q(r,c,d=>[...d.hand,...d.deck].filter(m=>Ye(m.card)&&m.card.level===1),{select:"single",message:"1"},(d,m,p)=>{ue(d,m,p[0],{},y=>{Xe(y),a==null||a(y,Ne(y,f))})})})}}},$O=Object.freeze(Object.defineProperty({__proto__:null,default:VO},Symbol.toStringTag,{value:"Module"})),PO={card_name:"",card_type:"",magic_type:"",text:"",image:"card100123678_1.jpg",effect:{onSpell:{condition:e=>e.deck.filter(t=>Ye(t.card)&&t.card.monster_type===""&&t.card.level<=7).length>0,effect:(e,t,i,a)=>q(e,t,r=>r.deck.filter(c=>Ye(c.card)&&c.card.monster_type===""&&c.card.level<=7),{select:"single",message:"7"},(r,c,o)=>{Y(r,o[0],"Hand"),r.graveyard.filter(d=>Ke(d.card)&&d.card.magic_type==="").length>0?q(r,c,d=>d.graveyard.filter(m=>Ke(m.card)&&m.card.magic_type===""),{select:"single",message:""},(d,m,p)=>{Y(d,p[0],"Hand"),Xe(d),a==null||a(d,m)}):a==null||a(r,c)})}}},zO=Object.freeze(Object.defineProperty({__proto__:null,default:PO},Symbol.toStringTag,{value:"Module"})),BO={card_name:"",card_type:"",text:"",image:"card100015416_1.jpg",magic_type:"",effect:{onSpell:{condition:e=>{const t=new E(e).deck().filter().lightsworn().monster().underLevel(4).get();return e.deck.length>=3&&t.length>0},payCost:(e,t,i)=>{Ge(e,t,{delay:100},3,a=>{a.deck.length>0&&Y(a,a.deck[0],"Graveyard")},(a,r)=>i(a,r))},effect:(e,t,i,a)=>{const r=c=>new E(c).deck().filter().lightsworn().monster().underLevel(4).get();r.length>0?q(e,t,r,{select:"single",message:""},(c,o,f)=>{f.length>0&&Y(c,f[0],"Hand"),a&&a(c,o)}):a&&a(e,t)}}}},UO=Object.freeze(Object.defineProperty({__proto__:null,default:BO},Symbol.toStringTag,{value:"Module"})),qO=e=>{var i;switch((i=e.originDeck)==null?void 0:i.deck_name){case"":{const a=new E(e).allMonster().filter().level(5).len()>0,r=new E(e).allMonster().filter().level(1).len()>0;return a&&r?Math.random()*8+1:a?1:5}case"":{const a=new E(e).allMonster().graveyard().filter().level(8).len()>0,r=new E(e).allMonster().graveyard().filter().level(6).len()>0;return a?r?1:6:8}default:return Math.random()*8+1}},HO={card_name:"",card_type:"",text:"",image:"card73707891_1.jpg",magic_type:"",effect:{onSpell:{condition:e=>new E(e).deck().filter().canNormalSummon().len()>0,effect:(e,t,i,a)=>{const r=qO(e);ln(e,t,{message:`${r}`},(c,o)=>{const f=new E(c).deck().get(),d=f.findIndex(_=>_!==null&&K(_.card)&&_.card.canNormalSummon===!0);if(d===-1){ln(c,o,{message:`${o.card.card_name}`},()=>{a==null||a(c,o)});return}const m=f[d],y=Re(m)===r;c.deck[0].position="attack",Ge(c,o,{delay:200},d+1,(_,v,M)=>{const w=_.deck[0];M===1?y?ln(_,v,{message:""},T=>{Y(T,T.deck[0],"Graveyard")}):ln(_,v,{message:""},(T,A)=>{ue(T,A,T.deck[0],{},()=>{})}):(Y(_,w,"Graveyard"),_.deck[0].position="attack")},(_,v)=>{a==null||a(_,v)})})}}}},GO=Object.freeze(Object.defineProperty({__proto__:null,default:HO},Symbol.toStringTag,{value:"Module"})),ZO={card_name:"",card_type:"",text:"",image:"card100002425_1.jpg",magic_type:"",effect:{onSpell:{condition:e=>e.deck.filter(i=>K(i.card)&&i.card.race===""&&Re(i)<=4).length>0,effect:(e,t,i,a)=>{q(e,t,c=>new E(c).deck().filter().race("").underLevel(4).get(),{select:"single",message:"",canCancel:!1},(c,o,f)=>{f.length>0&&Y(c,f[0],"Hand"),Xe(c),a==null||a(c,o)})}}}},FO=Object.freeze(Object.defineProperty({__proto__:null,default:ZO},Symbol.toStringTag,{value:"Module"})),YO={card_name:"",card_type:"",text:"",image:"card100161246_1.jpg",magic_type:"",effect:{onSpell:{condition:e=>new E(e).deck().len()>=2,effect:(e,t,i,a)=>{mt(e,t,{count:3},(r,c)=>{xe(r,c,{delay:200,order:0},(o,f)=>{q(o,f,d=>new E(d).hand().getNonNull(),{select:"multi",condition:d=>d.length===2},(d,m,p)=>{ta(d,m,p,(y,_)=>{xe(y,_,{},(v,M)=>{a==null||a(v,M)})})})})})}}}},XO=Object.freeze(Object.defineProperty({__proto__:null,default:YO},Symbol.toStringTag,{value:"Module"})),IO={card_name:"",card_type:"",text:"",image:"card100019307_1.jpg",magic_type:"",effect:{onSpell:{condition:e=>e.deck.length>=1,effect:(e,t,i,a)=>{q(e,t,r=>new E(r).deck().getNonNull(),{select:"single",message:"",canCancel:!1},(r,c,o)=>{o.length>0&&Y(r,o[0],"Exclusion"),Xe(r),a==null||a(r,c)})}}}},KO=Object.freeze(Object.defineProperty({__proto__:null,default:IO},Symbol.toStringTag,{value:"Module"})),QO={card_name:"",card_type:"",text:"",image:"card100016594_1.jpg",magic_type:"",effect:{onSpell:{condition:e=>new E(e).deck().len()>=2,effect:(e,t,i,a)=>{mt(e,t,{count:2},(r,c)=>{a==null||a(r,c)})}}}},WO=Object.freeze(Object.defineProperty({__proto__:null,default:QO},Symbol.toStringTag,{value:"Module"})),JO={card_name:"",card_type:"",text:"",image:"card100014788_1.jpg",magic_type:"",effect:{onSpell:{condition:(e,t)=>new E(e).hand().filter().excludeId(t.id).len()>0,effect:(e,t,i,a)=>{const r=new E(e).hand().filter().excludeId(t.id).nonNull().get();ta(e,t,r,(c,o)=>mt(c,o,{count:r.length},(f,d)=>{a==null||a(f,d)}))}}}},eN=Object.freeze(Object.defineProperty({__proto__:null,default:JO},Symbol.toStringTag,{value:"Module"})),tN={card_name:"",card_type:"",text:"",image:"card100040257_1.jpg",magic_type:"",effect:{onSpell:{condition:(e,t)=>{const i=Yc(e,t,800);return e.lifePoints>=i&&new E(e).graveyard().filter().monster().noSummonLimited().len()>0},effect:(e,t,i,a)=>{const r=Yc(e,t,800);On(e,t,{target:"player",amount:r,operation:"decrease"},(c,o)=>{q(c,o,f=>new E(f).graveyard().filter().monster().noSummonLimited().get(),{select:"single",canCancel:!1,message:""},(f,d,m)=>{const p=m[0],y=d.id;ue(f,d,p,{canSelectPosition:!1,optionPosition:["attack"]},(_,v,M)=>{DS(_,M,y);const w=Ne(_,y);a==null||a(_,w)})})})}},onFieldToGraveyard:(e,t,i)=>{const a=String((i==null?void 0:i.equipCardId)??0);a&&xe(e,t,{},r=>{fn(r,a,"Graveyard")})}}},nN=Object.freeze(Object.defineProperty({__proto__:null,default:tN},Symbol.toStringTag,{value:"Module"})),iN={card_name:"",card_type:"",magic_type:"",text:"",image:"card100206552_1.jpg",effect:{onSpell:{condition:(e,t)=>oe(e,t,i=>i.deck.filter(a=>K(a.card)&&a.card.card_name.includes("")).length>0&&Ue(i)),effect:(e,t,i,a)=>re(e,t,()=>{const r=t.id;q(e,t,c=>c.deck.filter(o=>K(o.card)&&o.card.card_name.includes("")),{select:"single",message:""},(c,o,f)=>{ue(c,o,f[0],{},d=>{const m=Ne(d,r);Xe(d),a==null||a(d,m)})})})}}},aN=Object.freeze(Object.defineProperty({__proto__:null,default:iN},Symbol.toStringTag,{value:"Module"})),sN={card_name:"",card_type:"",text:"",image:"card100002260_1.jpg",magic_type:"",effect:{onSpell:{condition:(e,t)=>{const i=new E(e).banished().filter().noSummonLimited().get(),a=Yc(e,t,2e3);return e.lifePoints>=a&&i.length>0},effect:(e,t,i,a)=>{const r=t.id,c=Yc(e,t,2e3);On(e,t,{target:"player",amount:c,operation:"decrease"},(o,f)=>{const d=new E(o).banished().filter().noSummonLimited().get();if(d.length===0){a==null||a(o,f);return}const m=o.field.monsterZones.filter(p=>p===null).length;if(d.length<=m){const p=d.map(y=>y.id);Ge(o,f,{delay:100},d.length,(y,_,v)=>{const M=p[v-1],w=y.banished.find(T=>T.id===M);w&&ue(y,_,w,{canSelectPosition:!0,optionPosition:["attack","defense"]},()=>{})},(y,_)=>{a==null||a(y,_)})}else q(o,f,y=>new E(y).banished().filter().noSummonLimited().get(),{select:"multi",condition:y=>y.length===m,message:`${m}`,canCancel:!1},(y,_,v)=>{if(v.length>0){const M=v.map(w=>w.id);Ge(y,_,{delay:100},v.length,(w,T,A)=>{const R=M[A-1],N=w.banished.find(W=>W.id===R);N&&ue(w,T,N,{canSelectPosition:!0,optionPosition:["attack","defense"]},()=>{})},w=>{a==null||a(w,Ne(w,r))})}})})}}}},rN=Object.freeze(Object.defineProperty({__proto__:null,default:sN},Symbol.toStringTag,{value:"Module"})),lN={card_name:"",card_type:"",text:"",image:"card100002579_1.jpg",magic_type:"",effect:{onSpell:{condition:e=>new E(e).graveyard().filter().monster().noSummonLimited().len()>0,effect:(e,t,i,a)=>{const r=t.id;return q(e,t,c=>new E(c).graveyard().filter().monster().noSummonLimited().get(),{select:"single"},(c,o,f)=>{ue(c,o,f[0],{},d=>{a==null||a(d,Ne(d,r))})})}}}},oN=Object.freeze(Object.defineProperty({__proto__:null,default:lN},Symbol.toStringTag,{value:"Module"})),cN={card_name:"",card_type:"",magic_type:"",text:"",image:"card100206549_1.jpg",effect:{onSpell:{condition:e=>{{const t=[...e.hand,...e.graveyard].filter(o=>K(o.card)&&o.card.monster_type==="").map(o=>o.card),i=t.reduce((o,f)=>Math.min(o,f.attack),9999999999999),a=[...e.field.monsterZones,...e.field.extraMonsterZones].filter(o=>o!==null&&K(o.card)&&o.card.canUseMaterilForRitualSummon===!0&&o.materials!==void 0).map(o=>o.materials).flat(),r=[...e.hand,...e.field.monsterZones,...e.field.extraMonsterZones,...a].filter(o=>o!==null&&K(o.card)&&o.card.race==="").map(o=>o.card),c=r.reduce((o,f)=>o+f.attack,0);return t.length>0&&r.length>0&&c>=i?Ue(e)?!0:!!PC(e).find(f=>K(f.card)&&f.card.race===""&&on(f)>i):!1}},effect:(e,t,i,a)=>{const r=t.id;q(e,t,c=>[...c.hand,...c.graveyard].filter(o=>K(o.card)&&o.card.monster_type===""),{select:"single",message:""},(c,o,f)=>{q(c,o,d=>{const m=[...d.field.monsterZones,...d.field.extraMonsterZones].filter(p=>p!==null&&K(p.card)&&p.card.canUseMaterilForRitualSummon===!0&&p.materials!==void 0).map(p=>p.materials).flat();return[...d.hand,...d.field.monsterZones,...d.field.extraMonsterZones,...m].filter(p=>p!==null&&K(p.card)&&p.card.race==="")},{select:"multi",condition:(d,m)=>{const p=f[0].card,y=d.map(v=>v.card),_=y.reduce((v,M)=>v+M.attack,0);return _>=p.attack&&y.every(v=>_-v.attack<p.attack)&&TS(m,d)},message:""},(d,m,p)=>{for(const y of p)Y(d,y,"Graveyard");ue(d,m,f[0],{},y=>{a==null||a(y,Ne(y,r))})})})}},onIgnition:{condition:(e,t)=>oe(e,t,(i,a)=>a.location==="Graveyard"&&[...i.field.monsterZones,...i.field.extraMonsterZones].filter(r=>r!==null&&r.card.card_name.includes("")&&on(r)>=1e3).length>0),effect:(e,t)=>{re(e,t,(i,a)=>{q(i,a,r=>[...r.field.monsterZones,...r.field.extraMonsterZones].filter(c=>c!==null&&c.card.card_name.includes("")&&on(c)>=1e3),{select:"single",message:""},(r,c,o)=>{sa(r,o[0],{attack:-1e3,defense:0,level:0}),Y(r,c,"Hand")})})}}}},uN=Object.freeze(Object.defineProperty({__proto__:null,default:cN},Symbol.toStringTag,{value:"Module"})),fN={card_name:"",card_type:"",magic_type:"",text:"211",image:"card100046458_1.jpg",effect:{onSpell:{condition:e=>{const t=e.deck.filter(a=>Ke(a.card)&&a.card.magic_type==="");return new Set(t.map(a=>a.card.card_name)).size>=2},effect:(e,t,i,a)=>{q(e,t,r=>r.deck.filter(c=>Ke(c.card)&&c.card.magic_type==="").reduce((c,o)=>c.find(f=>f.card.card_name===o.card.card_name)?c:[...c,o],[]),{select:"multi",condition:r=>r.length===2,message:"2"},(r,c,o)=>{const f=o.map(d=>d.id);q(r,c,d=>f.map(m=>d.deck.find(p=>p.id===m)),{select:"single",message:""},(d,m,p)=>{d.field.fieldZone!==null&&Y(d,d.field.fieldZone,"Graveyard");const y=f.find(v=>v!==p[0].id);fn(d,y,"OpponentField",{reverse:!0});const _=p[0].id;xe(d,m,{order:0},(v,M)=>{fn(v,_,"FieldZone",{reverse:!0}),v.isFieldSpellActivationAllowed=_,Xe(v),a==null||a(v,M)})})})}}}},dN=Object.freeze(Object.defineProperty({__proto__:null,default:fN},Symbol.toStringTag,{value:"Module"})),hN={card_name:"-",card_type:"",text:"",image:"card73705517_1.jpg",magic_type:"",effect:{onSpell:{condition:e=>new E(e).allMonster().filter().race("").get().length>0,effect:(e,t,i,a)=>{q(e,t,c=>new E(c).allMonster().filter().race("").get(),{select:"single",message:"",canCancel:!1},(c,o,f)=>{if(f.length>0){const d=f[0];Xm(c,d,o),sa(c,o,{attack:300,defense:0,level:0})}a==null||a(c,o)})}},onIgnition:{condition:(e,t)=>t.location!=="Graveyard"||e.phase!=="main1"?!1:e.graveyard.filter(a=>K(a.card)&&a.card.race==="").length>=2,effect:(e,t)=>{q(e,t,a=>new E(a).graveyard().filter().race("").get(),{select:"multi",condition:a=>a.length===2,message:"2",canCancel:!0},(a,r,c)=>{Ha(a,r,{cardIdList:c.map(o=>o.id)},(o,f)=>{Y(o,f,"Hand")})})}}}},mN=Object.freeze(Object.defineProperty({__proto__:null,default:hN},Symbol.toStringTag,{value:"Module"})),pN={card_name:"",card_type:"",magic_type:"",text:"",image:"card100206543_1.jpg",effect:{onSpell:{condition:(e,t)=>oe(e,t,i=>i.deck.filter(r=>(Ke(r.card)||Tl(r.card))&&r.card.card_name.includes("")&&r.card.card_name!=="").length>0),effect:(e,t,i,a)=>re(e,t,()=>{q(e,t,c=>c.deck.filter(o=>(Ke(o.card)||Tl(o.card))&&o.card.card_name.includes("")&&o.card.card_name!==""),{select:"single",message:""},(c,o,f)=>{Y(c,f[0],"Hand"),Xe(c),a==null||a(c,o)})})}}},gN=Object.freeze(Object.defineProperty({__proto__:null,default:pN},Symbol.toStringTag,{value:"Module"})),yN={card_name:"",card_type:"",text:"    ",image:"card100278147_1.jpg",magic_type:"",effect:{onSpell:{condition:(e,t)=>oe(e,t,i=>new E(i).graveyard().hand().filter().include("").len()>0&&Ue(i)),effect:(e,t,i,a)=>{const r=new E(e).graveyard().hand().filter().include("").get().at(0);if(r===void 0){a==null||a(e,t);return}const c=t.id;ue(e,t,r,{},o=>{const f=Ne(o,c);a==null||a(o,f)})}}}},_N=Object.freeze(Object.defineProperty({__proto__:null,default:yN},Symbol.toStringTag,{value:"Module"})),vN={card_name:"",card_type:"",text:"",image:"card100016548_1.jpg",magic_type:"",effect:{onSpell:{condition:(e,t)=>{const i=e.cardChain.filter(a=>a.id!==t.id);return i.length===0?!1:Ke(i[0].card)&&i[0].card.magic_type===""&&(t.location==="Hand"||t.location==="SpellField"&&t.position==="back")&&new E(e).hand().filter().excludeId(t.id).len()>0&&(Sl(e)||t.location==="SpellField")},effect:(e,t,i,a)=>{if(e.cardChain.filter(o=>o.id!==t.id).length===0)return a==null||a(e,t),!1;const c=new E(e).hand().len();Ge(e,t,{},c,o=>{Y(o,o.hand[0],"Graveyard")},(o,f)=>{var m,p,y,_;const d=o.cardChain.filter(v=>v.id!==f.id).at(0);(_=(y=(p=(m=d==null?void 0:d.card)==null?void 0:m.effect)==null?void 0:p.onSpell)==null?void 0:y.effect)==null||_.call(y,o,f,void 0,(v,M)=>{a==null||a(v,M)})})}},onChain:{condition:(e,t)=>{const i=e.cardChain.filter(a=>a.id!==t.id);return i.length===0?!1:Ke(i[0].card)&&i[0].card.magic_type===""&&(t.location==="Hand"||t.location==="SpellField"&&t.position==="back")&&new E(e).hand().filter().excludeId(t.id).len()>0&&(Sl(e)||t.location==="SpellField")}}}},bN=Object.freeze(Object.defineProperty({__proto__:null,default:vN},Symbol.toStringTag,{value:"Module"})),xN={card_name:"",card_type:"",text:"",image:"card100222242_1.jpg",magic_type:"",effect:{onSpell:{condition:()=>!0,effect:(e,t,i,a)=>{const r=Un(),c={id:r,name:`${t.card.card_name}`,card:t,canActivate:o=>{const f=o.monstersToGraveyardThisTurn.length,d=new E(o).deck().filter().monster().hasAttackBelow(1500).len();return f>0&&d>0},activate:(o,f)=>{q(o,f,d=>new E(d).deck().filter().monster().hasAttackBelow(1500).get(),{select:"single",canCancel:!0,message:"1500"},(d,m,p)=>{ue(d,m,p[0],{canSelectPosition:!0,optionPosition:["attack","defense"]},y=>{Xe(y),y.deckEffects=y.deckEffects.filter(_=>_.id!==r)})})}};e.deckEffects.push(c),a==null||a(e,t)}}}},SN=Object.freeze(Object.defineProperty({__proto__:null,default:xN},Symbol.toStringTag,{value:"Module"})),TN={card_name:"",card_type:"",magic_type:"",text:"",image:"card100214871_1.jpg",effect:{onSpell:{condition:(e,t)=>oe(e,t,i=>i.extraDeck.length>=3&&i.deck.length>=3),payCost:(e,t,i)=>{We(e,t,[{name:"",condition:a=>a.extraDeck.length>=3&&a.deck.length>=3},{name:"",condition:a=>a.extraDeck.length>=6&&a.deck.length>=6}],(a,r,c)=>{const o=c===""?3:6,f=YC(a,o).map(d=>d.id);Ge(a,r,{delay:50},6,(d,m,p)=>{fn(d,f[p-1],"Exclusion")},(d,m)=>{i(d,m,{excludeNum:o})})})},effect:(e,t,i,a)=>{re(e,t,(r,c)=>{q(r,c,o=>o.deck.slice(0,Number((i==null?void 0:i.excludeNum)??3)),{select:"single",message:""},(o,f,d)=>{Y(o,d[0],"Hand"),a==null||a(o,f)})})}}}},MN=Object.freeze(Object.defineProperty({__proto__:null,default:TN},Symbol.toStringTag,{value:"Module"})),AN={card_name:"",card_type:"",text:" ",image:"card100041211_1.jpg",magic_type:"",effect:{onSpell:{condition:e=>e.deck.length>40,effect:(e,t,i,a)=>{const c=e.deck.length-40;c>0?Ge(e,t,{delay:50},c,o=>{o.deck.length>0&&Y(o,o.deck[0],"Graveyard")},(o,f)=>{a&&a(o,f)}):a&&a(e,t)}}}},wN=Object.freeze(Object.defineProperty({__proto__:null,default:AN},Symbol.toStringTag,{value:"Module"})),jN={card_name:"",card_type:"",magic_type:"",text:"",image:"card1001286_1.jpg",effect:{onSpell:{condition:(e,t)=>oe(e,t,i=>{const a=[...i.hand].filter(f=>K(f.card)&&f.card.monster_type==="").map(f=>f.card),r=[...i.deck].filter(f=>f!==null&&K(f.card)&&f.card.monster_type==="").map(f=>f.card),c=r.reduce((f,d)=>{const m=f,p=f.map(y=>y+d.level);return Array.from(new Set([...m,...p]))},[0]),o=a.filter(f=>c.includes(f.level));return a.length>0&&r.length>0&&o.length>0&&Ue(i)}),effect:(e,t,i,a)=>{q(e,t,r=>{const c=[...r.hand].filter(d=>K(d.card)&&d.card.monster_type===""),f=[...r.deck].filter(d=>d!==null&&K(d.card)&&d.card.monster_type==="").map(d=>d.card).reduce((d,m)=>{const p=d,y=d.map(_=>_+m.level);return Array.from(new Set([...p,...y]))},[0]);return c.filter(d=>Ye(d.card)&&f.includes(d.card.level))},{select:"single",message:""},(r,c,o)=>{q(r,c,f=>[...f.deck].filter(d=>d!==null&&K(d.card)&&d.card.monster_type===""),{select:"multi",condition:f=>f.reduce((d,m)=>d+Re(m),0)===Re(o[0]),message:""},(f,d,m)=>{const p=m.map(v=>v.id),y=o[0].id,_=d.id;Ge(f,d,{},m.length,(v,M,w)=>{fn(v,p[w-1],"Graveyard")},(v,M)=>{const w=Ne(v,y);ue(v,M,w,{},T=>{const A=Ne(T,_);Xe(T),a==null||a(T,A)})})})})}}}},DN=Object.freeze(Object.defineProperty({__proto__:null,default:jN},Symbol.toStringTag,{value:"Module"})),EN={card_name:"",card_type:"",text:"",image:"card100001374_1.jpg",magic_type:"",effect:{onSpell:{condition:()=>!0,effect:(e,t,i,a)=>{a==null||a(e,t)}},onPayLifeCost:(e,t,i,a)=>t.location==="SpellField"&&t.position!=="back"?0:a}},kN=Object.freeze(Object.defineProperty({__proto__:null,default:EN},Symbol.toStringTag,{value:"Module"})),CN={card_name:"",card_type:"",text:"",image:"card100001453_1.jpg",magic_type:"",effect:{onSpell:{condition:(e,t)=>{const i=new E(e).hand().filter().magic().excludeId(t.id).len(),a=new E(e).graveyard().filter().magic().len();return i>=2&&a>0},payCost:(e,t,i)=>{const a=t.id;q(e,t,r=>new E(r).hand().filter().magic().excludeId(a).get(),{select:"multi",condition:r=>r.length===2,message:"2",canCancel:!0},(r,c,o)=>{Ge(r,c,{delay:100,order:-1},o.length,(f,d,m)=>{Y(f,o[m-1],"Graveyard")},(f,d)=>{i(f,d)})})},effect:(e,t,i,a)=>{q(e,t,r=>new E(r).graveyard().filter().magic().get(),{select:"single",message:"1"},(r,c,o)=>{Y(r,o[0],"Hand"),a==null||a(r,c)})}}}},ON=Object.freeze(Object.defineProperty({__proto__:null,default:CN},Symbol.toStringTag,{value:"Module"})),NN={card_name:"",card_type:"",text:"",image:"card100024685_1.jpg",magic_type:"",effect:{onSpell:{condition:(e,t)=>{const i=new E(e).hand().filter().excludeId(t.id).len(),a=new E(e).graveyard().filter().magic().len();return i>=2&&a>0},payCost:(e,t,i)=>{const a=t.id;q(e,t,r=>new E(r).hand().filter().excludeId(a).get(),{select:"multi",condition:r=>r.length===2,message:"2"},(r,c,o)=>{Ge(r,c,{delay:100,order:-1},o.length,(f,d,m)=>{Y(f,o[m-1],"Graveyard")},(f,d)=>{i(f,d)})})},effect:(e,t,i,a)=>{q(e,t,r=>new E(r).graveyard().filter().magic().get(),{select:"single",message:"1"},(r,c,o)=>{Y(r,o[0],"Hand"),a==null||a(r,c)})}}}},RN=Object.freeze(Object.defineProperty({__proto__:null,default:NN},Symbol.toStringTag,{value:"Module"})),LN={card_name:"D-HERO ",card_type:"",text:"",image:"card100019873_1.jpg",monster_type:"",level:1,element:"",race:"",attack:300,defense:300,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{onGraveyardToField:(e,t)=>{mt(e,t,{count:2})}}},VN=Object.freeze(Object.defineProperty({__proto__:null,default:LN},Symbol.toStringTag,{value:"Module"})),$N={card_name:"D-HERO ",card_type:"",text:"",image:"card100039260_1.jpg",monster_type:"",level:8,element:"",race:"",attack:3400,defense:2400,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!1,summonLimited:!0,effect:{onIgnition:{condition:(e,t)=>t.location==="Hand"&&e.field.monsterZones.filter(i=>i==null?void 0:i.card.card_name.includes("D-HERO")).length>=1&&new E(e).allMonster().filter().nonNull().get().length>=3,effect:(e,t)=>{q(e,t,a=>new E(a).allMonster().getNonNull(),{select:"multi",condition:a=>a.length==3&&a.filter(r=>r.card.card_name.includes("D-HERO")).length>=1,canCancel:!0},(a,r,c)=>{JC(a,r,{cardIdList:c.map(o=>o.id)},(o,f)=>{ue(o,f,f,{},()=>{})})})}},onStandbyPhase:(e,t)=>{ln(e,t,{message:"D-HERO "},(i,a)=>{const r=i.opponentLifePoints,c=Math.floor(r/2);On(i,a,{target:"opponent",amount:c,operation:"decrease"})})}}},PN=Object.freeze(Object.defineProperty({__proto__:null,default:$N},Symbol.toStringTag,{value:"Module"})),zN={card_name:"EHERO ",card_type:"",text:"",image:"card100137045_1.jpg",monster_type:"",level:4,element:"",race:"",attack:1800,defense:300,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{onSummon:(e,t)=>{We(e,t,[{name:"",condition:i=>{const a=new E(i).allMonster().filter().nonNull().get().filter(c=>c.card.card_name.includes("HERO")).length,r=new E(i).allFieldSpellTrap().getNonNull().length;return a>0&&r>0}},{name:"HERO",condition:i=>new E(i).deck().filter().nonNull().monster().get().filter(r=>r.card.card_name.includes("HERO")).length>0}],(i,a,r)=>{if(r===""){const c=new E(i).allMonster().filter().nonNull().get().filter(o=>o.card.card_name.includes("HERO")).length;c>0&&q(i,a,f=>new E(f).allFieldSpellTrap().getNonNull(),{select:"multi",condition:f=>f.length>0&&f.length<=c,message:`${c}`,canCancel:!0},(f,d,m)=>{const p=m.map(y=>y.id);Ge(f,d,{},m.length,(y,_,v)=>{fn(y,p[v-1],"Graveyard")})})}else r==="HERO"&&q(i,a,o=>new E(o).deck().filter().nonNull().monster().get().filter(f=>f.card.card_name.includes("HERO")),{select:"single",condition:o=>o.length===1,message:"HERO1",canCancel:!0},(o,f,d)=>{d.length>0&&(Y(o,d[0],"Hand"),Xe(o))})},!0)}}},BN=Object.freeze(Object.defineProperty({__proto__:null,default:zN},Symbol.toStringTag,{value:"Module"})),UN={card_name:"Em",card_type:"",text:"Em",image:"card100180167_1.jpg",monster_type:"",level:4,element:"",race:"",attack:1600,defense:1200,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{onAnywhereToGraveyard:(e,t)=>{if(!oe(e,t,()=>!0)||!Ue(e))return;const i=a=>new E(a).graveyard().filter().monster().include("Em").get();i(e).length>0&&q(e,t,i,{select:"single",message:"Em",canCancel:!0},(a,r,c)=>{c.length>0&&re(a,r,(o,f)=>{ue(o,f,c[0],{canSelectPosition:!0,optionPosition:["attack","defense"]},(d,m,p)=>{sa(d,p,{attack:-on(p),defense:-Fm(p),level:0}),On(d,m,{target:"player",amount:1e3,operation:"decrease"},()=>{})})})})}}},qN=Object.freeze(Object.defineProperty({__proto__:null,default:UN},Symbol.toStringTag,{value:"Module"})),HN={card_name:"",card_type:"",text:"",image:"card100019985_1.jpg",monster_type:"",element:"",race:"",attack:0,defense:0,level:10,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{}},GN=Object.freeze(Object.defineProperty({__proto__:null,default:HN},Symbol.toStringTag,{value:"Module"})),ZN={card_name:"",card_type:"",text:"",image:"card100018655_1.jpg",monster_type:"",element:"",race:"",attack:4e3,defense:4e3,level:10,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{}},FN=Object.freeze(Object.defineProperty({__proto__:null,default:ZN},Symbol.toStringTag,{value:"Module"})),YN={card_name:"",card_type:"",text:" ",image:"card100095993_1.jpg",monster_type:"",level:5,element:"",race:"",attack:1e3,defense:2e3,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{onIgnition:{condition:(e,t)=>t.location!=="MonsterField"||t.position!=="attack"&&t.position==="defense"?!1:new E(e).allMonster().filter().nonNull().get().length>0,effect:(e,t)=>{q(e,t,i=>new E(i).allMonster().filter().nonNull().get(),{select:"single",canCancel:!0,message:""},(i,a,r)=>{const c=r[0],o=Math.floor(on(c)/2);Y(i,c,"Graveyard"),On(i,a,{target:"opponent",amount:o,operation:"decrease"})})}}}},XN=Object.freeze(Object.defineProperty({__proto__:null,default:YN},Symbol.toStringTag,{value:"Module"})),IN={card_name:"",card_type:"",monster_type:"",level:3,element:"",race:"",attack:1e3,defense:600,text:"(1)",image:"card100350408_1.jpg",hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{onFieldToGraveyard:(e,t)=>re(e,t,(i,a)=>{const r=c=>c.deck.filter(o=>K(o.card)&&o.card.attack<=1500);r(i).length!==0&&q(i,a,r,{select:"single",order:999,message:"1500"},(c,o,f)=>{Y(c,f[0],"Hand")})})}},KN=Object.freeze(Object.defineProperty({__proto__:null,default:IN},Symbol.toStringTag,{value:"Module"})),QN={card_name:"",card_type:"",text:" ",image:"card100110945_1.jpg",monster_type:"",level:3,element:"",race:"",attack:1e3,defense:1200,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{onAnywhereToGraveyard:(e,t)=>{if(!oe(e,t,()=>!0))return;const i=r=>new E(r).deck().filter().monster().level(4).race("").get();i(e).length>0&&q(e,t,i,{select:"single",message:"4",canCancel:!0},(r,c,o)=>{const f=o[0].id;re(r,c,(d,m)=>{const p=Ne(d,f);Y(d,p,"Hand"),K(p.card)&&p.card.monster_type===""&&Cl(d,m,{message:`${p.card.card_name}`},(y,_)=>{ue(y,_,p,{canSelectPosition:!0,optionPosition:["attack","defense"]},(v,M)=>{const w=on(p),T=new E(v).allMonster().filter().nonNull().get().filter(A=>on(A)>=w);T.length>0&&Cl(v,M,{message:""},(A,R)=>{q(A,R,()=>T,{select:"single",message:""},(N,W,C)=>{C.length>0&&ES(N,C[0])})})})})})})}}},WN=Object.freeze(Object.defineProperty({__proto__:null,default:QN},Symbol.toStringTag,{value:"Module"})),JN={card_name:"",card_type:"",text:"",image:"card100004149_1.jpg",monster_type:"",level:1,element:"",race:"",attack:0,defense:0,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{onIgnition:{condition:(e,t)=>{if(t.location!=="MonsterField")return!1;const a=new E(e).allMonster().filter().nonNull().excludeId(t.id).get().length>0&&e.deck.length>=2,r=e.hand.length>0&&e.graveyard.length>0;return a||r},effect:(e,t)=>{const i=[];new E(e).allMonster().filter().nonNull().excludeId(t.id).get().length>0&&e.deck.length>=2&&i.push({name:"2",condition:()=>!0}),e.hand.length>0&&e.graveyard.length>0&&i.push({name:"",condition:()=>!0}),We(e,t,i,(r,c,o)=>{if(o==="2"){const f=c.id;q(r,c,m=>new E(m).allMonster().filter().nonNull().excludeId(f).get(),{select:"single",message:"",canCancel:!0},(m,p,y)=>{Ha(m,p,{cardIdList:[p.id,y[0].id]},(_,v)=>{mt(_,v,{count:2})})})}else o===""&&q(r,c,f=>new E(f).hand().getNonNull(),{select:"single",message:"",canCancel:!0},(f,d,m)=>{m.length>0&&Ha(f,d,{cardIdList:[d.id,m[0].id]},(p,y)=>{q(p,y,_=>new E(_).graveyard().getNonNull(),{select:"single",message:"",canCancel:!1},(_,v,M)=>{if(M.length>0){const w=M[0];Y(_,w,"Deck",{deckTop:!0})}})})})},!0)}}}},eR=Object.freeze(Object.defineProperty({__proto__:null,default:JN},Symbol.toStringTag,{value:"Module"})),tR={card_name:"",monster_type:"",level:6,element:"",race:"",attack:1800,defense:1500,text:"",image:"card100035806_1.jpg",hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!1,card_type:"",effect:{onRelease:(e,t)=>{const i=a=>a.deck.filter(r=>K(r.card)&&r.card.race==="");i.length!==0&&q(e,t,i,{select:"single",order:999,message:""},(a,r,c)=>{Y(a,c[0],"Hand"),Xe(a)})}}},nR=Object.freeze(Object.defineProperty({__proto__:null,default:tR},Symbol.toStringTag,{value:"Module"})),iR={card_name:"",monster_type:"",level:6,element:"",race:"",attack:1600,defense:2e3,text:"",image:"card100133121_1.jpg",hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!1,card_type:"",effect:{onSummon:(e,t)=>{const i=a=>[...a.deck,...a.graveyard].filter(r=>Ke(r.card)&&r.card.magic_type==="");i(e).length!==0&&q(e,t,i,{select:"single",order:999,message:""},(a,r,c)=>{Y(a,c[0],"Hand"),Xe(a)})}}},aR=Object.freeze(Object.defineProperty({__proto__:null,default:iR},Symbol.toStringTag,{value:"Module"})),sR={card_name:"",card_type:"",monster_type:"",level:3,element:"",race:"",attack:1400,defense:1200,text:"",image:"card100004619_1.jpg",hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{},hasTuner:!0},rR=Object.freeze(Object.defineProperty({__proto__:null,default:sR},Symbol.toStringTag,{value:"Module"})),lR={card_name:"",card_type:"",text:"EX",image:"card100260390_1.jpg",monster_type:"",level:4,element:"",race:"",attack:1800,defense:1300,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!1,effect:{onIgnition:{condition:(e,t)=>t.location==="Hand"&&new E(e).hand().filter().monster().excludeId(t.id).len()>0,effect:(e,t)=>{oe(e,t,()=>!0,"sheilane_2")&&(e.deck.length<=2||re(e,t,(i,a)=>{ue(i,a,a,{summonType:"Special"},(r,c)=>{const o=c.id;q(r,c,f=>new E(f).hand().filter().monster().excludeId(o).get(),{select:"single"},(f,d,m)=>{ta(f,d,m,(p,y)=>{$t(p,y,Math.min(3,p.deck.length),()=>{},{byEffect:!0})},{byEffect:!0})})})},"sheilane_2"))}},onAnywhereToGraveyardByEffect:(e,t)=>{oe(e,t,()=>!0,"sheilane_1")&&Ue(e)&&We(e,t,[{name:"EX",condition:()=>!0}],(i,a)=>{q(i,a,r=>new E(r).extraDeck().filter().fusionMonster().get(),{select:"single",canCancel:!0},(r,c,o)=>{const f=o[0],d=f.id,m=c.id;q(r,c,p=>new E(p).hand().allMonster().graveyard().filter().monster().get(),{select:"multi",condition:p=>f.card.materialCondition(p)&&!!p.find(y=>y.id===m),canCancel:!0},(p,y,_)=>{const v=_.map(M=>M.id);re(p,y,(M,w)=>{const T=v.map(A=>Ne(M,A));Km(M,w,T,A=>{const R=Ne(A,d);ue(A,R,R,{summonType:"Fusion"},()=>{})})},"sheilane_1")})})},!0)}}},oR=Object.freeze(Object.defineProperty({__proto__:null,default:lR},Symbol.toStringTag,{value:"Module"})),cR={card_name:"",card_type:"",text:"EX",image:"card100260474_1.jpg",monster_type:"",level:3,element:"",race:"",attack:1600,defense:1e3,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{onAnywhereToGraveyardByEffect:(e,t)=>{oe(e,t,()=>!0,"haufnis_1")&&Ue(e)&&We(e,t,[{name:"EX",condition:()=>!0}],(i,a)=>{q(i,a,r=>new E(r).extraDeck().filter().fusionMonster().get(),{select:"single",canCancel:!0},(r,c,o)=>{const f=o[0],d=f.id,m=c.id;q(r,c,p=>new E(p).hand().allMonster().graveyard().filter().monster().get(),{select:"multi",condition:p=>f.card.materialCondition(p)&&!!p.find(y=>y.id===m),canCancel:!0},(p,y,_)=>{const v=_.map(M=>M.id);re(p,y,(M,w)=>{const T=v.map(A=>Ne(M,A));Km(M,w,T,A=>{const R=Ne(A,d);ue(A,R,R,{summonType:"Fusion"},()=>{})})},"haufnis_1")})})},!0)}}},uR=Object.freeze(Object.defineProperty({__proto__:null,default:cR},Symbol.toStringTag,{value:"Module"})),fR={card_name:"",card_type:"",text:"",image:"card100279923_1.jpg",monster_type:"",level:7,element:"",race:"",attack:2300,defense:1200,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{onAnywhereToGraveyardByEffect:(e,t)=>{oe(e,t,()=>!0,"kushatorila_1")&&We(e,t,[{name:"2",condition:i=>new E(i).deck().len()>=2}],(i,a)=>{re(i,a,(r,c)=>{$t(r,c,2,()=>{},{byEffect:!0})},"kushatorila_1")},!0)},onSummon:(e,t)=>{oe(e,t,()=>!0,"kushatorila_2")&&We(e,t,[{name:"3",condition:i=>new E(i).deck().len()>=3}],(i,a,r)=>{r==="3"&&re(i,a,(c,o)=>{$t(c,o,3,()=>{})},"kushatorila_2")},!0)},onIgnition:{condition:(e,t)=>t.location==="Hand"&&new E(e).hand().graveyard().filter().excludeId(t.id).include("").len()+new E(e).hand().graveyard().filter().excludeId(t.id).include("").len()>0&&Ue(e),effect:(e,t)=>{oe(e,t,()=>!0,"kushatorila_3")&&ue(e,t,t,{},(i,a)=>{re(i,a,(r,c)=>{q(r,c,o=>[...new E(o).hand().graveyard().filter().include("").get(),...new E(o).hand().graveyard().filter().include("").get()],{select:"single"},(o,f,d)=>{Y(o,d[0],"Exclusion")})},"kushatorila_3")})}}}},dR=Object.freeze(Object.defineProperty({__proto__:null,default:fR},Symbol.toStringTag,{value:"Module"})),hR={card_name:"",card_type:"",text:"EX",image:"card100260471_1.jpg",monster_type:"",level:2,element:"",race:"",attack:800,defense:2e3,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{onSummon:(e,t)=>{oe(e,t,()=>!0,"mailue_2")&&We(e,t,[{name:"3",condition:i=>new E(i).deck().len()>=3}],(i,a,r)=>{r==="3"&&re(i,a,(c,o)=>{$t(c,o,3,()=>{})},"mailue_2")},!0)},onAnywhereToGraveyardByEffect:(e,t)=>{oe(e,t,()=>!0,"mailue_1")&&Ue(e)&&We(e,t,[{name:"EX",condition:()=>!0}],(i,a)=>{q(i,a,r=>new E(r).extraDeck().filter().fusionMonster().get(),{select:"single",canCancel:!0},(r,c,o)=>{const f=o[0],d=f.id,m=c.id;q(r,c,p=>new E(p).hand().allMonster().graveyard().filter().monster().get(),{select:"multi",condition:p=>f.card.materialCondition(p)&&!!p.find(y=>y.id===m),canCancel:!0},(p,y,_)=>{const v=_.map(M=>M.id);re(p,y,(M,w)=>{const T=v.map(A=>Ne(M,A));Km(M,w,T,A=>{const R=Ne(A,d);ue(A,R,R,{summonType:"Fusion"},()=>{})})},"mailue_1")})})},!0)}}},mR=Object.freeze(Object.defineProperty({__proto__:null,default:hR},Symbol.toStringTag,{value:"Module"})),pR={card_name:"",card_type:"",text:"",image:"card100260417_1.jpg",monster_type:"",level:4,element:"",race:"",attack:1500,defense:2100,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{onSummon:(e,t)=>{oe(e,t,()=>!0,"laynoheart_1")&&We(e,t,[{name:"",condition:i=>new E(i).deck().filter().monster().include("").exclude("").len()>0}],(i,a)=>{q(i,a,r=>new E(r).deck().filter().monster().include("").exclude("").get(),{select:"single"},(r,c,o)=>{const f=o[0].id;re(r,c,(d,m)=>{const p=Ne(d,f);ea(d,p,m)},"laynoheart_1")})},!0)},onAnywhereToGraveyardByEffect:(e,t)=>{new E(e).hand().filter().include("").len()!==0&&oe(e,t,()=>!0,"laynoheart_2")&&We(e,t,[{name:"",condition:()=>!0}],(i,a)=>{re(i,a,(r,c)=>{ue(r,c,c,{summonType:"Special"},(o,f)=>{q(o,f,d=>[...new E(d).hand().filter().include("").get(),...new E(d).hand().filter().include("").get()],{select:"single"},(d,m,p)=>{ea(d,p[0],m)})})},"laynoheart_2")})}}},gR=Object.freeze(Object.defineProperty({__proto__:null,default:pR},Symbol.toStringTag,{value:"Module"})),yR={card_name:"",card_type:"",text:"",image:"card100022029_1.jpg",monster_type:"",level:4,element:"",race:"",attack:1400,defense:1300,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{onIgnition:{condition:(e,t)=>new E(e).allMonster().filter().nonNull().get().length>0&&t.location==="MonsterField",effect:(e,t)=>{We(e,t,[{name:"500",condition:()=>!0}],(i,a)=>{q(i,a,r=>new E(r).allMonster().filter().nonNull().get(),{select:"single",canCancel:!0,message:""},(r,c,o)=>{Y(r,o[0],"Graveyard"),On(r,c,{target:"opponent",amount:500,operation:"decrease"})})})}}}},_R=Object.freeze(Object.defineProperty({__proto__:null,default:yR},Symbol.toStringTag,{value:"Module"})),vR={card_name:" ",card_type:"",text:" ",image:"card100051664_1.jpg",monster_type:"",level:3,element:"",race:"",attack:1e3,defense:1e3,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{onCardEffect:(e,t,i)=>{oe(e,t,()=>!0,t.id,!0)&&t.id!==(i==null?void 0:i.effectedById)&&(!String((i==null?void 0:i.effectedByName)??"").includes("")&&!String((i==null?void 0:i.effectedByName)??"").includes("")||ln(e,t,{message:""},(a,r)=>{re(a,r,(c,o)=>{$t(c,o,3,()=>{},{byEffect:!0})},r.id,!0)}))},onIgnition:{condition:(e,t)=>oe(e,t,(i,a)=>{const r=new E(i).hand().graveyard().filter().lightsworn().get(),c=new E(i).banished().filter().lightsworn().exclude(" ").get();return r.length>0&&c.length>0&&a.location==="MonsterField"&&Ue(i)},"TwilightLuminus_Ignition",!0),effect:(e,t)=>{re(e,t,(i,a)=>{q(i,a,c=>new E(c).hand().graveyard().filter().lightsworn().get(),{select:"single",message:""},(c,o,f)=>{Y(c,f[0],"Exclusion"),q(c,o,m=>new E(m).banished().filter().lightsworn().exclude(" ").get(),{select:"single",message:""},(m,p,y)=>{y.length>0&&ue(m,p,y[0],{canSelectPosition:!0,optionPosition:["attack","defense"]},()=>{})})})},"TwilightLuminus_Ignition",!0)}}}},bR=Object.freeze(Object.defineProperty({__proto__:null,default:vR},Symbol.toStringTag,{value:"Module"})),xR={card_name:" ",card_type:"",text:"",image:"card100051817_1.jpg",monster_type:"",level:4,element:"",race:"",attack:1800,defense:1200,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{onCardEffect:(e,t,i)=>{oe(e,t,()=>!0,t.id,!0)&&t.id!==(i==null?void 0:i.effectedById)&&(!String((i==null?void 0:i.effectedByName)??"").includes("")&&!String((i==null?void 0:i.effectedByName)??"").includes("")||ln(e,t,{message:""},(a,r)=>{re(a,r,(c,o)=>{$t(c,o,2,()=>{},{byEffect:!0})},r.id,!0)}))},onIgnition:{condition:(e,t)=>oe(e,t,(i,a)=>{const r=new E(i).hand().graveyard().filter().lightsworn().get(),c=new E(i).banished().filter().lightsworn().get();return r.length>0&&c.length>0&&a.location==="MonsterField"},"TwilightGeneral_Ignition",!0),effect:(e,t)=>{re(e,t,(i,a)=>{q(i,a,c=>new E(c).hand().graveyard().filter().hasLevel().lightsworn().get(),{select:"single",message:""},(c,o,f)=>{Y(c,f[0],"Exclusion");const d=Re(f[0]);q(c,o,p=>new E(p).allMonster().getNonNull(),{select:"single",message:""},(p,y,_)=>{_.length>0&&sa(p,_[0],{attack:-300*d,defense:-300*d,level:0})})})},"TwilightGeneral_Ignition",!0)}}}},SR=Object.freeze(Object.defineProperty({__proto__:null,default:xR},Symbol.toStringTag,{value:"Module"})),h1={onSummon:(e,t)=>{const i=a=>new E(a).graveyard().filter().monster().get();i.length>0&&q(e,t,i,{select:"single",message:""},(a,r,c)=>{var o;if(c.length>0){const f=c[0];Y(a,f,"Exclusion");for(let d=0;d<5;d++)((o=a.field.monsterZones[d])==null?void 0:o.id)===r.id&&(a.field.monsterZones[d]={...a.field.monsterZones[d],card:{...a.field.monsterZones[d].card,effect:f==null?void 0:f.card.effect}})}})}},TR={card_name:"",card_type:"",text:"",image:"card100188699_1.jpg",monster_type:"",level:4,element:"",race:"",attack:0,defense:0,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,originEffect:h1,effect:h1},MR=Object.freeze(Object.defineProperty({__proto__:null,default:TR},Symbol.toStringTag,{value:"Module"})),AR={card_name:" ",card_type:"",text:"",image:"card100161030_1.jpg",monster_type:"",level:4,element:"",race:"",attack:1700,defense:1e3,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,hasTuner:!0,effect:{onIgnition:{condition:(e,t)=>oe(e,t,(i,a)=>i.deck.length>=2&&a.location==="MonsterField"&&i.phase==="main1","LightlordRaiden_Ignition"),effect:(e,t)=>{ln(e,t,{message:""},(i,a)=>{re(i,a,(r,c)=>{const o=new je(r.deck.slice(0,2)).lightsworn().len()>0;$t(r,c,2,(f,d)=>{o&&sa(f,d,{attack:200,defense:0,level:0})},{byEffect:!0})},"LightlordRaiden_Ignition")})}}}},wR=Object.freeze(Object.defineProperty({__proto__:null,default:AR},Symbol.toStringTag,{value:"Module"})),jR={card_name:" ",card_type:"",text:"",image:"card100180215_1.jpg",monster_type:"",level:4,element:"",race:"",attack:1100,defense:2e3,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,hasTuner:!0,canNormalSummon:!1,effect:{onDeckToGraveyard:(e,t)=>{Ue(e)&&ue(e,t,t,{canSelectPosition:!0,optionPosition:["attack","defense"]},()=>{})}}},DR=Object.freeze(Object.defineProperty({__proto__:null,default:jR},Symbol.toStringTag,{value:"Module"})),ER={card_name:" ",card_type:"",text:" ",image:"card1002381_1.jpg",monster_type:"",level:4,element:"",race:"",attack:1850,defense:1300,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{onCardToGraveyardByEffect:(e,t,i)=>{var a,r,c;(r=((a=i==null?void 0:i.effectedByName)==null?void 0:a.toString())??"")!=null&&r.includes("")&&(((c=i==null?void 0:i.effectedByName)==null?void 0:c.toString())??"")!==" "&&((i==null?void 0:i.effectedByField)??"").toString()==="MonsterField"&&ln(e,t,{message:""},(o,f)=>{if(o.deck.length>=2){const d=new je(o.deck.slice(0,2)).monster().lightsworn().len();$t(o,f,2,(m,p)=>{mt(m,p,{count:d},()=>{})},{byEffect:!0})}else if(o.deck.length===1){const d=new je(o.deck.slice(0,1)).lightsworn().len();$t(o,f,1,(m,p)=>{mt(m,p,{count:d},()=>{})},{byEffect:!0})}})}}},kR=Object.freeze(Object.defineProperty({__proto__:null,default:ER},Symbol.toStringTag,{value:"Module"})),CR={card_name:" ",card_type:"",text:"",image:"card1002382_1.jpg",monster_type:"",level:3,element:"",race:"",attack:1e3,defense:1e3,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{onIgnition:{condition:(e,t)=>oe(e,t,(i,a)=>{const r=c=>new E(c).graveyard().filter().lightsworn().underLevel(4).get();return i.hand.length>0&&r(i).length>0&&a.location==="MonsterField"&&Ue(i)},"LighlordLuminus_Ignition",!0),effect:(e,t)=>{re(e,t,(i,a)=>{q(i,a,c=>new E(c).hand().getNonNull(),{select:"single",message:""},(c,o,f)=>{f.length>0&&(Y(c,f[0],"Graveyard"),q(c,o,m=>new E(m).graveyard().filter().lightsworn().underLevel(4).get(),{select:"single",message:""},(m,p,y)=>{y.length>0&&ue(m,p,y[0],{canSelectPosition:!0,optionPosition:["attack","defense"]},()=>{})}))})},"LighlordLuminus_Ignition",!0)}}}},OR=Object.freeze(Object.defineProperty({__proto__:null,default:CR},Symbol.toStringTag,{value:"Module"})),NR={card_name:" ",card_type:"",text:" ",image:"card100325862_1.jpg",monster_type:"",level:4,element:"",race:"",attack:0,defense:1700,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,hasTuner:!0,effect:{onIgnition:{condition:(e,t)=>oe(e,t,(i,a)=>new E(i).hand().filter().lightsworn().excludeId(a.id).get().length>0&&a.location==="Hand"&&Ue(i),"LightlordVice_HandEffect"),effect:(e,t)=>{re(e,t,(i,a)=>{q(i,a,c=>new E(c).hand().filter().lightsworn().excludeId(a.id).get(),{select:"single",message:""},(c,o,f)=>{f.length>0&&(Y(c,f[0],"Deck",{deckTop:!0}),ue(c,o,o,{canSelectPosition:!0,optionPosition:["attack","defense"]},(d,m)=>{$t(d,m,2,()=>{})}))})},"LightlordVice_HandEffect")}},onDeckToGraveyard:(e,t)=>{if(!Ue(e))return;const i=a=>new E(a).graveyard().filter().monster().lightsworn().exclude(" ").get();i(e).length>0&&q(e,t,i,{select:"single",message:""},(a,r,c)=>{c.length>0&&ue(a,r,c[0],{canSelectPosition:!0,optionPosition:["attack","defense"]},()=>{})})}}},RR=Object.freeze(Object.defineProperty({__proto__:null,default:NR},Symbol.toStringTag,{value:"Module"})),LR={card_name:" ",card_type:"",text:"",image:"card100004179_1.jpg",monster_type:"",level:4,element:"",race:"",attack:2100,defense:300,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!1,effect:{onDeckToGraveyard:(e,t)=>{Ue(e)&&ue(e,t,t,{canSelectPosition:!0,optionPosition:["attack","defense"]},()=>{})}}},VR=Object.freeze(Object.defineProperty({__proto__:null,default:LR},Symbol.toStringTag,{value:"Module"})),$R={card_name:"-",card_type:"",text:"   ",image:"card100024574_1.jpg",monster_type:"",element:"",race:"",level:10,attack:0,defense:0,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,summonLimited:!0,effect:{onIgnition:{condition:(e,t)=>new E(e).hand().deck().filter().include("").get().length>0&&t.location==="MonsterField",effect:(e,t)=>{const i=a=>new E(a).hand().deck().filter().include("").get();i(e).length>0&&(Zl(e,t),q(e,t,i,{select:"single",message:""},(a,r,c)=>{if(c.length>0){const f={...c[0],buf:{attack:4e3,defense:4e3,level:0}};ue(a,r,f,{canSelectPosition:!1,optionPosition:["attack"]},()=>{})}}))}}}},PR=Object.freeze(Object.defineProperty({__proto__:null,default:$R},Symbol.toStringTag,{value:"Module"})),zR={card_name:"",card_type:"",text:"LPLPLP",image:"card100019991_1.jpg",monster_type:"",element:"",race:"",attack:0,defense:0,level:10,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,summonLimited:!0,effect:{onSummon:(e,t)=>{We(e,t,[{name:"LP",condition:()=>e.lifePoints>100}],(i,a,r)=>{if(r==="LP"&&i.lifePoints>100){const c=i.lifePoints-100;On(i,a,{target:"player",amount:c,operation:"decrease"},(o,f)=>{sa(o,f,{attack:c,defense:c,level:0})})}},!0)},onIgnition:{condition:(e,t)=>{const i=a=>new E(a).allMonster().filter().nonNull().get();return e.lifePoints>=1e3&&i.length>0&&t.location==="MonsterField"},effect:(e,t)=>{On(e,t,{target:"player",amount:1e3,operation:"decrease"},(i,a)=>{q(i,a,r=>new E(r).allMonster().filter().nonNull().get(),{select:"single",message:""},(r,c,o)=>{o.length>0&&Y(r,o[0],"Graveyard")})})}}}},BR=Object.freeze(Object.defineProperty({__proto__:null,default:zR},Symbol.toStringTag,{value:"Module"})),UR={card_name:" ",card_type:"",text:"",image:"card100003456_1.jpg",monster_type:"",element:"",race:"",attack:0,defense:0,level:12,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!1,summonLimited:!0,effect:{onSummon:e=>{e.gameOver=!0,e.winner="player",e.winReason="horakty"},onIgnition:{condition:(e,t)=>{const i=new E(e).allMonster().filter().nonNull().get(),a=i.some(o=>o.card.card_name===""),r=i.some(o=>o.card.card_name===""),c=i.some(o=>o.card.card_name==="");return a&&r&&c&&t.location==="Hand"},effect:(e,t)=>{const i=new E(e).allMonster().filter().nonNull().get(),a=i.find(o=>o.card.card_name===""),r=i.find(o=>o.card.card_name===""),c=i.find(o=>o.card.card_name==="");a&&r&&c&&ta(e,t,[a,r,c],(o,f)=>{ue(o,f,f,{canSelectPosition:!1,optionPosition:["attack"]},()=>{})})}}}},qR=Object.freeze(Object.defineProperty({__proto__:null,default:UR},Symbol.toStringTag,{value:"Module"})),HR={card_name:"",card_type:"",text:"",image:"card1002300_1.jpg",monster_type:"",level:6,element:"",race:"",attack:2400,defense:1e3,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{onSummon:(e,t)=>{const i=a=>new E(a).allMonster().allFieldSpellTrap().getNonNull();i.length>0&&q(e,t,i,{select:"multi",condition:a=>a.length>=1&&a.length<=2,message:"2",canCancel:!0},(a,r,c)=>{const o=c.length,f=c.map(d=>d.id);Ge(a,r,{},o,(d,m,p)=>{fn(d,f[p-1],"Graveyard")},(d,m)=>{We(d,m,[{name:"",condition:()=>!0},{name:`${o}`,condition:()=>!0}],(p,y,_)=>{_===`${o}`&&mt(p,y,{count:o})})})})}}},GR=Object.freeze(Object.defineProperty({__proto__:null,default:HR},Symbol.toStringTag,{value:"Module"})),ZR={card_name:"",card_type:"",text:"      ",image:"card100325859_1.jpg",monster_type:"",level:4,element:"",race:"",attack:1500,defense:1300,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{onIgnition:{condition:(e,t)=>oe(e,t,(i,a)=>{const r=new E(i).graveyard().filter().monster().lightsworn().get();return a.location==="Hand"&&r.length>0&&Ue(i)},"KoudouDragon_Effect1"),effect:(e,t)=>{re(e,t,(i,a)=>{ue(i,a,a,{canSelectPosition:!0,optionPosition:["attack","defense"],summonType:"Special"},()=>{})},"KoudouDragon_Effect1")}},onSummon:(e,t)=>{t.summonedBy==="Special"&&re(e,t,(i,a)=>{const r=o=>new E(o).deck().getNonNull().filter(f=>f.card.card_name.includes("")&&f.card.card_name!=="");r(i).length>0&&q(i,a,r,{select:"single",message:"",canCancel:!0},(o,f,d)=>{d.length>0&&(Y(o,d[0],"Graveyard"),Xe(o))})},"KoudouDragon_Effect2")},onAnywhereToGraveyard:(e,t)=>{re(e,t,(i,a)=>{const r=o=>new E(o).deck().filter().monster().race("").get().filter(f=>on(f)===3e3&&Fm(f)===2600);r(i).length>0&&q(i,a,r,{select:"single",message:"3000/2600",canCancel:!0},(o,f,d)=>{d.length>0&&(Y(o,d[0],"Hand"),Xe(o))})},"KoudouDragon_Effect3")}}},FR=Object.freeze(Object.defineProperty({__proto__:null,default:ZR},Symbol.toStringTag,{value:"Module"})),YR={card_name:"",card_type:"",text:"      ",image:"card100264017_1.jpg",monster_type:"",level:4,element:"",race:"",attack:1500,defense:1800,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!1,effect:{onIgnition:{condition:(e,t)=>oe(e,t,(i,a)=>{const r=new E(i).hand().filter().monster().race("").element("").get().filter(c=>c.id!==a.id);return a.location==="Hand"&&r.length>0},"KenshinkanMudra_Effect1")||oe(e,t,(i,a)=>new E(i).graveyard().len()>0&&(a.location==="MonsterField"||a.location==="Graveyard"),"KenshinkanMudra_Effect2"),effect:(e,t)=>{t.location==="Hand"?re(e,t,(i,a)=>{q(i,a,c=>new E(c).hand().filter().monster().race("").element("").get().filter(o=>o.id!==a.id),{select:"single",message:""},(c,o,f)=>{f.length>0&&(Y(c,f[0],"Graveyard"),ue(c,o,o,{canSelectPosition:!0,optionPosition:["attack","defense"]},(d,m)=>{const p=_=>new E(_).deck().getNonNull().filter(v=>v.card.card_name.includes(""));p(d).length>0&&Cl(d,m,{message:"&"},(_,v)=>{q(_,v,p,{select:"single",message:"&"},(M,w,T)=>{T.length>0&&Y(M,T[0],"SpellField")})})}))})},"KenshinkanMudra_Effect1"):re(e,t,(i,a)=>{Y(i,a,"Exclusion");const r=3,c=f=>new E(f).graveyard().getNonNull();c(i).length>0&&q(i,a,c,{select:"multi",condition:f=>f.length<=r,message:`${r}`},(f,d,m)=>{m.forEach(p=>{Y(f,p,"Deck")})})},"KenshinkanMudra_Effect2")}}}},XR=Object.freeze(Object.defineProperty({__proto__:null,default:YR},Symbol.toStringTag,{value:"Module"})),IR={card_name:"",card_type:"",monster_type:"",level:2,element:"",race:"",attack:900,defense:500,text:"",image:"card100224572_1.jpg",hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{}},KR=Object.freeze(Object.defineProperty({__proto__:null,default:IR},Symbol.toStringTag,{value:"Module"})),QR={card_name:"-",card_type:"",text:"",image:"card100065252_1.jpg",monster_type:"",level:4,element:"",race:"",attack:1850,defense:1e3,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{onIgnition:{condition:(e,t)=>new E(e).hand().allMonster().graveyard().allFieldSpellTrap().filter().excludeId(t.id).len()>=7&&t.location==="Graveyard"&&Ue(e),effect:(e,t)=>{q(e,t,i=>new E(i).hand().allMonster().allFieldSpellTrap().graveyard().filter().excludeId(t.id).get(),{select:"multi",condition:i=>i.length===7,message:"7",canCancel:!0},(i,a,r)=>{Ha(i,a,{cardIdList:r.map(c=>c.id)},(c,o)=>{ue(c,o,o,{},()=>{})})})}}}},WR=Object.freeze(Object.defineProperty({__proto__:null,default:QR},Symbol.toStringTag,{value:"Module"})),JR={card_name:"",card_type:"",monster_type:"",level:2,element:"",race:"",attack:500,defense:300,text:`(1)(2)
(1)(2)`,image:"card100186167_1.jpg",hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{onSummon:(e,t)=>{const i=a=>[...a.extraDeck,...a.deck].filter(r=>K(r.card)&&r.card.race==="");i(e).length>0&&q(e,t,i,{select:"single",message:""},(a,r,c)=>{const o=c[0].card;Y(a,c[0],"Graveyard"),sa(a,r,{attack:0,defense:0,level:o.level}),Xe(a)})}}},e3=Object.freeze(Object.defineProperty({__proto__:null,default:JR},Symbol.toStringTag,{value:"Module"})),t3={card_name:"",card_type:"",text:"      ",image:"card100263993_1.jpg",monster_type:"",level:4,element:"",race:"",attack:1200,defense:1600,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!1,effect:{onIgnition:{condition:(e,t)=>oe(e,t,(i,a)=>{const r=new E(i).hand().filter().monster().race("").element("").get().filter(c=>c.id!==a.id);return a.location==="Hand"&&r.length>0},"Kerudou_Effect1")||oe(e,t,(i,a)=>new E(i).graveyard().len()>0&&(a.location==="MonsterField"||a.location==="Graveyard"),"Kerudou_Effect2"),effect:(e,t)=>{t.location==="Hand"?re(e,t,(i,a)=>{q(i,a,c=>new E(c).hand().filter().monster().race("").element("").get().filter(o=>o.id!==a.id),{select:"single",message:""},(c,o,f)=>{f.length>0&&(Y(c,f[0],"Graveyard"),ue(c,o,o,{canSelectPosition:!0,optionPosition:["attack","defense"]},(d,m)=>{const p=_=>new E(_).deck().getNonNull().filter(v=>v.card.card_name.includes(""));p(d).length>0&&Cl(d,m,{message:"&"},(_,v)=>{q(_,v,p,{select:"single",message:"&"},(M,w,T)=>{T.length>0&&Y(M,T[0],"SpellField")})})}))})},"Kerudou_Effect1"):re(e,t,(i,a)=>{Y(i,a,"Exclusion");const r=3,c=f=>new E(f).graveyard().getNonNull();c(i).length>0&&q(i,a,c,{select:"multi",condition:f=>f.length<=r,message:`${r}`},(f,d,m)=>{m.forEach(p=>{Y(f,p,"Deck")})})},"Kerudou_Effect2")}}}},n3=Object.freeze(Object.defineProperty({__proto__:null,default:t3},Symbol.toStringTag,{value:"Module"})),i3={card_name:"",card_type:"",monster_type:"",level:3,element:"",race:"",attack:1e3,defense:1e3,text:"",image:"card100224614_1.jpg",hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{}},a3=Object.freeze(Object.defineProperty({__proto__:null,default:i3},Symbol.toStringTag,{value:"Module"})),s3={card_name:"",card_type:"",monster_type:"",level:1,element:"",race:"",attack:200,defense:300,text:"",image:"card100220676_1.jpg",hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{}},r3=Object.freeze(Object.defineProperty({__proto__:null,default:s3},Symbol.toStringTag,{value:"Module"})),l3={card_name:"",card_type:"",monster_type:"",level:1,element:"",race:"",attack:200,defense:300,text:"",image:"card100014919_1.jpg",hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{}},o3=Object.freeze(Object.defineProperty({__proto__:null,default:l3},Symbol.toStringTag,{value:"Module"})),c3={card_name:"",card_type:"",monster_type:"",level:1,element:"",race:"",attack:200,defense:300,text:"",image:"card100220667_1.jpg",hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{}},u3=Object.freeze(Object.defineProperty({__proto__:null,default:c3},Symbol.toStringTag,{value:"Module"})),f3={card_name:"",card_type:"",monster_type:"",level:1,element:"",race:"",attack:200,defense:300,text:"",image:"card100014920_1.jpg",hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{}},d3=Object.freeze(Object.defineProperty({__proto__:null,default:f3},Symbol.toStringTag,{value:"Module"})),h3={card_name:"",card_type:"",text:"LP",image:"card100330647_1.jpg",monster_type:"",level:8,element:"",race:"",attack:3e3,defense:2600,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!1,summonLimited:!0,effect:{onCardEffect:(e,t,i)=>{oe(e,t,()=>!0,t.id,!0)&&t.id!==(i==null?void 0:i.effectedById)&&(!String((i==null?void 0:i.effectedByName)??"").includes("")&&!String((i==null?void 0:i.effectedByName)??"").includes("")||ln(e,t,{message:""},(a,r)=>{re(a,r,(c,o)=>{$t(c,o,4,()=>{},{byEffect:!0})},r.id,!0)}))},onIgnition:{condition:(e,t)=>{if(t.location!=="Hand")return!1;const i=new E(e).banished().filter().monster().lightsworn().get();return new Set(i.map(r=>r.card.card_name)).size>=4&&Ue(e)},effect:(e,t)=>{ue(e,t,t,{canSelectPosition:!0,optionPosition:["attack","defense"]},()=>{})}}}},m3=Object.freeze(Object.defineProperty({__proto__:null,default:h3},Symbol.toStringTag,{value:"Module"})),p3={card_name:"",card_type:"",text:"",image:"card100276920_1.jpg",monster_type:"",level:4,element:"",race:"",attack:1800,defense:400,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!1,effect:{onIgnition:{condition:(e,t)=>t.location==="Hand",effect:(e,t)=>{const i=e.hand;if(i.length===0)return;const a=Math.floor(Math.random()*i.length),r=i[a],c=r.id;ln(e,t,{message:`: ${r.card.card_name}`},(o,f)=>{const d=Ne(o,c);ea(o,d,f),d.card.card_name!==""&&xe(o,f,{delay:500},(m,p)=>{const y=_=>new E(_).hand().getNonNull().filter(v=>v.card.card_name==="");y.length>0&&Ue(m)&&q(m,p,y,{select:"single",message:""},(_,v,M)=>{M.length>0&&ue(_,v,M[0],{canSelectPosition:!0,optionPosition:["attack","defense"]},(w,T)=>{mt(w,T,{count:1})})})})})}},onHandToGraveyard:(e,t)=>{re(e,t,(i,a)=>{mt(i,a,{count:1},(r,c)=>{const o=f=>f.hand;o.length>0&&q(r,c,o,{select:"single",message:"1"},(f,d,m)=>{m.length>0&&ea(f,m[0],d)})})},"Mothman_HandDiscard")}}},g3=Object.freeze(Object.defineProperty({__proto__:null,default:p3},Symbol.toStringTag,{value:"Module"})),y3={card_name:"",card_type:"",text:"",image:"card1000630_1.jpg",monster_type:"",level:8,element:"",race:"",attack:2800,defense:2600,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{onSummon:(e,t)=>{new E(e).graveyard().filter().magic().get().length!==0&&q(e,t,a=>new E(a).graveyard().filter().magic().get(),{select:"single",message:"1",canCancel:!0},(a,r,c)=>{c.length>0&&Y(a,c[0],"Hand")})},onLeaveFieldInstead:(e,t)=>{Y(e,t,"Exclusion",{ignoreLeavingInstead:!0})}}},_3=Object.freeze(Object.defineProperty({__proto__:null,default:y3},Symbol.toStringTag,{value:"Module"})),v3={card_name:"",card_type:"",monster_type:"",level:6,element:"",race:"",attack:2e3,defense:1800,text:"(1)",image:"card100177659_1.jpg",hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!1,effect:{onIgnition:{condition:(e,t)=>{if(t.location!=="Hand")return!1;const i=e.graveyard.filter(r=>K(r.card)?r.card.element==="":!1),a=e.field.monsterZones.some(r=>r===null);return i.length>=2&&a},effect:(e,t)=>{q(e,t,a=>a.graveyard.filter(r=>K(r.card)?r.card.element==="":!1),{select:"multi",condition:a=>a.length===2,message:"2"},(a,r,c)=>{c.forEach((o,f)=>{xe(a,r,{order:f+1},d=>{FC(d,o)})}),ue(a,r,r,{},()=>{})})}}}},b3=Object.freeze(Object.defineProperty({__proto__:null,default:v3},Symbol.toStringTag,{value:"Module"})),Qm=e=>(t,i)=>{if(i.location!=="Hand"&&i.location!=="Graveyard"||!oe(t,i,()=>!0))return!1;const a=[...t.hand,...t.field.monsterZones.filter(r=>r!==null),...t.field.extraMonsterZones.filter(r=>r!==null)].filter(r=>r&&r.card.card_name!==e).filter(r=>!r||!K(r.card)?!1:r.card.card_name.includes("")||r.card.monster_type==="");if(a.length===0)return!1;if(Ue(t))return!0;for(const r of a)if(TS(t,[r]))return!0;return!1},Wm=e=>t=>(Ue(t)?[...t.hand,...t.field.monsterZones.filter(a=>a!==null),...t.field.extraMonsterZones.filter(a=>a!==null)]:[...t.field.monsterZones.filter(a=>a!==null)]).filter(a=>a!==null).filter(a=>a&&a.card.card_name!==e).filter(a=>!a||!K(a.card)?!1:a.card.card_name.includes("")||a.card.monster_type===""),x3={card_name:"",card_type:"",monster_type:"",level:1,element:"",race:"",attack:2e3,defense:0,text:"1111",image:"card100206525_1.jpg",hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!1,effect:{onIgnition:{condition:(e,t)=>Qm("")(e,t),effect:(e,t)=>{re(e,t,(i,a)=>{q(i,a,Wm(""),{select:"single",message:""},(r,c,o)=>{const f=o[0];Zl(r,f),ue(r,c,c,{canSelectPosition:!1,optionPosition:["defense"]},(d,m)=>{const p=y=>y.deck.filter(_=>Ke(_.card)&&_.card.magic_type==="");p(d).length!==0&&q(d,m,p,{select:"single",message:""},(y,_,v)=>{Y(y,v[0],"Hand")})})})})}}}},S3=Object.freeze(Object.defineProperty({__proto__:null,default:x3},Symbol.toStringTag,{value:"Module"})),T3={card_name:"",card_type:"",monster_type:"",level:1,element:"",race:"",attack:2e3,defense:0,text:"11120001",image:"card100206513_1.jpg",hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!1,effect:{onIgnition:{condition:(e,t)=>Qm("")(e,t),effect:(e,t)=>re(e,t,(i,a)=>{q(i,a,Wm(""),{select:"single",message:""},(r,c,o)=>{const f=o[0];Zl(r,f),ue(r,c,c,{canSelectPosition:!1,optionPosition:["defense"]},(d,m)=>{d.graveyard.filter(y=>K(y.card)&&y.card.card_name.includes("")&&y.card.attack===2e3).length!==0&&Ue(d)&&q(d,m,y=>y.graveyard.filter(_=>K(_.card)&&_.card.card_name.includes("")&&_.card.attack===2e3),{select:"single",message:""},(y,_,v)=>{const M=v[0];ue(y,_,M,{canSelectPosition:!1,optionPosition:["defense"]},()=>{})})})})})}}},M3=Object.freeze(Object.defineProperty({__proto__:null,default:T3},Symbol.toStringTag,{value:"Module"})),A3={card_name:"",card_type:"",monster_type:"",level:1,element:"",race:"",attack:2e3,defense:0,text:"1111",image:"card100206504_1.jpg",hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!1,effect:{onIgnition:{condition:(e,t)=>Qm("")(e,t),effect:(e,t)=>re(e,t,(i,a)=>{q(i,a,Wm(""),{select:"single",message:""},(r,c,o)=>{const f=o[0];Zl(r,f),ue(r,c,c,{canSelectPosition:!1,optionPosition:["defense"]},(d,m)=>{const p=y=>y.deck.filter(_=>K(_.card)&&_.card.monster_type==="");p(d).length>0&&q(d,m,p,{select:"single",message:""},(y,_,v)=>{Y(y,v[0],"Hand")})})})})}}},w3=Object.freeze(Object.defineProperty({__proto__:null,default:A3},Symbol.toStringTag,{value:"Module"})),j3={card_name:"",card_type:"",text:"",image:"card73708044_1.jpg",monster_type:"",level:8,element:"",race:"",attack:3e3,defense:2600,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!1,effect:{onIgnition:{condition:(e,t)=>{if(t.location==="Hand"){const i=new E(e).graveyard().filter().monster().lightsworn().get();return new Set(i.map(r=>r.card.card_name)).size>=4&&Ue(e)}else if(t.location==="MonsterField")return oe(e,t,i=>i.lifePoints>=1e3,"JudgmentDragon_Destroy");return!1},effect:(e,t)=>{t.location==="Hand"?ue(e,t,t,{canSelectPosition:!0,optionPosition:["attack","defense"]},()=>{}):t.location==="MonsterField"&&re(e,t,(i,a)=>{i.lifePoints-=1e3,[...new E(i).allMonster().filter().nonNull().get(),...new E(i).spellTrap().filter().nonNull().get(),...new E(i).field().filter().nonNull().get()].filter(c=>c.id!==a.id).forEach(c=>{ES(i,c)})},"JudgmentDragon_Destroy")}}},summonLimited:!0},D3=Object.freeze(Object.defineProperty({__proto__:null,default:j3},Symbol.toStringTag,{value:"Module"})),E3={card_name:"",card_type:"",text:"",image:"card100011996_1.jpg",monster_type:"",level:1,element:"",race:"",attack:300,defense:300,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!0,effect:{onIgnition:{condition:(e,t)=>t.location!=="MonsterField"||t.position!=="attack"&&t.position!=="defense"||e.lifePoints<=1e3?!1:new E(e).extraDeck().filter().fusionMonster().underLevel(6).get().length>0&&Ue(e),effect:(e,t)=>{Ue(e)&&q(e,t,i=>new E(i).extraDeck().filter().fusionMonster().underLevel(6).get(),{select:"single",canCancel:!0,message:"6"},(i,a,r)=>{const c=r[0];On(i,a,{target:"player",amount:1e3,operation:"decrease"},(o,f)=>{ue(o,f,c,{canSelectPosition:!0,optionPosition:["attack","defense"]},()=>{})})})}}}},k3=Object.freeze(Object.defineProperty({__proto__:null,default:E3},Symbol.toStringTag,{value:"Module"})),C3={card_name:"FNo.0 ",card_type:"",monster_type:"",rank:1,element:"",race:"",attack:0,defense:0,filterAvailableMaterials:e=>Bt(e.card),materialCondition:e=>e.length===2&&Bt(e[0].card)&&Bt(e[1].card)&&e[0].card.rank===e[1].card.rank&&!e.find(t=>t.card.card_name.startsWith("No.")),text:`No.X



X`,image:"card100178133_1.jpg",hasDefense:!0,hasLevel:!1,hasLink:!1,hasRank:!0,canNormalSummon:!1,effect:{}},O3=Object.freeze(Object.defineProperty({__proto__:null,default:C3},Symbol.toStringTag,{value:"Module"})),N3={card_name:"FNo.0 ",card_type:"",monster_type:"",rank:1,element:"",race:"",attack:0,defense:0,filterAvailableMaterials:e=>Bt(e.card),materialCondition:e=>e.length===3&&Bt(e[0].card)&&Bt(e[1].card)&&Bt(e[2].card)&&e[0].card.rank===e[1].card.rank&&e[1].card.rank===e[2].card.rank&&!e.find(t=>t.card.card_name.startsWith("No.")),text:`No.X

FNo.0 X

X`,image:"card100323225_1.jpg",hasDefense:!0,hasLevel:!1,hasLink:!1,hasRank:!0,canNormalSummon:!1,effect:{}},R3=Object.freeze(Object.defineProperty({__proto__:null,default:N3},Symbol.toStringTag,{value:"Module"})),L3={card_name:"No.60 ",card_type:"",text:" X   ",image:"card100322907_1.jpg",monster_type:"",rank:4,element:"",race:"",attack:1200,defense:1200,hasDefense:!0,hasLevel:!1,hasRank:!0,hasLink:!1,canNormalSummon:!1,effect:{onIgnition:{condition:(e,t)=>oe(e,t,(i,a)=>a.materials.length>=2,"Dugares_Effect"),effect:(e,t)=>{re(e,t,(i,a)=>{a.materials.length>=2&&q(i,a,()=>a.materials,{select:"multi",message:"X2",condition:r=>r.length===2},(r,c,o)=>{o.length===2&&ta(r,c,o,(f,d)=>{We(f,d,[{name:"21",condition:()=>!0},{name:"11",condition:m=>new E(m).graveyard().filter().monster().len()>0},{name:"1",condition:m=>new E(m).allMonster().filter().nonNull().len()>0}],(m,p,y)=>{y==="21"?mt(m,p,{count:2},(_,v)=>{q(_,v,w=>new E(w).hand().getNonNull(),{select:"single",message:"1"},(w,T,A)=>{A.length>0&&ea(w,A[0],T)})}):y==="11"?q(m,p,v=>new E(v).graveyard().filter().monster().get(),{select:"single",message:""},(v,M,w)=>{w.length>0&&ue(v,M,w[0],{canSelectPosition:!1,optionPosition:["defense"]},()=>{})}):y==="1"&&q(m,p,v=>new E(v).allMonster().filter().nonNull().get(),{select:"single",message:""},(v,M,w)=>{if(w.length>0){const T=w[0],A=on(T);sa(v,T,{attack:A,defense:0,level:0})}})})})})},"Dugares_Effect")}}},filterAvailableMaterials:e=>K(e.card)&&e.card.hasLevel&&Re(e)===4,materialCondition:e=>e.length===2&&new je(e).level(4).len()===2},V3=Object.freeze(Object.defineProperty({__proto__:null,default:L3},Symbol.toStringTag,{value:"Module"})),$3={card_name:"",card_type:"",text:"",image:"card100167009_1.jpg",monster_type:"",level:6,element:"",race:"",attack:2250,defense:1900,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!1,filterAvailableMaterials:()=>!0,materialCondition:()=>!0},P3=Object.freeze(Object.defineProperty({__proto__:null,default:$3},Symbol.toStringTag,{value:"Module"})),z3={card_name:"",card_type:"",text:" ",image:"card100014765_1.jpg",monster_type:"",level:1,element:"",race:"",attack:0,defense:0,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!1,filterAvailableMaterials:()=>!0,materialCondition:()=>!0},B3=Object.freeze(Object.defineProperty({__proto__:null,default:z3},Symbol.toStringTag,{value:"Module"})),U3={card_name:"M7",card_type:"",monster_type:"",rank:6,element:"",race:"",attack:2700,defense:2e3,filterAvailableMaterials:e=>Ye(e.card)&&Re(e)===6,materialCondition:e=>!!(e.length===2&&e.every(t=>Ye(t.card)&&Re(t)===6)),text:`
MXXX`,image:"card100287504_1.jpg",hasDefense:!0,hasLevel:!1,hasLink:!1,hasRank:!0,canNormalSummon:!1,effect:{onIgnition:{condition:(e,t)=>oe(e,t,()=>!0)?t.materials&&t.materials.length>0:!1,effect:(e,t)=>{const i=a=>[...a.field.monsterZones.filter(r=>r!==null),...a.field.extraMonsterZones.filter(r=>r!==null),...a.graveyard.filter(r=>K(r.card))];i(e).length!==0&&re(e,t,(a,r)=>{q(a,r,()=>t.materials,{select:"single",message:"X1"},(c,o,f)=>{q(c,r,i,{select:"single",message:"1"},(d,m,p)=>{Y(d,f[0],"Graveyard"),Y(d,p[0],"Hand")})})})}}}},q3=Object.freeze(Object.defineProperty({__proto__:null,default:U3},Symbol.toStringTag,{value:"Module"})),H3={card_name:"",card_type:"",text:"",image:"card100293450_1.jpg",monster_type:"",level:6,element:"",race:"",attack:2200,defense:1800,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!1,filterAvailableMaterials:()=>!0,materialCondition:()=>!0},G3=Object.freeze(Object.defineProperty({__proto__:null,default:H3},Symbol.toStringTag,{value:"Module"})),Z3={card_name:"",card_type:"",text:`
X`,image:"card100065390_1.jpg",monster_type:"",element:"",race:"",attack:1800,defense:800,hasDefense:!0,hasLevel:!1,hasRank:!0,rank:4,hasLink:!1,canNormalSummon:!1,effect:{onIgnition:{condition:(e,t)=>oe(e,t,(i,a)=>a.materials.length>0&&(new E(i).graveyard().monster().len()>=3||new E(i).graveyard().filter().monster().len()>0),t.id,!0),effect:(e,t)=>{t.materials.length>0&&q(e,t,()=>t.materials,{select:"single",canCancel:!0},(i,a,r)=>{const c=r[0].id;re(i,a,(o,f)=>{const d=Ne(o,c);Y(o,d,"Graveyard"),We(o,f,[{name:"",condition:m=>new E(m).graveyard().filter().monster().len()>=3},{name:"",condition:m=>new E(m).graveyard().filter().monster().get().filter(p=>K(p.card)&&p.card.monster_type==="").length>0}],(m,p,y)=>{y===""?q(m,p,_=>new E(_).graveyard().filter().monster().get().filter(v=>K(v.card)&&v.card.monster_type===""),{select:"single"},(_,v,M)=>{ue(_,v,M[0],{},()=>{})}):q(m,p,_=>new E(_).graveyard().filter().monster().get(),{select:"multi",condition:_=>_.length===3},(_,v,M)=>{CS(_,v,M.map(w=>w.id),(w,T)=>{Xe(w),mt(w,T,{count:1},()=>{})})})})},a.id,!0)})}}},filterAvailableMaterials:e=>K(e.card)&&e.card.hasLevel&&Re(e)===4,materialCondition:e=>e.length===2&&new je(e).level(4).len()===2},F3=Object.freeze(Object.defineProperty({__proto__:null,default:Z3},Symbol.toStringTag,{value:"Module"})),Y3={card_name:"",card_type:"",text:" ",image:"card100006029_1.jpg",monster_type:"",level:5,element:"",race:"",attack:2e3,defense:1200,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!1,filterAvailableMaterials:()=>!0,materialCondition:()=>!0},X3=Object.freeze(Object.defineProperty({__proto__:null,default:Y3},Symbol.toStringTag,{value:"Module"})),I3={card_name:"",card_type:"",text:" ",image:"card100004727_1.jpg",monster_type:"",level:6,element:"",race:"",attack:2e3,defense:1200,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!1,filterAvailableMaterials:()=>!0,materialCondition:()=>!0},K3=Object.freeze(Object.defineProperty({__proto__:null,default:I3},Symbol.toStringTag,{value:"Module"})),Q3={card_name:"",card_type:"",text:"",image:"card100259529_1.jpg",monster_type:"",level:6,element:"",race:"",attack:2200,defense:2e3,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!1,filterAvailableMaterials:()=>!0,materialCondition:()=>!0},W3=Object.freeze(Object.defineProperty({__proto__:null,default:Q3},Symbol.toStringTag,{value:"Module"})),J3={card_name:"",card_type:"",monster_type:"",link:2,linkDirection:["",""],element:"",race:"",attack:1e3,filterAvailableMaterials:()=>!0,materialCondition:e=>{if(e.length!==2||cm(e)!==2)return!1;const[t,i]=e;if(!K(t.card)||!K(i.card))return!1;const a=t.card.race===i.card.race,r=t.card.element===i.card.element;return a||r},text:`2
`,image:"card100179237_1.jpg",hasDefense:!1,hasLevel:!1,hasLink:!0,hasRank:!1,canNormalSummon:!1,effect:{onIgnition:{condition:(e,t)=>oe(e,t,(i,a)=>{const r=[...i.field.monsterZones,...i.field.extraMonsterZones].filter(o=>o!==null&&(o.position==="attack"||o.position==="defense")).filter(o=>{const f=o.card;return[...i.hand,...i.deck].filter(d=>K(d.card)&&(d.card.race===f.race||d.card.element===f.element)).length>0}),c=i.field.spellTrapZones.filter(o=>o===null).length>0;return r.length>0&&c&&a.location==="MonsterField"}),effect:(e,t)=>{re(e,t,(i,a)=>{q(i,a,c=>[...c.field.monsterZones,...c.field.extraMonsterZones].filter(o=>o!==null&&o.position!=="back_defense"&&o.position!=="back").filter(o=>{const f=o.card;return[...c.hand,...c.deck].filter(d=>K(d.card)&&(d.card.race===f.race||d.card.element===f.element)).length>0}),{select:"single",message:"1"},(c,o,f)=>{const d=f[0];q(c,o,p=>{const y=d.card;return[...p.hand,...p.deck].filter(_=>K(_.card)&&(_.card.race===y.race||_.card.element===y.element))},{select:"single",message:"1"},(p,y,_)=>{const v={..._[0],buf:{attack:1e3,defense:0,level:0}};Y(p,v,"SpellField"),Xm(p,d,v)})})})}}}},eL=Object.freeze(Object.defineProperty({__proto__:null,default:J3},Symbol.toStringTag,{value:"Module"})),tL={card_name:" ",card_type:"",text:`
SS`,image:"card100325742_1.jpg",monster_type:"",element:"",race:"",attack:2800,defense:1800,level:8,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!1,effect:{onSummon:(e,t)=>{t.summonedBy==="Synchro"&&re(e,t,(i,a)=>{var c;const r=((c=a.summonedByMaterials)==null?void 0:c.filter(o=>o.card_name.includes("")||o.card_name.includes("")).length)??0;r>0&&q(i,a,f=>new E(f).deck().filter().monster().lightsworn().unique().get(),{select:"multi",message:`${r}1`,condition:f=>f.length<=r},(f,d,m)=>{ta(f,d,m,p=>{Xe(p)},{byEffect:!0})})},"LightlordAthenaMinerva_SynchroSummon")},onIgnition:{condition:(e,t)=>oe(e,t,i=>new E(i).graveyard().filter().monster().lightsworn().get().length>0&&t.location==="MonsterField","LightlordAthenaMinerva_Ignition"),effect:(e,t)=>{const i=r=>new E(r).graveyard().filter().monster().lightsworn().get(),a=i(e);if(a.length>0){const r=Math.min(4,Math.min(a.length,e.deck.length));q(e,t,i,{select:"multi",message:"4",condition:c=>c.length<=r},(c,o,f)=>{re(c,o,(d,m)=>{const p=f.length;f.length>0&&Ha(d,m,{cardIdList:f.map(y=>y.id)},(y,_)=>{$t(y,_,p,()=>{},{byEffect:!0})})},"LightlordAthenaMinerva_Ignition")})}}}},filterAvailableMaterials:e=>K(e.card),materialCondition:e=>{const t=e.some(a=>K(a.card)&&a.card.hasTuner),i=e.some(a=>K(a.card)&&!a.card.hasTuner);return t&&i&&Gb(e)===8}},nL=Object.freeze(Object.defineProperty({__proto__:null,default:tL},Symbol.toStringTag,{value:"Module"})),iL={card_name:" ",card_type:"",text:`
X`,image:"card100022987_1.jpg",monster_type:"",element:"",race:"",attack:2e3,defense:800,hasDefense:!0,hasLevel:!1,hasRank:!0,hasLink:!1,canNormalSummon:!1,rank:4,effect:{onIgnition:{condition:(e,t)=>oe(e,t,(i,a)=>a.materials.length>0&&a.location==="MonsterField","LightlordSaintMinerva_Effect1"),effect:(e,t)=>{re(e,t,(i,a)=>{a.materials.length>0&&q(i,a,()=>a.materials,{select:"single",message:"X1"},(r,c,o)=>{if(o.length>0){const f=o[0];c.materials=c.materials.filter(p=>p.id!==f.id),Y(r,f,"Graveyard");const d=Math.min(3,r.deck.length),m=new je(r.deck.slice(0,d)).lightsworn().len();$t(r,c,d,(p,y)=>{mt(p,y,{count:m})},{byEffect:!0})}})},"LightlordSaintMinerva_Effect1")}}},filterAvailableMaterials:e=>K(e.card)&&e.card.hasLevel&&Re(e)===4,materialCondition:e=>e.length===2&&new je(e).level(4).len()===2},aL=Object.freeze(Object.defineProperty({__proto__:null,default:iL},Symbol.toStringTag,{value:"Module"})),sL={card_name:" ",card_type:"",text:`
`,image:"card100062061_1.jpg",monster_type:"",link:3,linkDirection:["","",""],element:"",race:"",attack:2400,hasDefense:!1,hasLevel:!1,hasRank:!1,hasLink:!0,canNormalSummon:!1,effect:{onCardDeckToGraveyard:(e,t)=>{oe(e,t,()=>!0,"dominion_3")&&e.effectQueue.find(i=>i.type==="option"&&i.effectName===`${t.card.card_name}`)===void 0&&e.deck.length>=3&&We(e,t,[{name:"",condition:(i,a)=>oe(i,a,()=>!0,"dominion_3")}],(i,a)=>{re(i,a,(r,c)=>{$t(r,c,3,()=>{},{byEffect:!0})},"dominion_3")},!0)},onSummon:(e,t)=>{oe(e,t,()=>!0,"dominion_1")&&q(e,t,i=>new E(i).deck().getNonNull(),{select:"single",message:""},(i,a,r)=>{const c=r[0].id;re(i,a,(o,f)=>{const d=Ne(o,c);ea(o,d,f)},"dominion_1")})}},materialCondition:e=>{if(e.length!==3)return!1;const t=Array.from(new Map(e.map(a=>K(a.card)&&[a.card.element,a.card.element]||["",""])).values()).length,i=Array.from(new Map(e.map(a=>K(a.card)&&[a.card.race,a.card.race]||["",""])).values()).length;return t===1&&i===3},filterAvailableMaterials:()=>!0},rL=Object.freeze(Object.defineProperty({__proto__:null,default:sL},Symbol.toStringTag,{value:"Module"})),lL={card_name:"",card_type:"",monster_type:"",link:1,linkDirection:[""],element:"",race:"",attack:300,filterAvailableMaterials:e=>Ye(e.card)&&Re(e)===1,materialCondition:e=>!!(e.length===1&&Ye(e[0].card)&&Re(e[0])===1),text:`11
1111`,image:"card100358454_1.jpg",hasDefense:!1,hasLevel:!1,hasLink:!0,hasRank:!1,canNormalSummon:!1,effect:{onSummon:(e,t)=>{e.deck.filter(a=>Ye(a.card)&&Re(a)===1).length>0&&q(e,t,a=>a.deck.filter(r=>Ye(r.card)&&Re(r)===1),{select:"single",message:"11"},(a,r,c)=>{Y(a,c[0],"Graveyard")})}}},oL=Object.freeze(Object.defineProperty({__proto__:null,default:lL},Symbol.toStringTag,{value:"Module"})),cL={card_name:"",card_type:"",text:"    ",image:"card100336764_1.jpg",monster_type:"",level:6,element:"",race:"",attack:1500,defense:2400,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!1,effect:{onAnywhereToGraveyard:(e,t)=>{We(e,t,[{name:"",condition:()=>!0}],(i,a)=>{re(i,a,(r,c)=>{mt(r,c,{count:1})},"Garura_ToGraveyard")},!0)}},filterAvailableMaterials:e=>K(e.card),materialCondition:e=>{if(e.length!==2||!e.every(o=>K(o.card)))return!1;const t=e[0].card,i=t.race,a=t.element,r=e.every(o=>{const f=o.card;return f.race===i&&f.element===a}),c=new Set(e.map(o=>o.card.card_name)).size===2;return r&&c}},uL=Object.freeze(Object.defineProperty({__proto__:null,default:cL},Symbol.toStringTag,{value:"Module"})),fL={card_name:"",card_type:"",monster_type:"",rank:12,element:"",race:"",attack:3e3,defense:3e3,filterAvailableMaterials:e=>Ye(e.card)&&Re(e)===12,materialCondition:e=>!!(e.length===2&&e.every(t=>Ye(t.card)&&Re(t)===12)),text:`
XXX
X
EXX`,image:"card100336782_1.jpg",hasDefense:!0,hasLevel:!1,hasLink:!1,hasRank:!0,canNormalSummon:!1,effect:{}},dL=Object.freeze(Object.defineProperty({__proto__:null,default:fL},Symbol.toStringTag,{value:"Module"})),LS={card_name:"",monster_type:"",level:3,element:"",race:"",attack:0,defense:0,text:"",image:"token.jpg",canNormalSummon:!1,card_type:"",effect:{},hasDefense:!0,hasLevel:!0,hasLink:!1,hasRank:!1},hL=Object.freeze(Object.defineProperty({__proto__:null,default:LS},Symbol.toStringTag,{value:"Module"})),mL={card_name:"",card_type:"",monster_type:"",link:3,linkDirection:["","",""],element:"",race:"",attack:2100,filterAvailableMaterials:()=>!0,materialCondition:e=>!!(e.filter(t=>K(t.card)&&t.card.race==="").length>=2&&Ym(e).includes(3)),text:`
`,image:"card100179342_1.jpg",hasDefense:!1,hasLevel:!1,hasLink:!0,hasRank:!1,canNormalSummon:!1,effect:{onSummon:(e,t)=>{if(e.field.monsterZones.map((r,c)=>({zone:r,index:c})).filter(({zone:r})=>r===null).length<3)return;const a=LS;for(let r=0;r<3&&r<3;r++)xe(e,t,{order:r+1,delay:r*20},c=>{const o=Uc(a,"MonsterField",!0),f=MS(c);Ps(c,o,f,"attack")});e.isLinkSummonProhibited=!0},onIgnition:{condition:(e,t)=>oe(e,t,()=>!0)?[...e.field.monsterZones,...e.field.extraMonsterZones].filter(a=>a!==null).length>0&&t.location==="MonsterField":!1,effect:(e,t)=>{re(e,t,(i,a)=>{const r=[...i.field.monsterZones,...i.field.extraMonsterZones].filter(f=>f!==null),c=[];if(r.length>=1&&[...i.field.monsterZones,...i.field.extraMonsterZones,...i.field.spellTrapZones,i.field.fieldZone].filter(d=>d!==null).length>0&&c.push({count:1,name:"1"}),r.length>=2&&i.deck.filter(d=>K(d.card)?d.card.card_name.includes(""):!1).length>0&&c.push({count:2,name:"1"}),r.length>=3&&i.graveyard.filter(d=>d.card.card_type==="").length>0&&c.push({count:3,name:"1"}),c.length===0)return;const o=c.map(f=>({name:`${f.count}: ${f.name}`,condition:()=>!0}));We(i,a,o,(f,d,m)=>{const p=parseInt(m.split(":")[0]),y=c.find(_=>_.count===p);q(f,d,_=>[..._.field.monsterZones,..._.field.extraMonsterZones].filter(v=>v!==null),{select:"multi",condition:_=>_.length===y.count,message:`${y.count}`},(_,v,M)=>{M.forEach((w,T)=>{xe(_,v,{order:-1,delay:T*20},A=>{Y(A,w,"Graveyard")})}),y.count===1?q(_,v,T=>[...T.field.monsterZones,...T.field.extraMonsterZones,...T.field.spellTrapZones,T.field.fieldZone].filter(A=>A!==null),{select:"single",message:"1"},(T,A,R)=>{Y(T,R[0],"Graveyard")}):y.count===2?q(_,v,T=>T.deck.filter(A=>K(A.card)?A.card.card_name.includes(""):!1),{select:"single",message:"1"},(T,A,R)=>{ue(T,A,R[0],{},()=>{})}):y.count===3&&q(_,v,T=>T.graveyard.filter(A=>A.card.card_type===""),{select:"single",message:"1"},(T,A,R)=>{Y(T,R[0],"Hand")})})})})}}}},pL=Object.freeze(Object.defineProperty({__proto__:null,default:mL},Symbol.toStringTag,{value:"Module"})),gL={card_name:"",card_type:"",monster_type:"",level:4,element:"",race:"",attack:2500,defense:1200,filterAvailableMaterials:e=>K(e.card)&&(e.card.monster_type===""||e.card.monster_type===""),materialCondition:()=>!0,text:`
(1)(2)`,image:"card100065315_1.jpg",hasDefense:!0,hasLevel:!0,hasLink:!1,hasRank:!1,canNormalSummon:!1,effect:{}},yL=Object.freeze(Object.defineProperty({__proto__:null,default:gL},Symbol.toStringTag,{value:"Module"})),_L={card_name:"-",card_type:"",text:`
`,image:"card100014015_1.jpg",monster_type:"",element:"",race:"",attack:2500,defense:2e3,hasDefense:!0,hasLevel:!1,hasRank:!0,hasLink:!1,canNormalSummon:!1,rank:4,effect:{onSummon:(e,t)=>{t.summonedBy==="Xyz"&&$t(e,t,5,()=>{},{byEffect:!0})}},filterAvailableMaterials:e=>K(e.card)&&e.card.hasLevel&&Re(e)===4&&e.card.race==="",materialCondition:e=>e.length===2&&new je(e).level(4).race("").len()===2},vL=Object.freeze(Object.defineProperty({__proto__:null,default:_L},Symbol.toStringTag,{value:"Module"})),bL={card_name:" ",card_type:"",monster_type:"",rank:6,element:"",race:"",attack:2500,defense:2800,filterAvailableMaterials:e=>Ye(e.card)&&Re(e)===6,materialCondition:e=>!!(e.length===2&&e.every(t=>Ye(t.card)&&Re(t)===6)),text:"11X11EX1",image:"card100330938_1.jpg",hasDefense:!0,hasLevel:!1,hasLink:!1,hasRank:!0,canNormalSummon:!1,effect:{onIgnition:{condition:(e,t)=>oe(e,t,()=>!0)?t.materials&&t.materials.length>0&&e.deck.length>0:!1,effect:(e,t)=>{re(e,t,(i,a)=>{q(i,a,()=>a.materials,{select:"single",message:"X1"},(r,c,o)=>{Y(r,o[0],"Graveyard"),q(r,c,f=>f.deck,{select:"single",message:"1"},(f,d,m)=>{Y(f,m[0],"Graveyard")})})})}}}},xL=Object.freeze(Object.defineProperty({__proto__:null,default:bL},Symbol.toStringTag,{value:"Module"})),SL={card_name:"",card_type:"",text:`
  `,image:"card100099272_1.jpg",monster_type:"",level:4,element:"",race:"",attack:1900,defense:1600,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!1,materialCondition:e=>{if(e.length!==2)return!1;const t=Array.from(new Map(e.map(a=>K(a.card)&&[a.card.element,a.card.element]||["",""])).values()).length,i=Array.from(new Map(e.map(a=>K(a.card)&&[a.card.race,a.card.race]||["",""])).values()).length;return t===1&&i===2},filterAvailableMaterials:()=>!0,effect:{onIgnition:{condition:(e,t)=>oe(e,t,(i,a)=>a.location==="MonsterField",t.id,!0),effect:(e,t)=>{We(e,t,["","","","","",""].map(a=>({name:a,condition:()=>!0})),(a,r,c)=>{re(a,r,(o,f)=>{var d,m;for(let p=0;p<5;p++)((d=o.field.monsterZones[p])==null?void 0:d.id)===f.id&&K(o.field.monsterZones[p].card)&&(o.field.monsterZones[p].card.element=c[0]);for(let p=0;p<2;p++)((m=o.field.extraMonsterZones[p])==null?void 0:m.id)===f.id&&K(o.field.extraMonsterZones[p].card)&&(o.field.extraMonsterZones[p].card.element=c[0])},r.id,!0)},!0)}}}},TL=Object.freeze(Object.defineProperty({__proto__:null,default:SL},Symbol.toStringTag,{value:"Module"})),ML={card_name:"",card_type:"",text:"        ",image:"card100325766_1.jpg",monster_type:"",level:10,element:"",race:"",attack:3e3,defense:3e3,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!1,filterAvailableMaterials:()=>!1,materialCondition:()=>!1,summonLimited:!0,effect:{onIgnition:{condition:(e,t)=>{if(t.location==="ExtraDeck"){const i=new E(e).allMonster().filter().include("").len()>0,a=new E(e).allMonster().filter().include("").len()>0,r=new E(e).graveyard().filter().include("").len()>0,c=new E(e).graveyard().filter().include("").len()>0;return i&&c||r&&a}else if(t.location==="MonsterField")return oe(e,t,(i,a)=>new E(i).allFieldSpellTrap().allMonster().graveyard().filter().excludeId(a.id).len()>0&&i.lifePoints>2e3,t.id,!0);return!1},effect:(e,t)=>{t.location==="ExtraDeck"?q(e,t,i=>new E(i).allMonster().graveyard().getNonNull(),{select:"single",message:"",condition:i=>{if(i.length!==2)return!1;const a=i.find(c=>c.card.card_name===""),r=i.find(c=>c.card.card_name==="");return!!a&&!!r&&a.location!==r.location}},(i,a,r)=>{Ha(i,a,{cardIdList:r.map(c=>c.id)},(c,o)=>{ue(c,o,o,{canSelectPosition:!1,optionPosition:["attack"]},()=>{})})}):t.location==="MonsterField"&&We(e,t,[{name:"2000LP",condition:()=>e.lifePoints>=2e3}],(i,a,r)=>{r==="2000LP"&&re(i,a,(c,o)=>{c.lifePoints-=2e3;const f=[...new E(c).allMonster().allFieldSpellTrap().graveyard().filter().nonNull().excludeId(o.id).get()];Ha(c,o,{cardIdList:f.map(d=>d.id)},()=>{})},"DivineLightDragon_Banish",!0)},!0)}}}},AL=Object.freeze(Object.defineProperty({__proto__:null,default:ML},Symbol.toStringTag,{value:"Module"})),wL={card_name:"",card_type:"",text:" ",image:"card100291230_1.jpg",monster_type:"",link:3,linkDirection:["","",""],element:"",race:"",attack:1850,hasDefense:!1,hasLevel:!1,hasRank:!1,hasLink:!0,canNormalSummon:!1,filterAvailableMaterials:()=>!0,materialCondition:e=>e.length<2?!1:!!e.find(t=>K(t.card)&&t.card.race===""&&Ym(e).includes(3)),effect:{onSummon:(e,t)=>{const i=new E(e).allFieldSpellTrap().filter().magic().get().filter(a=>a.position!=="back").length+new E(e).graveyard().filter().magic().get().length;f1(e,t,i)},onIgnition:{condition:(e,t)=>oe(e,t,(i,a)=>{var d,m;const r=a.card.linkDirection;let c=-1;for(let p=0;p<2;p++)((d=i.field.extraMonsterZones[p])==null?void 0:d.id)===a.id&&(c=p===0?6:8);for(let p=0;p<5;p++)((m=i.field.monsterZones[p])==null?void 0:m.id)===a.id&&(c=p);const o=Ph(r,c).filter(p=>p===6||p===8||p<=4&&p>=0).map(p=>p===6?5:p===8?6:p);let f=!1;for(let p=0;p<o.length;p++)o[p]<=4?i.field.monsterZones[o[p]]===null&&(f=!0):i.field.extraMonsterZones[o[p]-5]===null&&(f=!0);return((a==null?void 0:a.magicCounter)??0)>=3&&a.location==="MonsterField"&&new E(i).hand().graveyard().filter().race("").len()>0&&f},t.id,!0),effect:(e,t)=>{var c,o;const i=t.card.linkDirection;let a=-1;for(let f=0;f<2;f++)((c=e.field.extraMonsterZones[f])==null?void 0:c.id)===t.id&&(a=f===0?6:8);for(let f=0;f<5;f++)((o=e.field.monsterZones[f])==null?void 0:o.id)===t.id&&(a=f);const r=Ph(i,a).filter(f=>f===6||f===8||f<=4&&f>=0).map(f=>f===6?5:f===8?6:f);f1(e,t,-3),q(e,t,f=>new E(f).hand().graveyard().filter().race("").get(),{select:"single",canCancel:!0},(f,d,m)=>{const p=m[0].id;re(f,d,(y,_)=>{const v=Ne(y,p);ue(y,_,v,{optionPosition:["defense"],canSelectPosition:!1,summonType:"Special",placementMask:r},()=>{})},d.id,!0)})}}}},jL=Object.freeze(Object.defineProperty({__proto__:null,default:wL},Symbol.toStringTag,{value:"Module"})),DL={card_name:"'",card_type:"",monster_type:"",rank:1,element:"",race:"",attack:2e3,defense:0,filterAvailableMaterials:e=>Ye(e.card)&&Re(e)===1,materialCondition:e=>!!(e.length>=2&&e.every(t=>Ye(t.card)&&Re(t)===1)),text:`

X
X
X`,image:"card100221516_1.jpg",hasDefense:!0,hasLevel:!1,hasLink:!1,hasRank:!0,canNormalSummon:!1,effect:{onSummon:(e,t)=>{(a=>a.deck.filter(r=>r.card.card_name.includes("")))(e).length!==0&&re(e,t,(a,r)=>{q(a,r,c=>c.deck.filter(o=>o.card.card_name.includes("")),{select:"single",message:"1"},(c,o,f)=>{Y(c,f[0],"Graveyard")})},"'_effect1")}},canUseMaterilForRitualSummon:!0},EL=Object.freeze(Object.defineProperty({__proto__:null,default:DL},Symbol.toStringTag,{value:"Module"})),kL={card_name:"",card_type:"",text:"",image:"card100259547_1.jpg",monster_type:"",level:6,element:"",race:"",attack:2300,defense:1800,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!1,filterAvailableMaterials:()=>!0,materialCondition:()=>!0},CL=Object.freeze(Object.defineProperty({__proto__:null,default:kL},Symbol.toStringTag,{value:"Module"})),OL={card_name:"",card_type:"",text:`
`,image:"card100314678_1.jpg",monster_type:"",element:"",race:"",attack:1800,defense:1600,hasDefense:!0,hasLevel:!1,hasRank:!0,hasLink:!1,canNormalSummon:!1,rank:3,effect:{onIgnition:{condition:(e,t)=>oe(e,t,(i,a)=>a.materials.length===0?!1:new E(i).banished().filter().monster().underLevel(4).get().length>0,"Leviair_Effect",!0),effect:(e,t)=>{re(e,t,(i,a)=>{q(i,a,()=>a.materials,{select:"single",message:"X1"},(r,c,o)=>{if(o.length>0){const f=o[0];c.materials=c.materials.filter(m=>m.id!==f.id),Y(r,f,"Graveyard"),q(r,c,m=>new E(m).banished().filter().monster().underLevel(4).get(),{select:"single",message:"4"},(m,p,y)=>{y.length>0&&ue(m,p,y[0],{canSelectPosition:!0,optionPosition:["attack","defense"]},()=>{})})}})},"Leviair_Effect",!0)}}},filterAvailableMaterials:e=>K(e.card)&&e.card.hasLevel&&Re(e)===3,materialCondition:e=>e.length===2&&new je(e).level(3).len()===2},NL=Object.freeze(Object.defineProperty({__proto__:null,default:OL},Symbol.toStringTag,{value:"Module"})),RL={card_name:"",card_type:"",monster_type:"",level:4,element:"",race:"",attack:600,defense:1e3,filterAvailableMaterials:()=>!0,materialCondition:e=>!!(Gb(e)===4&&e.find(t=>K(t.card)&&t.card.hasTuner)&&e.find(t=>K(t.card)&&!t.card.hasTuner)),text:`
(1)
(2)
(3)`,image:"card100179270_1.jpg",hasDefense:!0,hasLevel:!0,hasLink:!1,hasRank:!1,canNormalSummon:!1,effect:{onIgnition:{condition:(e,t)=>t.location==="MonsterField"&&e.effectQueue.some(i=>{var a,r,c;return((a=i.effectType)==null?void 0:a.includes("monster"))||((r=i.effectType)==null?void 0:r.includes("magic"))||((c=i.effectType)==null?void 0:c.includes("trap"))}),effect:(e,t)=>{Cl(e,t,{message:""},(i,a)=>{Y(i,a,"Graveyard")})}},onAnywhereToGraveyard:(e,t)=>{const i=a=>a.deck.filter(r=>!!(Ke(r.card)&&r.card.magic_type===""||Lj(r.card)));i(e).length!==0&&q(e,t,i,{select:"single",message:"1"},(a,r,c)=>{Y(a,c[0],"Hand")})}}},LL=Object.freeze(Object.defineProperty({__proto__:null,default:RL},Symbol.toStringTag,{value:"Module"})),VL={card_name:"",card_type:"",monster_type:"",link:2,linkDirection:["",""],element:"",race:"",attack:1e3,filterAvailableMaterials:()=>!0,materialCondition:e=>{const t=new Set(e.map(i=>i.card.card_name));return e.length===2&&t.size===2&&cm(e)===2},text:"",image:"card100322913_1.jpg",hasDefense:!1,hasLevel:!1,hasLink:!0,hasRank:!1,canNormalSummon:!1,effect:{onIgnition:{condition:()=>!1,effect:()=>{}}}},$L=Object.freeze(Object.defineProperty({__proto__:null,default:VL},Symbol.toStringTag,{value:"Module"})),PL={card_name:"",card_type:"",monster_type:"",link:1,linkDirection:[""],element:"",race:"",attack:0,filterAvailableMaterials:e=>e.summonedBy==="Normal"&&K(e.card)&&on(e)<=1e3,materialCondition:e=>e.length===1&&cm(e)===1&&e[0].summonedBy==="Normal",text:`10001
`,image:"card100354764_1.jpg",hasDefense:!1,hasLevel:!1,hasLink:!0,hasRank:!1,canNormalSummon:!1,effect:{}},zL=Object.freeze(Object.defineProperty({__proto__:null,default:PL},Symbol.toStringTag,{value:"Module"})),BL={card_name:"",card_type:"",text:"",image:"card100294722_1.jpg",monster_type:"",level:6,element:"",race:"",attack:2200,defense:1800,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!1,filterAvailableMaterials:()=>!0,materialCondition:()=>!0},UL=Object.freeze(Object.defineProperty({__proto__:null,default:BL},Symbol.toStringTag,{value:"Module"})),qL={card_name:"-",card_type:"",text:`
LL`,image:"card100322910_1.jpg",monster_type:"",link:4,linkDirection:["","","",""],element:"",race:"",attack:2800,hasDefense:!1,hasLevel:!1,hasRank:!1,hasLink:!0,canNormalSummon:!1,effect:{onSummon:(e,t)=>{var i;if(t.summonedBy==="Link"&&(((i=t.summonedByMaterials)==null?void 0:i.length)||0)>=4){if(e.deck.length<4)return;We(e,t,[{name:"",condition:()=>!0}],(r,c)=>{mt(r,c,{count:4},(o,f)=>{const d=p=>new E(p).hand().getNonNull();d(o).length>=3&&q(o,f,d,{select:"multi",condition:p=>p.length===3,message:"3"},(p,y,_)=>{if(_.length===3){const v=_.map(M=>M.id);CS(p,y,v)}})})})}},onIgnition:{condition:(e,t)=>oe(e,t,(i,a)=>{var f;const r=((f=a.summonedByMaterials)==null?void 0:f.length)||0,c=i.phase==="main1"||i.phase==="main2",o=new E(i).hand().filter().monster().get();return r>=3&&c&&o.length>0&&a.location==="MonsterField"&&Ue(i)},t.id,!0),effect:(e,t)=>{q(e,t,a=>new E(a).hand().filter().monster().noSummonLimited().get(),{select:"single",message:"",canCancel:!0},(a,r,c)=>{const o=c[0].id;re(a,r,(f,d)=>{if(c.length>0){const m=Ne(f,o);ue(f,d,m,{canSelectPosition:!0,optionPosition:["attack","defense"]},()=>{})}},r.id,!0)})}}},filterAvailableMaterials:e=>K(e.card),materialCondition:e=>new Set(e.map(i=>i.card.card_name)).size===e.length&&e.length>=2&&Ym(e).includes(4)},HL=Object.freeze(Object.defineProperty({__proto__:null,default:qL},Symbol.toStringTag,{value:"Module"})),GL={card_name:" ",card_type:"",text:" ",image:"card100012011_1.jpg",monster_type:"",level:5,element:"",race:"",attack:2e3,defense:1200,hasDefense:!0,hasLevel:!0,hasRank:!1,hasLink:!1,canNormalSummon:!1,filterAvailableMaterials:()=>!0,materialCondition:()=>!0},ZL=Object.freeze(Object.defineProperty({__proto__:null,default:GL},Symbol.toStringTag,{value:"Module"})),FL={card_name:"MAX!!",card_type:"",text:"",image:"card100254678_1.jpg",trap_type:"",effect:{onSpell:{condition:(e,t)=>oe(e,t,i=>{const a=new E(i).allMonster().filter().nonNull().include("").element("").get(),r=new E(i).allMonster().filter().nonNull().get();return a.length>0&&r.length>=2},"SoulEnergyMax_Effect1"),payCost:(e,t,i)=>{q(e,t,r=>new E(r).allMonster().filter().nonNull().get(),{select:"multi",condition:r=>r.length===2,message:"2"},(r,c,o)=>{o.length===2&&o.forEach(f=>{Y(r,f,"Graveyard")}),i(r,c)})},effect:(e,t,i,a)=>{re(e,t,(r,c)=>{On(r,c,{target:"opponent",amount:4e3,operation:"decrease"},()=>{a&&a(r,c)})},"SoulEnergyMax_Effect1")}},onIgnition:{condition:(e,t)=>oe(e,t,(i,a)=>{const r=["main1","main2","battle"],c=new E(i).deck().graveyard().filter().include("").get();return r.includes(i.phase)&&a.location==="Graveyard"&&c.length>0},"SoulEnergyMax_Effect2"),effect:(e,t)=>{re(e,t,(i,a)=>{Y(i,a,"Exclusion"),q(i,a,c=>new E(c).deck().graveyard().filter().include("").get(),{select:"single",message:""},(c,o,f)=>{Y(c,f[0],"Hand");const d=f[0].id;new E(c).allMonster().len()>=3&&We(c,o,[{name:"",condition:()=>!0}],m=>{const p=Ne(m,d);ue(m,p,p,{needRelease:3},()=>{})},!0)})},"SoulEnergyMax_Effect2")}}}},YL=Object.freeze(Object.defineProperty({__proto__:null,default:FL},Symbol.toStringTag,{value:"Module"})),XL={card_name:"",card_type:"",text:"(1)(2)(1)(2)",image:"card100354692_1.jpg",trap_type:"",effect:{onIgnition:{condition:(e,t)=>t.location==="Graveyard"&&new E(e).graveyard().filter().excludeId(t.id).trap().len()>0,effect:(e,t)=>{re(e,t,(i,a)=>{Y(i,a,"Exclusion"),On(i,a,{target:"player",amount:Math.floor(i.lifePoints/2),operation:"decrease"},(r,c)=>{q(r,c,o=>new E(o).graveyard().filter().exclude("").trap().get(),{select:"single",message:""},(o,f,d)=>{var m,p,y;d.length>0&&((y=(p=(m=d[0].card.effect)==null?void 0:m.onSpell)==null?void 0:p.effect)==null||y.call(p,o,f))})})})}}}},IL=Object.freeze(Object.defineProperty({__proto__:null,default:XL},Symbol.toStringTag,{value:"Module"})),KL={card_name:"",text:"",image:"card73707890_1.jpg",trap_type:"",card_type:"",effect:{onSpell:{condition:e=>e.hand.length===0,effect:(e,t,i,a)=>{const c=e.graveyard.filter(o=>Ke(o.card)).length*200;c>0&&On(e,t,{target:"opponent",amount:c,operation:"decrease"}),a==null||a(e,t)}}}},QL=Object.freeze(Object.defineProperty({__proto__:null,default:KL},Symbol.toStringTag,{value:"Module"})),WL={card_name:"",card_type:"",text:"",image:"card100325940_1.jpg",trap_type:"",effect:{onAnywhereToGraveyard:(e,t)=>{Sl(e)&&We(e,t,[{name:"",condition:()=>!0},{name:"",condition:()=>!0}],(i,a,r)=>{r===""&&Y(i,a,"SpellField",{reverse:!0})})}}},JL=Object.freeze(Object.defineProperty({__proto__:null,default:WL},Symbol.toStringTag,{value:"Module"})),eV={card_name:"",card_type:"",text:"(1)(2)(1)(2)",image:"card100260564_1.jpg",trap_type:"",effect:{onAnywhereToGraveyardByEffect:(e,t)=>{oe(e,t,()=>!0)&&new E(e).deck().filter().monster().include("").len()!==0&&q(e,t,i=>new E(i).deck().filter().monster().include("").get(),{select:"single",canCancel:!0},(i,a,r)=>{const c=r[0].id;re(i,a,o=>{fn(o,c,"Hand"),Xe(o)})})}}},tV=Object.freeze(Object.defineProperty({__proto__:null,default:eV},Symbol.toStringTag,{value:"Module"})),nV={card_name:"",card_type:"",text:"(1)(2)(1)(2)",image:"card100260561_1.jpg",trap_type:"",effect:{onAnywhereToGraveyardByEffect:(e,t)=>{oe(e,t,()=>!0)&&new E(e).graveyard().filter().monster().include("").len()!==0&&q(e,t,i=>new E(i).graveyard().filter().monster().include("").get(),{select:"single",canCancel:!0},(i,a,r)=>{const c=r[0].id;re(i,a,o=>{fn(o,c,"Hand")})})}}},iV=Object.freeze(Object.defineProperty({__proto__:null,default:nV},Symbol.toStringTag,{value:"Module"})),aV={card_name:"",card_type:"",text:"",image:"card100262721_1.jpg",trap_type:"",effect:{onIgnition:{condition:(e,t)=>new E(e).spellTrap().hand().filter().include("").len()>0&&t.location==="Graveyard"&&new E(e).graveyard().filter().include("").len()>0,effect:(e,t)=>{Y(e,t,"Exclusion"),q(e,t,i=>new E(i).spellTrap().hand().filter().include("").get(),{select:"single"},(i,a,r)=>{Y(i,r[0],"Graveyard"),q(i,t,c=>new E(c).graveyard().filter().include("").get(),{select:"single"},(c,o,f)=>{ue(c,o,f[0],{},()=>{})})})}}}},sV=Object.freeze(Object.defineProperty({__proto__:null,default:aV},Symbol.toStringTag,{value:"Module"})),rV={card_name:"",card_type:"",text:"",image:"card100278144_1.jpg",trap_type:"",effect:{onSpell:{condition:(e,t)=>oe(e,t,i=>new E(i).graveyard().filter().include("").get().length>0,"Yomigaeshi_TenkuShin_Effect1"),effect:(e,t,i,a)=>{if(new E(e).graveyard().filter().include("").get().length===0){a==null||a(e,t);return}re(e,t,(c,o)=>{q(c,o,d=>new E(d).graveyard().filter().include("").get(),{select:"single",message:""},(d,m,p)=>{if(p.length>0){const y=p[0];ue(d,m,y,{canSelectPosition:!0,optionPosition:["attack","defense"]},(_,v)=>{const M=_.hand.length,w=Math.max(0,6-M);w>0?mt(_,v,{count:w},(T,A)=>{a&&a(T,A)}):a&&a(_,v)})}else a&&a(d,m)})},"Yomigaeshi_TenkuShin_Effect1")}},onIgnition:{condition:(e,t)=>oe(e,t,(i,a)=>{const r=new E(i).deck().graveyard().filter().include("").get();return a.location==="Graveyard"&&r.length>0},"Yomigaeshi_TenkuShin_Effect2"),effect:(e,t)=>{re(e,t,(i,a)=>{Y(i,a,"Exclusion"),q(i,a,c=>new E(c).deck().graveyard().filter().include("").get(),{select:"single",message:""},(c,o,f)=>{if(f.length>0){const d=f[0];Y(c,d,"Deck",{deckTop:!0}),new E(c).graveyard().filter().monster().race("").get().length>0&&xe(c,o,{},(p,y)=>{mt(p,y,{count:1})})}})},"Yomigaeshi_TenkuShin_Effect2")}}}},lV=Object.freeze(Object.defineProperty({__proto__:null,default:rV},Symbol.toStringTag,{value:"Module"})),oV={card_name:"",card_type:"",trap_type:"",text:"",image:"card100350003_1.jpg",effect:{onSpell:{condition:e=>e.graveyard.filter(t=>K(t.card)).length>=0&&e.graveyard.filter(t=>K(t.card)&&t.card.monster_type===""&&t.card.attack<=1500).length>0,effect:(e,t,i,a)=>{q(e,t,r=>r.graveyard.filter(c=>K(c.card)&&c.card.monster_type===""&&c.card.attack<=1500),{select:"multi",condition:r=>r.length<=3&&r.length>=1,message:"15003"},(r,c,o)=>{for(let f=0;f<o.length;f++)xe(r,c,{order:-1,delay:f*20},d=>{Y(d,o[f],"Hand")});xe(r,c,{order:-1,delay:o.length*20},(f,d)=>{a==null||a(f,d)})})}}}},cV=Object.freeze(Object.defineProperty({__proto__:null,default:oV},Symbol.toStringTag,{value:"Module"})),uV=Object.assign({"./magic/DDR.ts":aO,"./magic/.ts":rO,"./magic/.ts":oO,"./magic/.ts":uO,"./magic/.ts":dO,"./magic/.ts":mO,"./magic/.ts":gO,"./magic/.ts":_O,"./magic/.ts":bO,"./magic/.ts":SO,"./magic/.ts":AO,"./magic/.ts":jO,"./magic/.ts":EO,"./magic/.ts":CO,"./magic/.ts":NO,"./magic/.ts":LO,"./magic/.ts":$O,"./magic/.ts":zO,"./magic/.ts":UO,"./magic/.ts":GO,"./magic/.ts":FO,"./magic/.ts":XO,"./magic/.ts":KO,"./magic/.ts":WO,"./magic/.ts":eN,"./magic/.ts":nN,"./magic/.ts":aN,"./magic/.ts":rN,"./magic/.ts":oN,"./magic/.ts":uN,"./magic/.ts":dN,"./magic/_.ts":mN,"./magic/.ts":gN,"./magic/.ts":_N,"./magic/.ts":bN,"./magic/.ts":SN,"./magic/.ts":MN,"./magic/.ts":wN,"./magic/.ts":DN,"./magic/.ts":kN,"./magic/.ts":ON,"./magic/.ts":RN}),fV=Object.assign({"./monster/D_HERO_.ts":VN,"./monster/D_HERO_.ts":PN,"./monster/EHERO_.ts":BN,"./monster/Em.ts":qN,"./monster/.ts":GN,"./monster/.ts":FN,"./monster/.ts":XN,"./monster/.ts":KN,"./monster/.ts":WN,"./monster/.ts":eR,"./monster/.ts":nR,"./monster/.ts":aR,"./monster/.ts":rR,"./monster/.ts":oR,"./monster/.ts":uR,"./monster/.ts":dR,"./monster/.ts":mR,"./monster/.ts":gR,"./monster/.ts":_R,"./monster/_.ts":bR,"./monster/_.ts":SR,"./monster/.ts":MR,"./monster/_.ts":wR,"./monster/_.ts":DR,"./monster/_.ts":kR,"./monster/_.ts":OR,"./monster/_.ts":RR,"./monster/_.ts":VR,"./monster/_.ts":PR,"./monster/.ts":BR,"./monster/_.ts":qR,"./monster/.ts":GR,"./monster/.ts":FR,"./monster/.ts":XR,"./monster/.ts":KR,"./monster/-.ts":WR,"./monster/.ts":e3,"./monster/.ts":n3,"./monster/.ts":a3,"./monster/.ts":r3,"./monster/.ts":o3,"./monster/.ts":u3,"./monster/.ts":d3,"./monster/.ts":m3,"./monster/.ts":g3,"./monster/.ts":_3,"./monster/.ts":b3,"./monster/.ts":S3,"./monster/.ts":M3,"./monster/.ts":w3,"./monster/.ts":D3,"./monster/.ts":k3}),dV=Object.assign({"./extra/FNo.0 .ts":O3,"./extra/FNo.0 .ts":R3,"./extra/No.60.ts":V3,"./extra/.ts":P3,"./extra/.ts":B3,"./extra/M7.ts":q3,"./extra/.ts":G3,"./extra/.ts":F3,"./extra/.ts":X3,"./extra/.ts":K3,"./extra/.ts":W3,"./extra/.ts":eL,"./extra/.ts":nL,"./extra/.ts":aL,"./extra/.ts":rL,"./extra/.ts":oL,"./extra/.ts":uL,"./extra/.ts":dL,"./extra/.ts":pL,"./extra/.ts":yL,"./extra/-.ts":vL,"./extra/_.ts":xL,"./extra/.ts":TL,"./extra/.ts":AL,"./extra/.ts":jL,"./extra/.ts":EL,"./extra/.ts":CL,"./extra/.ts":NL,"./extra/.ts":LL,"./extra/.ts":$L,"./extra/.ts":zL,"./extra/.ts":UL,"./extra/-.ts":HL,"./extra/ .ts":ZL}),hV=Object.assign({"./trap/MAX.ts":YL,"./trap/.ts":IL,"./trap/.ts":QL,"./trap/.ts":JL,"./trap/.ts":tV,"./trap/.ts":iV,"./trap/.ts":sV,"./trap/.ts":lV,"./trap/.ts":cV}),mV=Object.assign({"./token/.ts":TO,"./token/.ts":hL}),pV=Object.values(uV).map(e=>e.default),gV=Object.values(fV).map(e=>e.default),yV=Object.values(dV).map(e=>e.default),_V=Object.values(hV).map(e=>e.default),vV=Object.values(mV).map(e=>e.default),kn=[...gV,...yV,...pV,..._V,...vV].reduce((e,t)=>({...e,[t.card_name]:t}),{}),_c={deck_name:"",main_deck:[{card_name:"D-HERO ",quantity:3},{card_name:"",quantity:2},{card_name:"EHERO ",quantity:1},{card_name:"",quantity:1},{card_name:"D-HERO ",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:3},{card_name:"",quantity:3},{card_name:"",quantity:3},{card_name:"",quantity:1},{card_name:"",quantity:3},{card_name:"",quantity:2},{card_name:"-",quantity:2},{card_name:"",quantity:2},{card_name:"",quantity:1},{card_name:"DDR",quantity:2},{card_name:"",quantity:2},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:2}],extra_deck:[],token:[]},bV={deck_name:_c.deck_name,main_deck:jn(_c.main_deck,kn),extra_deck:jn(_c.extra_deck,kn),token:jn(_c.token,kn),rules:["start_six_hand"]},xV=Object.freeze(Object.defineProperty({__proto__:null,default:bV},Symbol.toStringTag,{value:"Module"})),vc={deck_name:"",main_deck:[{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:2},{card_name:"",quantity:2},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:3},{card_name:"",quantity:3},{card_name:"",quantity:3},{card_name:"",quantity:3},{card_name:"",quantity:3},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:3},{card_name:"",quantity:3},{card_name:"",quantity:3},{card_name:"",quantity:3},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:3},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:3},{card_name:"",quantity:3}],extra_deck:[{card_name:"",quantity:1},{card_name:"M7",quantity:1},{card_name:" ",quantity:2},{card_name:"'",quantity:2},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"FNo.0 ",quantity:1},{card_name:"FNo.0 ",quantity:1},{card_name:"",quantity:1}],token:[{card_name:"",quantity:1}]},SV={deck_name:vc.deck_name,main_deck:jn(vc.main_deck,kn),extra_deck:jn(vc.extra_deck,kn),token:jn(vc.token,kn),rules:[]},TV=Object.freeze(Object.defineProperty({__proto__:null,default:SV},Symbol.toStringTag,{value:"Module"})),bc={deck_name:"",main_deck:[{card_name:" ",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"-",quantity:1},{card_name:" ",quantity:2},{card_name:" ",quantity:2},{card_name:" ",quantity:2},{card_name:" ",quantity:3},{card_name:" ",quantity:2},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"-",quantity:2},{card_name:"Em",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:3},{card_name:" ",quantity:2},{card_name:"",quantity:1},{card_name:" ",quantity:2},{card_name:" ",quantity:3},{card_name:"",quantity:3},{card_name:"",quantity:1},{card_name:"",quantity:3},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:2},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"MAX!!",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:1}],extra_deck:[{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"-",quantity:1},{card_name:"No.60 ",quantity:1},{card_name:" ",quantity:1},{card_name:"",quantity:2},{card_name:"",quantity:1},{card_name:"-",quantity:2},{card_name:"",quantity:2},{card_name:" ",quantity:1},{card_name:" ",quantity:1},{card_name:"",quantity:1}],token:[]},MV={deck_name:bc.deck_name,main_deck:jn(bc.main_deck,kn),extra_deck:jn(bc.extra_deck,kn),token:jn(bc.token,kn),rules:[]},AV=Object.freeze(Object.defineProperty({__proto__:null,default:MV},Symbol.toStringTag,{value:"Module"})),xc={deck_name:"",main_deck:[{card_name:"",quantity:3},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:3},{card_name:"",quantity:3},{card_name:"",quantity:3},{card_name:"",quantity:3},{card_name:"",quantity:3},{card_name:"",quantity:3},{card_name:"",quantity:3},{card_name:"",quantity:3},{card_name:"",quantity:3},{card_name:"",quantity:2},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:1},{card_name:"",quantity:1}],extra_deck:[{card_name:"",quantity:3},{card_name:"",quantity:3},{card_name:"",quantity:3},{card_name:"",quantity:3},{card_name:"",quantity:3},{card_name:" ",quantity:3},{card_name:"",quantity:2},{card_name:"",quantity:2},{card_name:"",quantity:2}],token:[]},wV={deck_name:xc.deck_name,main_deck:jn(xc.main_deck,kn),extra_deck:jn(xc.extra_deck,kn),token:jn(xc.token,kn),rules:["start_six_hand"]},jV=Object.freeze(Object.defineProperty({__proto__:null,default:wV},Symbol.toStringTag,{value:"Module"})),DV=Object.assign({"./dogma_blade/deck.ts":xV,"./dreitron_exodia/deck.ts":TV,"./horuakuty/deck.ts":AV,"./science_kataparuto/deck.ts":jV}),m1=Object.values(DV),EV=e=>{const t=[...e];for(let i=t.length-1;i>0;i--){const a=Math.floor(Math.random()*(i+1));[t[i],t[a]]=[t[a],t[i]]}return t},VS=e=>{const t={turn:1,phase:"main1",lifePoints:8e3,opponentLifePoints:8e3,deck:[],hand:[],field:{monsterZones:Array(5).fill(null),spellTrapZones:Array(5).fill(null),fieldZone:null,extraMonsterZones:[null,null]},opponentField:{monsterZones:Array(5).fill(null),spellTrapZones:Array(5).fill(null),fieldZone:null},graveyard:[],banished:[],extraDeck:[],hasNormalSummoned:!1,hasSpecialSummoned:!1,isLinkSummonProhibited:!1,isFieldSpellActivationProhibited:!1,isOpponentTurn:!1,gameOver:!1,winner:null,winReason:null,hasDrawnByEffect:!1,currentFrom:{location:"Deck"},currentTo:{location:"Hand"},throne:[null,null,null,null,null],isProcessing:!1,originDeck:null,cardChain:[],deckEffects:[],monstersToGraveyardThisTurn:[],isFieldSpellActivationAllowed:null,normalSummonProhibited:!1};if(e){const i=e.main_deck.map(r=>Uc(r,"Deck")),a=e.extra_deck.map(r=>Uc(r,"ExtraDeck"));return{...t,deck:EV(i),extraDeck:a,originDeck:e}}return t},kV=VS(),qn=mj()(jj(e=>({...kV,turnOnceUsedEffectMemo:{},effectQueue:[],selectedDeck:null,isDeckSelectionOpen:!0,availableDecks:m1.map(t=>t.default),autoSummon:!1,selectDeck:t=>{e(i=>{i.selectedDeck=t,i.isDeckSelectionOpen=!1})},setDeckSelectionOpen:t=>{e(i=>{i.isDeckSelectionOpen=t})},setAutoSummon:t=>{e(i=>{i.autoSummon=t})},initializeGame:t=>{var a;const i=t||((a=m1[0])==null?void 0:a.default);i&&e(r=>{const c=VS(i);Object.assign(r,{...c,turnOnceUsedEffectMemo:{},effectQueue:[],selectedCard:null}),Ge(r,{card:{card_name:""}},{},t!=null&&t.rules.includes("start_six_hand")?6:5,o=>{Y(o,o.deck[0],"Hand")})})},activateEffect:t=>{e(i=>{var a;i.isProcessing=!0,(a=t.card.effect.onIgnition)==null||a.effect(i,t),xe(i,t,{},(r,c)=>{ou(r,c,"onCardEffect")}),i.isProcessing=!1})},addEffectToQueue:t=>{e(i=>{const a=[t,...i.effectQueue].sort((r,c)=>r.order-c.order);i.effectQueue=a})},processQueueTop:t=>{e(i=>{var r,c,o;if(i.effectQueue.length===0)return;const a=i.effectQueue[0];switch(i.effectQueue.shift(),t.type){case"confirm":{a.callback&&a.type==="confirm"&&t.confirmed&&a.callback(i,a.cardInstance);break}case"cardSelect":{(a.type==="search"||a.type==="select"||a.type==="multiselect"||a.type==="material_select")&&a.callback&&a.callback(i,a.cardInstance,t.cardList);break}case"option":{a.type==="option"&&a.callback&&a.callback(i,a.cardInstance,t.option[0].value);break}case"summon":{a.type==="summon"&&a.callback&&a.callback(i,a.cardInstance,{zone:t.zone,position:t.position}),i.isProcessing=!1;break}case"delay":{(a.type==="notify"||a.type==="notification"||a.type==="life_change")&&((r=a==null?void 0:a.callback)==null||r.call(a,i,a.cardInstance));break}case"chain_select":{a.type==="chain_check"&&(t.selectedCard?(c=a==null?void 0:a.callback)==null||c.call(a,i,a.cardInstance,t.selectedCard):(o=a.callback)==null||o.call(a,i,a.cardInstance));break}}})},clearQueue:()=>{e(t=>{t.effectQueue=[]})},popQueue:()=>{e(t=>{t.effectQueue.shift(),t.isProcessing=!1})},draw:()=>{e(t=>{if(t.deck.length===0){t.gameOver=!0,t.winner="timeout",t.winReason="deck_out";return}Y(t,t.deck[0],"Hand")})},selectedCard:null,nextPhase:()=>{e(t=>{switch(t.phase){case"main1":{t.phase="standby",t.isOpponentTurn=!0,t.turn=t.turn+1,t.monstersToGraveyardThisTurn=[];const i=[...t.field.monsterZones,...t.field.extraMonsterZones];Ge(t,{card:{card_name:""}},{},i.length,(a,r,c)=>{var f,d,m;const o=[...a.field.monsterZones,...a.field.extraMonsterZones];(m=(f=o[c-1])==null?void 0:(d=f.card.effect).onStandbyPhase)==null||m.call(d,a,o[c-1])},()=>{});break}case"standby":t.phase="main1"}})},playCard:t=>{e(i=>{NS(i,t)})},setCard:t=>{e(i=>{const a={...t,setTurn:i.turn},r=i.field.spellTrapZones.map((o,f)=>({i:f,e:o})).filter(({e:o})=>o===null).map(o=>o.i),c=_i(r);Ke(t.card)&&t.card.magic_type===""?Y(i,a,"FieldZone",{reverse:!0}):Y(i,a,"SpellField",{reverse:!0,spellFieldIndex:c})})},startLinkSummon:t=>{e(i=>{En(i,{order:0,id:t.id+"_material_select",type:"material_select",cardInstance:t,effectType:"link_material_selection",targetMonster:t,summonType:"link",getAvailableCards:a=>[...a.field.monsterZones,...a.field.extraMonsterZones].filter(r=>r!==null&&(r.position==="attack"||r.position==="defense")).filter(r=>vi(t.card)&&t.card.filterAvailableMaterials(r)),callback:(a,r,c)=>{ta(a,r,c,(o,f)=>{f.summonedByMaterials=c.map(d=>d.card),ue(o,f,f,{canSelectPosition:!1,optionPosition:["attack"],order:5,summonType:"Link"},()=>{})})}})})},startXyzSummon:t=>{e(i=>{En(i,{order:0,id:t.id+"_material_select",type:"material_select",cardInstance:t,effectType:"xyz_material_selection",targetMonster:t,getAvailableCards:a=>[...a.field.monsterZones,...a.field.extraMonsterZones].filter(r=>r!==null&&(r.position==="attack"||r.position==="defense")).filter(r=>Bt(t.card)&&t.card.filterAvailableMaterials(r)),summonType:"xyz",callback:(a,r,c)=>{const o=c.map(d=>({...d,location:"Material"})),f={...r,materials:[...o],equipment:[...r.equipment||[]]};for(const d of c){const m=Im(a,d);a.currentFrom=m,a.currentTo={location:"ExtraDeck"}}ue(a,f,f,{summonType:"Xyz"},()=>{})}})})},startSynchroSummon:t=>{e(i=>{En(i,{order:0,id:t.id+"_material_select",type:"material_select",cardInstance:t,effectType:"synchro_material_selection",targetMonster:t,summonType:"synchro",getAvailableCards:a=>[...a.field.monsterZones,...a.field.extraMonsterZones].filter(r=>r!==null&&(r.position==="attack"||r.position==="defense")).filter(r=>{var c,o;return Gs(t.card)&&((o=(c=t.card)==null?void 0:c.filterAvailableMaterials)==null?void 0:o.call(c,r))}),callback:(a,r,c)=>{r.summonedByMaterials=c.map(o=>o.card),ta(a,r,c,(o,f)=>{ue(o,f,f,{canSelectPosition:!1,optionPosition:["attack"],order:5,summonType:"Synchro"},()=>{})})}})})},sendSpellToGraveyard:t=>{e(i=>{Y(i,t,"Graveyard")})},checkExodiaWin:t=>{e(i=>{const r=["","","","",""].map(c=>i.hand.find(o=>o.card.card_name===c)).filter(Boolean);r.length===5&&(t?t(r):(i.gameOver=!0,i.winner="player",i.winReason="exodia"))})},animationExodiaWin:()=>{e(t=>{const i=["","","","",""],a=[...t.hand,...t.deck];let r=0;for(const c of a)i.includes(c.card.card_name)&&(r++,xe(t,c,{delay:(r+1)*60},(o,f)=>{Y(o,f,"Throne")}))})},endGame:()=>{e(t=>{t.gameOver=!0,t.winner="timeout"})},judgeWin:()=>{e(t=>{t.lifePoints<=0?(t.gameOver=!0,t.winner="timeout"):t.opponentLifePoints<=0&&(t.gameOver=!0,t.winner="player",t.winReason="life_points")})},activateDeckEffect:t=>{e(i=>{t.activate(i,t.card)})},resetAnimationState:()=>{e(t=>{t.currentFrom={location:"Deck"},t.currentTo={location:"Hand"}})},setGameOver:t=>{e(i=>{i.gameOver=!0,i.winner=t})},deckTopToGraveyard:()=>{e(t=>{$t(t,{card:{card_name:""}},1,()=>{})})}}))),zn=({children:e,card:t,enableTokenFadeOut:i=!1,...a})=>{const r=L.useRef(t==null?void 0:t.position);return L.useEffect(()=>{(t==null?void 0:t.position)!==void 0&&(r.current=t.position)},[t==null?void 0:t.position]),i?x.jsx(Wi,{mode:"wait",children:t&&x.jsx(Be.div,{layout:!0,animate:{opacity:1,x:0,y:0,rotate:0,scale:1},style:{transformStyle:"preserve-3d"},exit:t.isToken?{opacity:0,scale:.8,transition:{duration:1,ease:"easeOut"}}:{x:0,y:0,opacity:1,scale:1},transition:{duration:.5},...a,children:e},t.id)}):x.jsx(Be.div,{layout:!0,animate:{opacity:1,x:0,y:0,rotate:0,scale:1,rotateY:0},transition:{duration:.5},style:{transformStyle:"preserve-3d"},...a,children:e},(t==null?void 0:t.id)??2)},CV=({hand:e})=>{const{currentFrom:t,currentTo:i}=qn(),a=i.location==="Hand"?Pn(i,t):{};return x.jsx("div",{className:`relative flex space-x-2 justify-center items-center mt-2 min-w-full 
            `,children:x.jsx("div",{className:"flex space-x-2 mb-2 overflow-visible",children:x.jsx(Wi,{mode:"popLayout",children:e.map(r=>x.jsx(zn,{layout:!0,initial:{...a},children:x.jsx(ht,{card:r,size:"medium"})},r.id))})})})},$S=({isOpen:e,onClose:t,cards:i,title:a,emptyMessage:r="",accentColor:c="purple"})=>{const o={purple:{ring:"hover:ring-purple-300",bg:"bg-purple-500",bgHover:"hover:bg-purple-600"},indigo:{ring:"hover:ring-indigo-300",bg:"bg-indigo-500",bgHover:"hover:bg-indigo-600"}},f=o[c]||o.purple;return x.jsxs(Ga,{isOpen:e,onClose:t,children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsxs("h3",{className:"text-lg font-bold",children:[a," (",i.length,")"]}),x.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:""})]}),i.length===0?x.jsx("div",{className:"text-center py-8 text-gray-500",children:r}):x.jsx("div",{className:"grid grid-cols-5 gap-3 overflow-y-scroll max-h-[600px]",children:i.map((d,m)=>x.jsxs("div",{className:`relative cursor-pointer transition-transform hover:scale-105 hover:ring-2 ${f.ring} rounded`,children:[x.jsx(ht,{card:d,size:"small",customSize:"w-32 h-48"}),x.jsx("div",{className:"text-xs text-center mt-1 truncate w-32",children:d.card.card_name})]},`${d.id}-${m}`))}),x.jsx("div",{className:"flex justify-center mt-6",children:x.jsx("button",{onClick:t,className:`px-6 py-3 ${f.bg} ${f.bgHover} text-white rounded font-bold`,children:""})})]})},PS=({graveyard:e,isOpen:t,onClose:i})=>{const[a,r]=$b(um),c=t!==void 0?t:a,o=i||(()=>r(!1));return x.jsx($S,{isOpen:c,onClose:o,cards:e,title:"",emptyMessage:"",accentColor:"purple"})},zS=({isOpen:e,onClose:t,extraDeck:i,viewOnly:a=!1,canPerformLinkSummon:r,canPerformXyzSummon:c,canPerformSynchroSummon:o,startLinkSummon:f,startXyzSummon:d,startSynchroSummon:m})=>x.jsxs(Ga,{isOpen:e,onClose:t,children:[x.jsx("div",{className:"relative -m-6 mb-4",children:x.jsx("div",{className:"px-6 py-4 bg-gradient-to-b from-white via-white to-transparent",children:x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("h3",{className:"text-lg font-bold",children:[" (",i.length,")"]}),x.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:""})]})})}),i.length===0?x.jsx("div",{className:"text-center py-8 text-gray-500",children:""}):x.jsx("div",{className:"grid grid-cols-5 gap-2 max-h-[640px]  overflow-y-scroll",children:i.map((p,y)=>x.jsxs("div",{className:`${a?"cursor-default":"cursor-pointer"} transition-transform hover:scale-105 hover:ring-2 rounded ${!a&&vi(p.card)&&(r!=null&&r(p))?"hover:ring-blue-400 ring-2 ring-blue-200":!a&&Bt(p.card)&&(c!=null&&c(p))?"hover:ring-purple-400 ring-2 ring-purple-200":!a&&Gs(p.card)&&(o!=null&&o(p))?"hover:ring-green-400 ring-2 ring-green-200":"hover:ring-green-300"}`,onClick:()=>{a||(vi(p.card)&&(r!=null&&r(p))&&f?(f(p),t()):Bt(p.card)&&(c!=null&&c(p))&&d?(d(p),t()):Gs(p.card)&&(o!=null&&o(p))&&m&&(m(p),t()))},children:[x.jsx("div",{className:"relative w-32 h-48",children:x.jsx(ht,{card:p,size:"small",customSize:"w-32 h-48"})}),x.jsx("div",{className:"text-xs text-center mt-1 truncate",children:p.card.card_name}),x.jsx("div",{className:"text-xs text-center text-gray-600",children:p.card.card_type}),!a&&vi(p.card)&&r&&x.jsx("div",{className:"text-xs text-center text-blue-600 font-bold",children:r(p)?"":""}),!a&&Bt(p.card)&&c&&x.jsx("div",{className:"text-xs text-center text-purple-600 font-bold",children:c(p)?"":""}),!a&&Gs(p.card)&&o&&x.jsx("div",{className:"text-xs text-center text-green-600 font-bold",children:o(p)?"":""})]},`${p.id}-${y}`))}),x.jsx("div",{className:"flex justify-center mt-6",children:x.jsx("button",{onClick:t,className:"px-6 py-3 bg-green-500 hover:bg-green-600 text-white rounded font-bold",children:""})})]}),ll=({type:e,state:t,getAvailableCards:i,title:a,onSelect:r,onCancel:c,filterFunction:o,condition:f,isOpen:d=!0,forceCancel:m})=>{const[p,y]=L.useState([]),[_,v]=L.useState(!1),[M,w]=L.useState(!1),[T,A]=L.useState(!1),R=i(t),N=F=>{if(e==="multi"){const U=p.some(B=>B.id===F.id);y(U?B=>B.filter(J=>J.id!==F.id):B=>[...B,F])}else{const U=p.some(B=>B.id===F.id);y(U?B=>B.filter(J=>J.id!==F.id):[F])}},W=f(p,t),C=L.useCallback(()=>{W&&(r(p),y([]))},[W,r,p]);return L.useEffect(()=>{const F=U=>{U.key==="Enter"&&W&&d&&C()};return window.addEventListener("keydown",F),()=>{window.removeEventListener("keydown",F)}},[W,d,C]),L.useEffect(()=>{R.length===0&&(m==null||m())},[R,m]),x.jsxs(x.Fragment,{children:[x.jsx(Ga,{isOpen:d,onClose:c,isTransparent:T,children:x.jsxs("div",{className:"flex flex-col h-full -m-6",children:[x.jsxs("div",{className:"px-6 py-4 bg-white border-b",children:[x.jsx("h3",{className:"text-lg font-bold text-center mb-2",children:a}),x.jsxs("p",{className:"text-center text-gray-600",children:[p.length," "]})]}),x.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4 max-h-[700px]",children:x.jsx("div",{className:"grid grid-cols-5 gap-y-4 gap-x-2",children:R.filter(F=>(o==null?void 0:o(F))??!0).map(F=>{const U=p.some(B=>B.id===F.id);return x.jsxs("div",{className:`mx-auto justify-center cursor-pointer transition-all ${U?"ring-4 ring-blue-500 scale-105 bg-blue-200 rounded":"hover:scale-105 hover:ring-2 hover:ring-gray-300 rounded"}`,onClick:()=>N(F),children:[x.jsx(ht,{card:F,size:"small",customSize:"w-32 h-48",forceAttack:!0,disableActivate:!0}),x.jsx("div",{className:"text-xs text-center mt-1 w-32 truncate",children:F.card.card_name}),x.jsx("div",{className:"text-xs text-center mt-1 truncate",children:F.location})]},F.id)})})}),x.jsxs("div",{className:"px-6 py-4 bg-white border-t relative",children:[x.jsxs("div",{className:"flex gap-3 justify-center",children:[x.jsxs("button",{onClick:C,disabled:!W,className:`px-6 py-3 rounded font-bold ${W?"bg-blue-500 hover:bg-blue-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[" (",p.length,")"]}),c&&x.jsx("button",{onClick:c,className:"px-6 py-3 bg-gray-500 hover:bg-gray-600 text-white rounded font-bold",children:""})]}),x.jsxs("div",{className:"absolute bottom-4 right-4 flex gap-2",children:[x.jsx("button",{onClick:()=>A(!T),className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold transition-colors ${T?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,title:"",children:""}),x.jsx("button",{onClick:()=>v(!0),className:"w-10 h-10 bg-gray-200 hover:bg-gray-300 rounded-full flex items-center justify-center text-sm font-bold text-gray-700",title:"",children:""}),x.jsx("button",{onClick:()=>w(!0),className:"w-10 h-10 bg-gray-200 hover:bg-gray-300 rounded-full flex items-center justify-center text-sm font-bold text-gray-700",title:"",children:""})]})]})]})}),x.jsx(PS,{graveyard:t.graveyard,gameState:t,isOpen:_,onClose:()=>v(!1)}),x.jsx(zS,{isOpen:M,onClose:()=>w(!1),extraDeck:t.extraDeck,viewOnly:!0})]})},OV=({effects:e,onSelect:t,onCancel:i})=>{const a=qn(),r=e.filter(o=>o.canActivate(a)),c=r.map(o=>o.card);return x.jsx(ll,{type:"single",state:a,getAvailableCards:()=>c,title:"",condition:o=>o.length===1,onSelect:o=>{const f=o[0],d=r.find(m=>m.card.id===f.id);d&&t(d)},onCancel:i})},NV=({field:e,deck:t,extraDeck:i,graveyard:a,setShowGraveyard:r,setShowExtraDeck:c})=>{var W;const{currentFrom:o,currentTo:f,deckEffects:d,activateDeckEffect:m}=qn(),[p,y]=L.useState(!1),_=qn(),v=La.MEDIUM,M=f.location==="FieldZone"?Pn(f,o):{},w=f.location==="SpellField"?Pn(f,o):{},T=f.location==="MonsterField"?Pn(f,o):{},A=f.location==="Graveyard"?Pn(f,o):{},R=f.location==="ExtraDeck"?Pn(f,o):{},N=f.location==="Deck"?Pn(f,o):{};return x.jsxs("div",{children:[x.jsxs("div",{className:"flex space-x-2 mb-2",children:[x.jsx(wn,{className:v,type:"field",hasCard:!!e.fieldZone,children:x.jsx(zn,{initial:{...M},children:x.jsx(ht,{card:e.fieldZone})},((W=e.fieldZone)==null?void 0:W.id)??"empty-field")}),e.monsterZones.map((C,F)=>x.jsx(wn,{className:v,hasCard:!!C,children:x.jsx(zn,{card:C,enableTokenFadeOut:!0,initial:{...T},children:x.jsx(ht,{card:C})})},`monster-${F}`)),x.jsxs("div",{className:"text-center relative",children:[x.jsx("div",{className:`${v}`}),x.jsx("div",{className:`${v} bg-purple-700 rounded flex items-center justify-center text-white font-bold cursor-pointer hover:bg-purple-600 transition-colors z-20 absolute top-0 opacity-80`,onClick:()=>r(!0),children:x.jsxs("div",{children:[x.jsx("div",{className:"text-xs",children:"GY"}),x.jsx("div",{className:"text-lg",children:a.length})]})}),a.map(C=>x.jsx("div",{className:`absolute top-0 z-10 ${v}`,children:x.jsx(zn,{initial:{...A},children:x.jsx(ht,{card:C},C.id)})},C.id))]})]}),x.jsxs("div",{className:"flex space-x-2",children:[x.jsxs("div",{className:"text-center relative",children:[x.jsx("div",{className:`${v}`}),x.jsx("div",{className:`${v} bg-green-700 rounded flex items-center justify-center text-white font-bold cursor-pointer hover:bg-green-600 transition-colors z-20 absolute top-0 opacity-80 border-2 border-green-900`,onClick:()=>c(!0),children:x.jsxs("div",{children:[x.jsx("div",{className:"text-xs",children:"EX"}),x.jsx("div",{className:"text-lg",children:i.length})]})}),i.map((C,F)=>x.jsx("div",{className:`absolute top-0 z-10 ${v}`,children:x.jsx(zn,{initial:{...R},children:x.jsx(ht,{card:F===i.length-1?{...C,position:"back"}:C,disableActivate:!0},C.id)})},C.id))]}),e.spellTrapZones.map((C,F)=>x.jsx(wn,{className:v,type:"spell_trap",hasCard:!!C,children:x.jsx(zn,{card:C,initial:{...w},children:x.jsx(ht,{card:C})},(C==null?void 0:C.id)??F)},`spell-${F}`)),x.jsxs("div",{className:"text-center relative",children:[x.jsx("div",{className:`${v}`}),x.jsx("div",{className:`${v} bg-orange-700 rounded flex items-center justify-center text-white font-bold z-20 absolute top-0 opacity-80 border-2 border-orange-900 ${d.filter(C=>C.canActivate(_)).length>0?"cursor-pointer hover:opacity-100":""}`,onClick:()=>{const C=d.filter(F=>F.canActivate(_));C.length>0&&(C.length===1?m(C[0]):y(!0))},children:x.jsxs("div",{children:[x.jsx("div",{className:"text-xs",children:"DECK"}),x.jsx("div",{className:"text-lg",children:t.length}),d.filter(C=>C.canActivate(_)).length>0&&x.jsx("div",{className:"text-xs text-yellow-300",children:""})]})}),t.map(C=>x.jsx("div",{className:`absolute top-0 z-10 ${v}`,children:x.jsx(zn,{initial:{...N},children:x.jsx(ht,{card:{...C,position:"back"},disableActivate:!0},C.id)},C.id)},C.id))]})]}),p&&x.jsx(OV,{effects:d,onSelect:C=>{m(C),y(!1)},onCancel:()=>y(!1)})]})},RV=({banished:e,onShowBanished:t})=>{const i=La.MEDIUM,{currentTo:a,currentFrom:r}=qn(),c=a.location==="Exclusion"?Pn(a,r):{};return x.jsxs("div",{className:"text-center relative",children:[x.jsx("div",{className:`${i}`}),x.jsx("div",{className:`${i} bg-indigo-700 rounded flex items-center justify-center text-white font-bold cursor-pointer hover:bg-indigo-600 transition-colors z-20 absolute top-0 opacity-80`,onClick:t,children:x.jsxs("div",{children:[x.jsx("div",{className:"text-xs",children:"Exclusion"}),x.jsx("div",{className:"text-lg",children:e.length})]})}),e.map(o=>x.jsx("div",{className:`absolute top-0 z-10 ${i}`,children:x.jsx(zn,{initial:{...c},children:x.jsx(ht,{card:o},o.id)})},o.id))]})},LV=({extraMonsterZones:e,opponentField:t,onShowBanished:i})=>{var m;const a=La.MEDIUM,{currentTo:r,currentFrom:c,banished:o}=qn(),f=r.location==="MonsterField"?Pn(r,c):{},d=r.location==="OpponentField"?{...Pn(r,c),rotate:180}:{};return x.jsx("div",{className:"mb-2",children:x.jsxs("div",{className:"flex flex-row space-x-2",children:[x.jsx("div",{className:`${a}`,children:x.jsx(RV,{banished:o,onShowBanished:i})}),x.jsx("div",{className:`${a}`}),x.jsx(wn,{className:`${a}`,type:"extra_zone",hasCard:!!e[0],children:x.jsx(zn,{card:e[0],enableTokenFadeOut:!0,initial:{...f},children:x.jsx(ht,{card:e[0]})})}),x.jsx("div",{className:`${a}`}),x.jsx(wn,{className:`${a}`,type:"extra_zone",hasCard:!!e[1],children:x.jsx(zn,{card:e[1],enableTokenFadeOut:!0,initial:{...f},children:x.jsx(ht,{card:e[1]})})}),x.jsx("div",{className:`${a}`}),x.jsx(wn,{rotate:!0,type:"field",hasCard:!!(t!=null&&t.fieldZone),className:`${La.MEDIUM} rotate-180`,children:x.jsx(zn,{initial:d,children:x.jsx(ht,{rotate:!0,card:(t==null?void 0:t.fieldZone)||null})},((m=t==null?void 0:t.fieldZone)==null?void 0:m.id)??1)})]})})},Ec=({children:e,content:t,position:i="top",show:a=!0,className:r=""})=>{const c=()=>{switch(i){case"top":return"bottom-full mb-2 left-1/2 transform -translate-x-1/2";case"bottom":return"top-full mt-2 left-1/2 transform -translate-x-1/2";case"left":return"right-full mr-2 top-1/2 transform -translate-y-1/2";case"right":return"left-full ml-2 top-1/2 transform -translate-y-1/2";default:return"bottom-full mb-2 left-1/2 transform -translate-x-1/2"}},o=()=>{switch(i){case"top":return"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-black";case"bottom":return"absolute bottom-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-b-black";case"left":return"absolute left-full top-1/2 transform -translate-y-1/2 border-4 border-transparent border-l-black";case"right":return"absolute right-full top-1/2 transform -translate-y-1/2 border-4 border-transparent border-r-black";default:return"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-black"}};return a?x.jsxs("div",{className:`relative group ${r}`,children:[e,x.jsxs("div",{className:`absolute invisible group-hover:visible opacity-0 group-hover:opacity-100 transition-opacity duration-200 ${c()} px-3 py-2 bg-black text-white text-sm rounded-lg whitespace-nowrap z-50`,children:[t,x.jsx("div",{className:o()})]})]}):x.jsx(x.Fragment,{children:e})},VV=({isOpponentTurn:e,nextPhase:t,initializeGame:i,selectedDeck:a,onChangeDeck:r})=>x.jsxs("div",{className:"flex flex-col justify-center space-y-4 items-center",children:[a&&x.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg shadow-lg p-3 text-center min-w-[200px]",children:[x.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"CURRENT DECK"}),x.jsx("div",{className:"text-sm font-bold text-gray-800 mb-2",children:a.deck_name}),x.jsx(Ec,{content:"",position:"top",children:x.jsx("button",{onClick:r,className:"w-full bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-3 rounded-lg shadow-md transition-colors text-sm",children:"CHANGE DECK"})})]}),x.jsx(Ec,{content:e?"":"",position:"top",children:x.jsx("button",{onClick:t,className:`block w-32 font-bold py-3 px-6 rounded-full shadow-lg ${e?"bg-red-700  hover:bg-red-900 text-white":"bg-red-500 hover:bg-red-600 text-white transition-colors"}`,children:e?"NEXT PHASE":"TURN END"})}),x.jsx(Ec,{content:"",position:"bottom",children:x.jsx("button",{onClick:i,className:"block w-32 bg-cyan-400 hover:bg-cyan-500 text-white font-bold py-3 px-6 rounded-full shadow-lg transition-colors",children:"RESET"})})]}),$V=()=>{const[e]=$b(Zb),t=qn(),i=(e==null?void 0:e.location)==="MonsterField";return x.jsx("div",{className:"flex-1 flex flex-row justify-center h-[668px] w-[240px] mt-6 px-8",children:x.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg shadow-xl p-4 border-2 border-gray-300 h-full flex-1",children:e?x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"flex justify-center mb-4",children:x.jsx("img",{src:e.card.image?`/yu-gi-oh-1-kill-simulator/card_image/${e.card.image}`:"",alt:e.card.card_name,className:"w-40 h-auto rounded-lg shadow-md",onError:a=>{a.currentTarget.style.display="none"}})}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("h3",{className:"text-lg font-bold text-gray-800 text-center",children:e.card.card_name}),x.jsx("div",{className:"text-sm text-gray-600 text-center",children:e.card.card_type}),K(e.card)&&x.jsxs("div",{className:"text-sm text-gray-700 text-center",children:[x.jsxs("div",{className:"flex flex-row justify-center",children:[x.jsx("div",{className:`${i&&e.buf.level>0?"text-blue-600":e.buf.level<0?"text-red-500":""}`,children:Ye(e.card)&&e.card&&e.card.level&&`: ${Re(e)} `}),x.jsx("div",{children:Bt(e.card)&&e.card.rank&&`: ${e.card.rank} `}),vi(e.card)&&e.card.link&&`: ${e.card.link} `]}),K(e.card)&&e.card.element&&`: ${e.card.element} `,K(e.card)&&e.card.race&&`: ${e.card.race}`,x.jsxs("div",{className:"flex flex-row justify-center",children:[x.jsx("div",{className:`px-2 ${"attack"in e.card&&i?on(e)>e.card.attack?"text-blue-600":on(e)<e.card.attack?"text-red-500":"":""}`,children:"attack"in e.card&&e.card.attack!==void 0&&`ATK: ${i?on(e):e.card.attack} `}),x.jsx("div",{className:`px-2 ${e.buf.defense>0?"text-blue-600":e.buf.defense<0?"text-red-500":""}`,children:"defense"in e.card?`DEF: ${i?Fm(e):e.card.defense}`:""})]})]}),Bt(e.card)&&e.materials&&e.materials.length>0&&x.jsxs("div",{className:"text-sm text-gray-700 border-t pt-2",children:[x.jsx("div",{className:"font-semibold mb-2 text-center",children:":"}),x.jsx("div",{className:"space-y-1",children:e.materials.map(a=>x.jsxs("div",{className:"text-xs bg-gray-100 rounded px-2 py-1",children:[a.card.card_name,K(a.card)&&"attack"in a.card&&x.jsxs("span",{className:"ml-2 text-gray-500",children:["ATK: ",a.card.attack,"defense"in a.card&&` / DEF: ${a.card.defense}`,Ye(a.card)&&` / LV: ${a.card.level}`]})]},a.id))})]}),K(e.card)&&e.equipment&&e.equipment.length>0&&x.jsxs("div",{className:"text-sm text-gray-700 border-t pt-2",children:[x.jsx("div",{className:"font-semibold mb-2 text-center",children:":"}),x.jsx("div",{className:"space-y-1",children:e.equipment.map(a=>x.jsxs("div",{className:"text-xs bg-blue-100 rounded px-2 py-1",children:[a.card.card_name,Ke(a.card)&&x.jsx("span",{className:"ml-2 text-gray-500",children:""})]},a.id))})]}),Ke(e.card)&&e.card.magic_type===""&&(()=>{const a=ZC(t,e);return a?x.jsxs("div",{className:"text-sm text-gray-700 border-t pt-2",children:[x.jsx("div",{className:"font-semibold mb-2 text-center",children:":"}),x.jsx("div",{className:"space-y-1",children:x.jsxs("div",{className:"text-xs bg-green-100 rounded px-2 py-1",children:[a.card.card_name,K(a.card)&&"attack"in a.card&&x.jsxs("span",{className:"ml-2 text-gray-500",children:["ATK: ",a.card.attack,"defense"in a.card&&` / DEF: ${a.card.defense}`,Ye(a.card)&&` / LV: ${a.card.level}`]})]})})]}):null})(),x.jsx("div",{className:"text-[14px] text-gray-600 max-h-60 overflow-y-scroll border-t pt-2 whitespace-pre-wrap",children:e.card.text})]})]}):x.jsx("div",{className:"flex items-center justify-center h-full",children:x.jsx("p",{className:"text-gray-400 text-lg",children:""})})})})},PV=({title:e,onSelect:t,onCancel:i,optionList:a,isOpen:r=!0})=>{const c=o=>{t(o)};return L.useEffect(()=>{const o=f=>{if(!r)return;const d=parseInt(f.key);if(!isNaN(d)&&d>=1&&d<=a.length){const m=a[d-1];m&&c(m)}};return window.addEventListener("keydown",o),()=>{window.removeEventListener("keydown",o)}},[a,r,c]),x.jsxs(Ga,{isOpen:r,onClose:i,children:[x.jsx("div",{className:"mb-4",children:x.jsx("h3",{className:"text-lg font-bold text-center mb-2",children:e})}),x.jsx("div",{className:"flex flex-row items-center justify-center",children:a.map((o,f)=>x.jsx("div",{className:"flex flex-row items-center justify-between",children:x.jsxs("button",{onClick:()=>c(o),className:`px-6 py-3 mx-6 rounded font-bold
                                    bg-blue-500 hover:bg-blue-600 text-white relative
                            }`,style:{color:"white"},children:[x.jsx("span",{className:"absolute -top-2 -left-2 w-6 h-6 bg-gray-700 text-white rounded-full text-xs flex items-center justify-center",children:f+1}),o.name]})},f))}),x.jsx("div",{className:"flex gap-3 justify-center mt-3",children:i&&x.jsx("button",{onClick:i,className:"px-6 py-3 bg-gray-500 hover:bg-gray-600 text-white rounded font-bold",children:""})})]})},zV=({effectQueue:e,gameState:t,processQueueTop:i,popQueue:a})=>{const[r,c]=L.useState(null),[o,f]=L.useState(!1);L.useEffect(()=>{if(e.length>0&&!o){const m=e[0];m.type==="option"||m.type==="select"||m.type==="multiselect"||m.type==="summon"||m.type==="confirm"||m.type==="material_select"||m.type==="chain_check"?c(m):c(null)}else c(null)},[e,o]);const d=m=>{f(!0),setTimeout(()=>{m&&m(),c(null),f(!1)},300)};if(L.useEffect(()=>{if((r==null?void 0:r.type)==="confirm"&&!o){const m=p=>{p.key==="Enter"&&d(()=>{i({type:"confirm",confirmed:!0})})};return window.addEventListener("keydown",m),()=>{window.removeEventListener("keydown",m)}}},[r,o,i]),!r)return null;switch(r.type){case"option":return x.jsx(PV,{state:t,title:`${r.cardInstance.card.card_name}: ${r.effectName}`,onSelect:m=>d(()=>i({type:"option",option:[m]})),onCancel:r.canCancel?()=>d(()=>a()):void 0,optionList:r.option,isOpen:!o});case"select":return x.jsx(ll,{condition:r.condition,getAvailableCards:r.getAvailableCards,state:t,title:`${r.cardInstance.card.card_name}: ${r.effectName}`,onSelect:m=>d(()=>i({type:"cardSelect",cardList:m})),onCancel:r.canCancel?()=>d(()=>a()):void 0,type:"single",isOpen:!o,forceCancel:()=>d(()=>a())});case"multiselect":return x.jsx(ll,{title:`${r.cardInstance.card.card_name}: ${r.effectName}`,onSelect:m=>d(()=>i({type:"cardSelect",cardList:m})),onCancel:r.canCancel?()=>d(()=>a()):void 0,type:"multi",state:t,getAvailableCards:r.getAvailableCards,condition:r.condition,isOpen:!o});case"summon":return x.jsx($C,{popQueue:a,optionPosition:r.optionPosition,cardInstance:r.cardInstance,onSelect:(m,p)=>d(()=>i({type:"summon",zone:m,position:p})),state:t,isOpen:!o,placementMask:r.placementMask});case"confirm":return x.jsxs(Ga,{isOpen:!o,children:[x.jsx("h3",{className:"text-lg font-bold mb-4",children:r.cardInstance.card.card_name}),x.jsx("p",{className:"mb-6",children:r.effectName}),x.jsxs("div",{className:"flex justify-end space-x-3",children:[r.canCancel&&x.jsx("button",{className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",onClick:()=>d(()=>{i({type:"confirm",confirmed:!1})}),children:""}),x.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>d(()=>{i({type:"confirm",confirmed:!0})}),children:""})]})]});case"material_select":return x.jsx(ll,{condition:(m,p)=>{const y=r,_=r.summonType==="link"?AS(m,p.field.extraMonsterZones,p.field.monsterZones):wS(m,p.field.extraMonsterZones,p.field.monsterZones);return y.targetMonster.card.materialCondition(m)&&_},getAvailableCards:r.getAvailableCards,state:t,title:`${r.targetMonster.card.card_name}: `,onSelect:m=>{d(()=>i({type:"cardSelect",cardList:m}))},onCancel:()=>d(()=>a()),type:"multi",isOpen:!o});case"chain_check":{const m=OS(t,r.chain??[]);return x.jsx(ll,{state:t,title:"",getAvailableCards:()=>m,condition:p=>p.length===1,onSelect:p=>{d(()=>{i({type:"chain_select",selectedCard:p[0]})})},onCancel:()=>{d(()=>{i({type:"chain_select"})})},type:"single",isOpen:!o})}default:return null}},BV=({deck:e,isSelected:t,onSelect:i})=>{const[a,r]=L.useState(!1),c=e.main_deck.filter(_=>K(_)).length,o=e.main_deck.filter(_=>Ke(_)).length,f=e.main_deck.filter(_=>_.card_type==="").length,d=e.extra_deck.length,m=_=>{const v={};return _.forEach(M=>{v[M.card_name]?v[M.card_name].count++:v[M.card_name]={card:M,count:1}}),Object.values(v)},p=m(e.main_deck),y=m(e.extra_deck);return x.jsxs(Be.div,{className:`border-2 rounded-lg p-4 cursor-pointer transition-all duration-200 ${t?"border-blue-500 bg-blue-50":"border-gray-300 bg-white hover:border-gray-400 hover:shadow-md"}`,whileHover:{scale:1.02},whileTap:{scale:.98},onClick:i,children:[x.jsxs("div",{className:"flex justify-between items-start mb-2",children:[x.jsx("h3",{className:"text-lg font-bold text-gray-800",children:e.deck_name}),x.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800",onClick:_=>{_.stopPropagation(),r(!a)},children:a?"":""})]}),x.jsxs("div",{className:"grid grid-cols-4 gap-2 text-sm text-gray-600 mb-3",children:[x.jsxs("div",{children:[": ",c]}),x.jsxs("div",{children:[": ",o]}),x.jsxs("div",{children:[": ",f]}),x.jsxs("div",{children:[": ",d]})]}),x.jsx(Wi,{children:a&&x.jsx(Be.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden border-t pt-3",children:x.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsxs("h4",{className:"font-semibold text-gray-700 mb-2",children:[" (",e.main_deck.length,")"]}),x.jsx("div",{className:"max-h-48 overflow-y-auto text-xs",children:p.map(({card:_,count:v})=>x.jsxs("div",{className:"flex justify-between py-1",children:[x.jsx("span",{className:"text-gray-700",children:_.card_name}),x.jsxs("span",{className:"text-gray-500",children:["",v]})]},_.card_name))})]}),d>0&&x.jsxs("div",{children:[x.jsxs("h4",{className:"font-semibold text-gray-700 mb-2",children:[" (",d,")"]}),x.jsx("div",{className:"max-h-48 overflow-y-auto text-xs",children:y.map(({card:_,count:v})=>x.jsxs("div",{className:"flex justify-between py-1",children:[x.jsx("span",{className:"text-gray-700",children:_.card_name}),x.jsxs("span",{className:"text-gray-500",children:["",v]})]},_.card_name))})]})]})})}),t&&x.jsx(Be.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-3 text-center",children:x.jsx("span",{className:"text-blue-600 font-semibold",children:""})})]})},UV=({isOpen:e,availableDecks:t,onSelectDeck:i,onClose:a})=>{const[r,c]=L.useState(null),o=()=>{r&&(i(r),a())};return e?x.jsx(Be.div,{className:"fixed inset-0 z-50 flex items-center justify-center",initial:{backgroundColor:"rgba(0, 0, 0, 0)"},animate:{backgroundColor:"rgba(0, 0, 0, 0.7)"},exit:{backgroundColor:"rgba(0, 0, 0, 0)"},children:x.jsxs(Be.div,{className:"bg-white rounded-lg shadow-2xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-hidden",initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},transition:{type:"spring",stiffness:300,damping:25},children:[x.jsxs("div",{className:"p-6 border-b",children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:""}),x.jsx("p",{className:"text-gray-600",children:""})]}),x.jsx("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:x.jsx("div",{className:"space-y-4",children:t.map(f=>x.jsx(BV,{deck:f,isSelected:(r==null?void 0:r.deck_name)===f.deck_name,onSelect:()=>c(f)},f.deck_name))})}),x.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-end space-x-3",children:[x.jsx("button",{className:"px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors",onClick:a,children:""}),x.jsx("button",{className:`px-6 py-2 rounded-lg font-semibold transition-all ${r?"bg-blue-600 text-white hover:bg-blue-700 shadow-md":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,onClick:o,disabled:!r,children:""})]})]})}):null},BS=L.createContext({});function qV(e){const t=L.useRef(null);return t.current===null&&(t.current=e()),t.current}const Jm=typeof window<"u",HV=Jm?L.useLayoutEffect:L.useEffect,ep=L.createContext(null),US=L.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function qS(e){return typeof e=="object"&&e!==null}function HS(e){return qS(e)&&"offsetHeight"in e}function GV(e=!0){const t=L.useContext(ep);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:a,register:r}=t,c=L.useId();L.useEffect(()=>{if(e)return r(c)},[e]);const o=L.useCallback(()=>e&&a&&a(c),[c,a,e]);return!i&&a?[!1,o]:[!0]}const Sc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],p1={value:null};function ZV(e,t){let i=new Set,a=new Set,r=!1,c=!1;const o=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1},d=0;function m(y){o.has(y)&&(p.schedule(y),e()),d++,y(f)}const p={schedule:(y,_=!1,v=!1)=>{const w=v&&r?i:a;return _&&o.add(y),w.has(y)||w.add(y),y},cancel:y=>{a.delete(y),o.delete(y)},process:y=>{if(f=y,r){c=!0;return}r=!0,[i,a]=[a,i],i.forEach(m),t&&p1.value&&p1.value.frameloop[t].push(d),d=0,i.clear(),r=!1,c&&(c=!1,p.process(y))}};return p}const Ti={},FV=40;function GS(e,t){let i=!1,a=!0;const r={delta:0,timestamp:0,isProcessing:!1},c=()=>i=!0,o=Sc.reduce((N,W)=>(N[W]=ZV(c,t?W:void 0),N),{}),{setup:f,read:d,resolveKeyframes:m,preUpdate:p,update:y,preRender:_,render:v,postRender:M}=o,w=()=>{const N=Ti.useManualTiming?r.timestamp:performance.now();i=!1,Ti.useManualTiming||(r.delta=a?1e3/60:Math.max(Math.min(N-r.timestamp,FV),1)),r.timestamp=N,r.isProcessing=!0,f.process(r),d.process(r),m.process(r),p.process(r),y.process(r),_.process(r),v.process(r),M.process(r),r.isProcessing=!1,i&&t&&(a=!1,e(w))},T=()=>{i=!0,a=!0,r.isProcessing||e(w)};return{schedule:Sc.reduce((N,W)=>{const C=o[W];return N[W]=(F,U=!1,B=!1)=>(i||T(),C.schedule(F,U,B)),N},{}),cancel:N=>{for(let W=0;W<Sc.length;W++)o[Sc[W]].cancel(N)},state:r,steps:o}}const Cn=e=>e,{schedule:at,cancel:na,state:Et,steps:Qd}=GS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Cn,!0),ZS=L.createContext({strict:!1}),g1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xs={};for(const e in g1)Xs[e]={isEnabled:t=>g1[e].some(i=>!!t[i])};function YV(e){for(const t in e)Xs[t]={...Xs[t],...e[t]}}const XV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||XV.has(e)}let FS=e=>!Xc(e);function IV(e){e&&(FS=t=>t.startsWith("on")?!Xc(t):e(t))}try{IV(require("@emotion/is-prop-valid").default)}catch{}function KV(e,t,i){const a={};for(const r in e)r==="values"&&typeof e.values=="object"||(FS(r)||i===!0&&Xc(r)||!t&&!Xc(r)||e.draggable&&r.startsWith("onDrag"))&&(a[r]=e[r]);return a}function QV(e){if(typeof Proxy>"u")return e;const t=new Map,i=(...a)=>e(...a);return new Proxy(i,{get:(a,r)=>r==="create"?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}const cu=L.createContext({});function uu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ol(e){return typeof e=="string"||Array.isArray(e)}const tp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],np=["initial",...tp];function fu(e){return uu(e.animate)||np.some(t=>Ol(e[t]))}function YS(e){return!!(fu(e)||e.variants)}function WV(e,t){if(fu(e)){const{initial:i,animate:a}=e;return{initial:i===!1||Ol(i)?i:void 0,animate:Ol(a)?a:void 0}}return e.inherit!==!1?t:{}}function JV(e){const{initial:t,animate:i}=WV(e,L.useContext(cu));return L.useMemo(()=>({initial:t,animate:i}),[y1(t),y1(i)])}function y1(e){return Array.isArray(e)?e.join(" "):e}const e4=Symbol.for("motionComponentSymbol");function zs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function t4(e,t,i){return L.useCallback(a=>{a&&e.onMount&&e.onMount(a),t&&(a?t.mount(a):t.unmount()),i&&(typeof i=="function"?i(a):zs(i)&&(i.current=a))},[t])}const ip=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),n4="framerAppearId",XS="data-"+ip(n4),IS=L.createContext({}),{schedule:ap}=GS(queueMicrotask,!1);function i4(e,t,i,a,r){var w,T;const{visualElement:c}=L.useContext(cu),o=L.useContext(ZS),f=L.useContext(ep),d=L.useContext(US).reducedMotion,m=L.useRef(null);a=a||o.renderer,!m.current&&a&&(m.current=a(e,{visualState:t,parent:c,props:i,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:d}));const p=m.current,y=L.useContext(IS);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&a4(m.current,i,r,y);const _=L.useRef(!1);L.useInsertionEffect(()=>{p&&_.current&&p.update(i,f)});const v=i[XS],M=L.useRef(!!v&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,v))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,v)));return HV(()=>{p&&(_.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),ap.render(p.render),M.current&&p.animationState&&p.animationState.animateChanges())}),L.useEffect(()=>{p&&(!M.current&&p.animationState&&p.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)==null||A.call(window,v)}),M.current=!1))}),p}function a4(e,t,i,a){const{layoutId:r,layout:c,drag:o,dragConstraints:f,layoutScroll:d,layoutRoot:m,layoutCrossfade:p}=t;e.projection=new i(e.latestValues,t["data-framer-portal-id"]?void 0:KS(e.parent)),e.projection.setOptions({layoutId:r,layout:c,alwaysMeasureLayout:!!o||f&&zs(f),visualElement:e,animationType:typeof c=="string"?c:"both",initialPromotionConfig:a,crossfade:p,layoutScroll:d,layoutRoot:m})}function KS(e){if(e)return e.options.allowProjection!==!1?e.projection:KS(e.parent)}let sp=()=>{};function s4({preloadedFeatures:e,createVisualElement:t,useRender:i,useVisualState:a,Component:r}){e&&YV(e);function c(f,d){let m;const p={...L.useContext(US),...f,layoutId:r4(f)},{isStatic:y}=p,_=JV(f),v=a(f,y);if(!y&&Jm){l4();const M=o4(p);m=M.MeasureLayout,_.visualElement=i4(r,v,p,t,M.ProjectionNode)}return x.jsxs(cu.Provider,{value:_,children:[m&&_.visualElement?x.jsx(m,{visualElement:_.visualElement,...p}):null,i(r,f,t4(v,_.visualElement,d),v,y,_.visualElement)]})}c.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const o=L.forwardRef(c);return o[e4]=r,o}function r4({layoutId:e}){const t=L.useContext(BS).id;return t&&e!==void 0?t+"-"+e:e}function l4(e,t){L.useContext(ZS).strict}function o4(e){const{drag:t,layout:i}=Xs;if(!t&&!i)return{};const a={...t,...i};return{MeasureLayout:t!=null&&t.isEnabled(e)||i!=null&&i.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}const QS=e=>t=>typeof t=="string"&&t.startsWith(e),rp=QS("--"),c4=QS("var(--"),lp=e=>c4(e)?u4.test(e.split("/*")[0].trim()):!1,u4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Nl={};function f4(e){for(const t in e)Nl[t]=e[t],rp(t)&&(Nl[t].isCSSVariable=!0)}const Js=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],er=new Set(Js);function WS(e,{layout:t,layoutId:i}){return er.has(e)||e.startsWith("origin")||(t||i!==void 0)&&(!!Nl[e]||e==="opacity")}const JS=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Mi=(e,t,i)=>i>t?t:i<e?e:i,tr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Rl={...tr,transform:e=>Mi(0,1,e)},Tc={...tr,default:1},_1={...tr,transform:Math.round},Fl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Qi=Fl("deg"),Wn=Fl("%"),ye=Fl("px"),d4=Fl("vh"),h4=Fl("vw"),v1={...Wn,parse:e=>Wn.parse(e)/100,transform:e=>Wn.transform(e*100)},m4={rotate:Qi,rotateX:Qi,rotateY:Qi,rotateZ:Qi,scale:Tc,scaleX:Tc,scaleY:Tc,scaleZ:Tc,skew:Qi,skewX:Qi,skewY:Qi,distance:ye,translateX:ye,translateY:ye,translateZ:ye,x:ye,y:ye,z:ye,perspective:ye,transformPerspective:ye,opacity:Rl,originX:v1,originY:v1,originZ:ye},op={borderWidth:ye,borderTopWidth:ye,borderRightWidth:ye,borderBottomWidth:ye,borderLeftWidth:ye,borderRadius:ye,radius:ye,borderTopLeftRadius:ye,borderTopRightRadius:ye,borderBottomRightRadius:ye,borderBottomLeftRadius:ye,width:ye,maxWidth:ye,height:ye,maxHeight:ye,top:ye,right:ye,bottom:ye,left:ye,padding:ye,paddingTop:ye,paddingRight:ye,paddingBottom:ye,paddingLeft:ye,margin:ye,marginTop:ye,marginRight:ye,marginBottom:ye,marginLeft:ye,backgroundPositionX:ye,backgroundPositionY:ye,...m4,zIndex:_1,fillOpacity:Rl,strokeOpacity:Rl,numOctaves:_1},p4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},g4=Js.length;function y4(e,t,i){let a="",r=!0;for(let c=0;c<g4;c++){const o=Js[c],f=e[o];if(f===void 0)continue;let d=!0;if(typeof f=="number"?d=f===(o.startsWith("scale")?1:0):d=parseFloat(f)===0,!d||i){const m=JS(f,op[o]);if(!d){r=!1;const p=p4[o]||o;a+=`${p}(${m}) `}i&&(t[o]=m)}}return a=a.trim(),i?a=i(t,r?"":a):r&&(a="none"),a}function cp(e,t,i){const{style:a,vars:r,transformOrigin:c}=e;let o=!1,f=!1;for(const d in t){const m=t[d];if(er.has(d)){o=!0;continue}else if(rp(d)){r[d]=m;continue}else{const p=JS(m,op[d]);d.startsWith("origin")?(f=!0,c[d]=p):a[d]=p}}if(t.transform||(o||i?a.transform=y4(t,e.transform,i):a.transform&&(a.transform="none")),f){const{originX:d="50%",originY:m="50%",originZ:p=0}=c;a.transformOrigin=`${d} ${m} ${p}`}}const up=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Vt=e=>!!(e&&e.getVelocity);function eT(e,t,i){for(const a in t)!Vt(t[a])&&!WS(a,i)&&(e[a]=t[a])}function _4({transformTemplate:e},t){return L.useMemo(()=>{const i=up();return cp(i,t,e),Object.assign({},i.vars,i.style)},[t])}function v4(e,t){const i=e.style||{},a={};return eT(a,i,e),Object.assign(a,_4(e,t)),a}function b4(e,t){const i={},a=v4(e,t);return e.drag&&e.dragListener!==!1&&(i.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=a,i}const x4={offset:"stroke-dashoffset",array:"stroke-dasharray"},S4={offset:"strokeDashoffset",array:"strokeDasharray"};function T4(e,t,i=1,a=0,r=!0){e.pathLength=1;const c=r?x4:S4;e[c.offset]=ye.transform(-a);const o=ye.transform(t),f=ye.transform(i);e[c.array]=`${o} ${f}`}function tT(e,{attrX:t,attrY:i,attrScale:a,pathLength:r,pathSpacing:c=1,pathOffset:o=0,...f},d,m,p){if(cp(e,f,m),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:_}=e;y.transform&&(_.transform=y.transform,delete y.transform),(_.transform||y.transformOrigin)&&(_.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),_.transform&&(_.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete y.transformBox),t!==void 0&&(y.x=t),i!==void 0&&(y.y=i),a!==void 0&&(y.scale=a),r!==void 0&&T4(y,r,c,o,!1)}const nT=()=>({...up(),attrs:{}}),iT=e=>typeof e=="string"&&e.toLowerCase()==="svg";function M4(e,t,i,a){const r=L.useMemo(()=>{const c=nT();return tT(c,t,iT(a),e.transformTemplate,e.style),{...c.attrs,style:{...c.style}}},[t]);if(e.style){const c={};eT(c,e.style,e),r.style={...c,...r.style}}return r}const A4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fp(e){return typeof e!="string"||e.includes("-")?!1:!!(A4.indexOf(e)>-1||/[A-Z]/u.test(e))}function w4(e=!1){return(i,a,r,{latestValues:c},o)=>{const d=(fp(i)?M4:b4)(a,c,o,i),m=KV(a,typeof i=="string",e),p=i!==L.Fragment?{...m,...d,ref:r}:{},{children:y}=a,_=L.useMemo(()=>Vt(y)?y.get():y,[y]);return L.createElement(i,{...p,children:_})}}function b1(e){const t=[{},{}];return e==null||e.values.forEach((i,a)=>{t[0][a]=i.get(),t[1][a]=i.getVelocity()}),t}function dp(e,t,i,a){if(typeof t=="function"){const[r,c]=b1(a);t=t(i!==void 0?i:e.custom,r,c)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,c]=b1(a);t=t(i!==void 0?i:e.custom,r,c)}return t}function kc(e){return Vt(e)?e.get():e}function j4({scrapeMotionValuesFromProps:e,createRenderState:t},i,a,r){return{latestValues:D4(i,a,r,e),renderState:t()}}const aT=e=>(t,i)=>{const a=L.useContext(cu),r=L.useContext(ep),c=()=>j4(e,t,a,r);return i?c():qV(c)};function D4(e,t,i,a){const r={},c=a(e,{});for(const _ in c)r[_]=kc(c[_]);let{initial:o,animate:f}=e;const d=fu(e),m=YS(e);t&&m&&!d&&e.inherit!==!1&&(o===void 0&&(o=t.initial),f===void 0&&(f=t.animate));let p=i?i.initial===!1:!1;p=p||o===!1;const y=p?f:o;if(y&&typeof y!="boolean"&&!uu(y)){const _=Array.isArray(y)?y:[y];for(let v=0;v<_.length;v++){const M=dp(e,_[v]);if(M){const{transitionEnd:w,transition:T,...A}=M;for(const R in A){let N=A[R];if(Array.isArray(N)){const W=p?N.length-1:0;N=N[W]}N!==null&&(r[R]=N)}for(const R in w)r[R]=w[R]}}}return r}function hp(e,t,i){var c;const{style:a}=e,r={};for(const o in a)(Vt(a[o])||t.style&&Vt(t.style[o])||WS(o,e)||((c=i==null?void 0:i.getValue(o))==null?void 0:c.liveStyle)!==void 0)&&(r[o]=a[o]);return r}const E4={useVisualState:aT({scrapeMotionValuesFromProps:hp,createRenderState:up})};function sT(e,t,i){const a=hp(e,t,i);for(const r in e)if(Vt(e[r])||Vt(t[r])){const c=Js.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;a[c]=e[r]}return a}const k4={useVisualState:aT({scrapeMotionValuesFromProps:sT,createRenderState:nT})};function C4(e,t){return function(a,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...fp(a)?k4:E4,preloadedFeatures:e,useRender:w4(r),createVisualElement:t,Component:a};return s4(o)}}function Ll(e,t,i){const a=e.getProps();return dp(a,t,i!==void 0?i:a.custom,e)}const zh=e=>Array.isArray(e);let Cc;function O4(){Cc=void 0}const Kt={now:()=>(Cc===void 0&&Kt.set(Et.isProcessing||Ti.useManualTiming?Et.timestamp:performance.now()),Cc),set:e=>{Cc=e,queueMicrotask(O4)}};function mp(e,t){e.indexOf(t)===-1&&e.push(t)}function pp(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}class gp{constructor(){this.subscriptions=[]}add(t){return mp(this.subscriptions,t),()=>pp(this.subscriptions,t)}notify(t,i,a){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,i,a);else for(let c=0;c<r;c++){const o=this.subscriptions[c];o&&o(t,i,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function rT(e,t){return t?e*(1e3/t):0}const x1=30,N4=e=>!isNaN(parseFloat(e));class R4{constructor(t,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(a,r=!0)=>{var o,f;const c=Kt.now();if(this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty();r&&((f=this.events.renderRequest)==null||f.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=Kt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=N4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new gp);const a=this.events[t].add(i);return t==="change"?()=>{a(),at.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t,i=!0){!i||!this.passiveEffect?this.updateAndNotify(t,i):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,i,a){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Kt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>x1)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,x1);return rT(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,i;(t=this.dependents)==null||t.clear(),(i=this.events.destroy)==null||i.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Is(e,t){return new R4(e,t)}function L4(e,t,i){e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,Is(i))}function V4(e){return zh(e)?e[e.length-1]||0:e}function $4(e,t){const i=Ll(e,t);let{transitionEnd:a={},transition:r={},...c}=i||{};c={...c,...a};for(const o in c){const f=V4(c[o]);L4(e,o,f)}}function P4(e){return!!(Vt(e)&&e.add)}function Bh(e,t){const i=e.getValue("willChange");if(P4(i))return i.add(t);if(!i&&Ti.WillChange){const a=new Ti.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function lT(e){return e.props[XS]}const z4=e=>e!==null;function B4(e,{repeat:t,repeatType:i="loop"},a){const r=e.filter(z4),c=t&&i!=="loop"&&t%2===1?0:r.length-1;return r[c]}const U4={type:"spring",stiffness:500,damping:25,restSpeed:10},q4=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),H4={type:"keyframes",duration:.8},G4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Z4=(e,{keyframes:t})=>t.length>2?H4:er.has(e)?e.startsWith("scale")?q4(t[1]):U4:G4;function F4({when:e,delay:t,delayChildren:i,staggerChildren:a,staggerDirection:r,repeat:c,repeatType:o,repeatDelay:f,from:d,elapsed:m,...p}){return!!Object.keys(p).length}function yp(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Jn=e=>e*1e3,ei=e=>e/1e3,pl=e=>Math.round(e*1e5)/1e5,_p=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Y4(e){return e==null}const X4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vp=(e,t)=>i=>!!(typeof i=="string"&&X4.test(i)&&i.startsWith(e)||t&&!Y4(i)&&Object.prototype.hasOwnProperty.call(i,t)),oT=(e,t,i)=>a=>{if(typeof a!="string")return a;const[r,c,o,f]=a.match(_p);return{[e]:parseFloat(r),[t]:parseFloat(c),[i]:parseFloat(o),alpha:f!==void 0?parseFloat(f):1}},I4=e=>Mi(0,255,e),Wd={...tr,transform:e=>Math.round(I4(e))},Na={test:vp("rgb","red"),parse:oT("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:a=1})=>"rgba("+Wd.transform(e)+", "+Wd.transform(t)+", "+Wd.transform(i)+", "+pl(Rl.transform(a))+")"};function K4(e){let t="",i="",a="",r="";return e.length>5?(t=e.substring(1,3),i=e.substring(3,5),a=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),i=e.substring(2,3),a=e.substring(3,4),r=e.substring(4,5),t+=t,i+=i,a+=a,r+=r),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(a,16),alpha:r?parseInt(r,16)/255:1}}const Uh={test:vp("#"),parse:K4,transform:Na.transform},Bs={test:vp("hsl","hue"),parse:oT("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:a=1})=>"hsla("+Math.round(e)+", "+Wn.transform(pl(t))+", "+Wn.transform(pl(i))+", "+pl(Rl.transform(a))+")"},Lt={test:e=>Na.test(e)||Uh.test(e)||Bs.test(e),parse:e=>Na.test(e)?Na.parse(e):Bs.test(e)?Bs.parse(e):Uh.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Na.transform(e):Bs.transform(e)},Q4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function W4(e){var t,i;return isNaN(e)&&typeof e=="string"&&(((t=e.match(_p))==null?void 0:t.length)||0)+(((i=e.match(Q4))==null?void 0:i.length)||0)>0}const cT="number",uT="color",J4="var",e$="var(",S1="${}",t$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vl(e){const t=e.toString(),i=[],a={color:[],number:[],var:[]},r=[];let c=0;const f=t.replace(t$,d=>(Lt.test(d)?(a.color.push(c),r.push(uT),i.push(Lt.parse(d))):d.startsWith(e$)?(a.var.push(c),r.push(J4),i.push(d)):(a.number.push(c),r.push(cT),i.push(parseFloat(d))),++c,S1)).split(S1);return{values:i,split:f,indexes:a,types:r}}function fT(e){return Vl(e).values}function dT(e){const{split:t,types:i}=Vl(e),a=t.length;return r=>{let c="";for(let o=0;o<a;o++)if(c+=t[o],r[o]!==void 0){const f=i[o];f===cT?c+=pl(r[o]):f===uT?c+=Lt.transform(r[o]):c+=r[o]}return c}}const n$=e=>typeof e=="number"?0:e;function i$(e){const t=fT(e);return dT(e)(t.map(n$))}const ia={test:W4,parse:fT,createTransformer:dT,getAnimatableNone:i$};function Jd(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function a$({hue:e,saturation:t,lightness:i,alpha:a}){e/=360,t/=100,i/=100;let r=0,c=0,o=0;if(!t)r=c=o=i;else{const f=i<.5?i*(1+t):i+t-i*t,d=2*i-f;r=Jd(d,f,e+1/3),c=Jd(d,f,e),o=Jd(d,f,e-1/3)}return{red:Math.round(r*255),green:Math.round(c*255),blue:Math.round(o*255),alpha:a}}function Ic(e,t){return i=>i>0?t:e}const it=(e,t,i)=>e+(t-e)*i,eh=(e,t,i)=>{const a=e*e,r=i*(t*t-a)+a;return r<0?0:Math.sqrt(r)},s$=[Uh,Na,Bs],r$=e=>s$.find(t=>t.test(e));function T1(e){const t=r$(e);if(!t)return!1;let i=t.parse(e);return t===Bs&&(i=a$(i)),i}const M1=(e,t)=>{const i=T1(e),a=T1(t);if(!i||!a)return Ic(e,t);const r={...i};return c=>(r.red=eh(i.red,a.red,c),r.green=eh(i.green,a.green,c),r.blue=eh(i.blue,a.blue,c),r.alpha=it(i.alpha,a.alpha,c),Na.transform(r))},qh=new Set(["none","hidden"]);function l$(e,t){return qh.has(e)?i=>i<=0?e:t:i=>i>=1?t:e}const o$=(e,t)=>i=>t(e(i)),Yl=(...e)=>e.reduce(o$);function c$(e,t){return i=>it(e,t,i)}function bp(e){return typeof e=="number"?c$:typeof e=="string"?lp(e)?Ic:Lt.test(e)?M1:d$:Array.isArray(e)?hT:typeof e=="object"?Lt.test(e)?M1:u$:Ic}function hT(e,t){const i=[...e],a=i.length,r=e.map((c,o)=>bp(c)(c,t[o]));return c=>{for(let o=0;o<a;o++)i[o]=r[o](c);return i}}function u$(e,t){const i={...e,...t},a={};for(const r in i)e[r]!==void 0&&t[r]!==void 0&&(a[r]=bp(e[r])(e[r],t[r]));return r=>{for(const c in a)i[c]=a[c](r);return i}}function f$(e,t){const i=[],a={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const c=t.types[r],o=e.indexes[c][a[c]],f=e.values[o]??0;i[r]=f,a[c]++}return i}const d$=(e,t)=>{const i=ia.createTransformer(t),a=Vl(e),r=Vl(t);return a.indexes.var.length===r.indexes.var.length&&a.indexes.color.length===r.indexes.color.length&&a.indexes.number.length>=r.indexes.number.length?qh.has(e)&&!r.values.length||qh.has(t)&&!a.values.length?l$(e,t):Yl(hT(f$(a,r),r.values),i):Ic(e,t)};function mT(e,t,i){return typeof e=="number"&&typeof t=="number"&&typeof i=="number"?it(e,t,i):bp(e)(e,t)}const h$=e=>{const t=({timestamp:i})=>e(i);return{start:(i=!0)=>at.update(t,i),stop:()=>na(t),now:()=>Et.isProcessing?Et.timestamp:Kt.now()}},pT=(e,t,i=10)=>{let a="";const r=Math.max(Math.round(t/i),2);for(let c=0;c<r;c++)a+=Math.round(e(c/(r-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},Kc=2e4;function xp(e){let t=0;const i=50;let a=e.next(t);for(;!a.done&&t<Kc;)t+=i,a=e.next(t);return t>=Kc?1/0:t}function m$(e,t=100,i){const a=i({...e,keyframes:[0,t]}),r=Math.min(xp(a),Kc);return{type:"keyframes",ease:c=>a.next(r*c).value/t,duration:ei(r)}}const p$=5;function gT(e,t,i){const a=Math.max(t-p$,0);return rT(i-e(a),t-a)}const ot={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},A1=.001;function g$({duration:e=ot.duration,bounce:t=ot.bounce,velocity:i=ot.velocity,mass:a=ot.mass}){let r,c,o=1-t;o=Mi(ot.minDamping,ot.maxDamping,o),e=Mi(ot.minDuration,ot.maxDuration,ei(e)),o<1?(r=m=>{const p=m*o,y=p*e,_=p-i,v=Hh(m,o),M=Math.exp(-y);return A1-_/v*M},c=m=>{const y=m*o*e,_=y*i+i,v=Math.pow(o,2)*Math.pow(m,2)*e,M=Math.exp(-y),w=Hh(Math.pow(m,2),o);return(-r(m)+A1>0?-1:1)*((_-v)*M)/w}):(r=m=>{const p=Math.exp(-m*e),y=(m-i)*e+1;return-.001+p*y},c=m=>{const p=Math.exp(-m*e),y=(i-m)*(e*e);return p*y});const f=5/e,d=_$(r,c,f);if(e=Jn(e),isNaN(d))return{stiffness:ot.stiffness,damping:ot.damping,duration:e};{const m=Math.pow(d,2)*a;return{stiffness:m,damping:o*2*Math.sqrt(a*m),duration:e}}}const y$=12;function _$(e,t,i){let a=i;for(let r=1;r<y$;r++)a=a-e(a)/t(a);return a}function Hh(e,t){return e*Math.sqrt(1-t*t)}const v$=["duration","bounce"],b$=["stiffness","damping","mass"];function w1(e,t){return t.some(i=>e[i]!==void 0)}function x$(e){let t={velocity:ot.velocity,stiffness:ot.stiffness,damping:ot.damping,mass:ot.mass,isResolvedFromDuration:!1,...e};if(!w1(e,b$)&&w1(e,v$))if(e.visualDuration){const i=e.visualDuration,a=2*Math.PI/(i*1.2),r=a*a,c=2*Mi(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:ot.mass,stiffness:r,damping:c}}else{const i=g$(e);t={...t,...i,mass:ot.mass},t.isResolvedFromDuration=!0}return t}function Qc(e=ot.visualDuration,t=ot.bounce){const i=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:r}=i;const c=i.keyframes[0],o=i.keyframes[i.keyframes.length-1],f={done:!1,value:c},{stiffness:d,damping:m,mass:p,duration:y,velocity:_,isResolvedFromDuration:v}=x$({...i,velocity:-ei(i.velocity||0)}),M=_||0,w=m/(2*Math.sqrt(d*p)),T=o-c,A=ei(Math.sqrt(d/p)),R=Math.abs(T)<5;a||(a=R?ot.restSpeed.granular:ot.restSpeed.default),r||(r=R?ot.restDelta.granular:ot.restDelta.default);let N;if(w<1){const C=Hh(A,w);N=F=>{const U=Math.exp(-w*A*F);return o-U*((M+w*A*T)/C*Math.sin(C*F)+T*Math.cos(C*F))}}else if(w===1)N=C=>o-Math.exp(-A*C)*(T+(M+A*T)*C);else{const C=A*Math.sqrt(w*w-1);N=F=>{const U=Math.exp(-w*A*F),B=Math.min(C*F,300);return o-U*((M+w*A*T)*Math.sinh(B)+C*T*Math.cosh(B))/C}}const W={calculatedDuration:v&&y||null,next:C=>{const F=N(C);if(v)f.done=C>=y;else{let U=C===0?M:0;w<1&&(U=C===0?Jn(M):gT(N,C,F));const B=Math.abs(U)<=a,J=Math.abs(o-F)<=r;f.done=B&&J}return f.value=f.done?o:F,f},toString:()=>{const C=Math.min(xp(W),Kc),F=pT(U=>W.next(C*U).value,C,30);return C+"ms "+F},toTransition:()=>{}};return W}Qc.applyToOptions=e=>{const t=m$(e,100,Qc);return e.ease=t.ease,e.duration=Jn(t.duration),e.type="keyframes",e};function Gh({keyframes:e,velocity:t=0,power:i=.8,timeConstant:a=325,bounceDamping:r=10,bounceStiffness:c=500,modifyTarget:o,min:f,max:d,restDelta:m=.5,restSpeed:p}){const y=e[0],_={done:!1,value:y},v=B=>f!==void 0&&B<f||d!==void 0&&B>d,M=B=>f===void 0?d:d===void 0||Math.abs(f-B)<Math.abs(d-B)?f:d;let w=i*t;const T=y+w,A=o===void 0?T:o(T);A!==T&&(w=A-y);const R=B=>-w*Math.exp(-B/a),N=B=>A+R(B),W=B=>{const J=R(B),te=N(B);_.done=Math.abs(J)<=m,_.value=_.done?A:te};let C,F;const U=B=>{v(_.value)&&(C=B,F=Qc({keyframes:[_.value,M(_.value)],velocity:gT(N,B,_.value),damping:r,stiffness:c,restDelta:m,restSpeed:p}))};return U(0),{calculatedDuration:null,next:B=>{let J=!1;return!F&&C===void 0&&(J=!0,W(B),U(B)),C!==void 0&&B>=C?F.next(B-C):(!J&&W(B),_)}}}const $l=(e,t,i)=>{const a=t-e;return a===0?1:(i-e)/a};function S$(e,t,i){const a=[],r=i||Ti.mix||mT,c=e.length-1;for(let o=0;o<c;o++){let f=r(e[o],e[o+1]);if(t){const d=Array.isArray(t)?t[o]||Cn:t;f=Yl(d,f)}a.push(f)}return a}function T$(e,t,{clamp:i=!0,ease:a,mixer:r}={}){const c=e.length;if(sp(c===t.length),c===1)return()=>t[0];if(c===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[c-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=S$(t,a,r),d=f.length,m=p=>{if(o&&p<e[0])return t[0];let y=0;if(d>1)for(;y<e.length-2&&!(p<e[y+1]);y++);const _=$l(e[y],e[y+1],p);return f[y](_)};return i?p=>m(Mi(e[0],e[c-1],p)):m}function M$(e,t){const i=e[e.length-1];for(let a=1;a<=t;a++){const r=$l(0,t,a);e.push(it(i,1,r))}}function A$(e){const t=[0];return M$(t,e.length-1),t}function w$(e,t){return e.map(i=>i*t)}const yT=(e,t,i)=>(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e,j$=1e-7,D$=12;function E$(e,t,i,a,r){let c,o,f=0;do o=t+(i-t)/2,c=yT(o,a,r)-e,c>0?i=o:t=o;while(Math.abs(c)>j$&&++f<D$);return o}function Xl(e,t,i,a){if(e===t&&i===a)return Cn;const r=c=>E$(c,0,1,e,i);return c=>c===0||c===1?c:yT(r(c),t,a)}const k$=Xl(.42,0,1,1),C$=Xl(0,0,.58,1),_T=Xl(.42,0,.58,1),O$=e=>Array.isArray(e)&&typeof e[0]!="number",vT=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,bT=e=>t=>1-e(1-t),xT=Xl(.33,1.53,.69,.99),Sp=bT(xT),ST=vT(Sp),TT=e=>(e*=2)<1?.5*Sp(e):.5*(2-Math.pow(2,-10*(e-1))),Tp=e=>1-Math.sin(Math.acos(e)),MT=bT(Tp),AT=vT(Tp),wT=e=>Array.isArray(e)&&typeof e[0]=="number",N$={linear:Cn,easeIn:k$,easeInOut:_T,easeOut:C$,circIn:Tp,circInOut:AT,circOut:MT,backIn:Sp,backInOut:ST,backOut:xT,anticipate:TT},R$=e=>typeof e=="string",j1=e=>{if(wT(e)){sp(e.length===4);const[t,i,a,r]=e;return Xl(t,i,a,r)}else if(R$(e))return N$[e];return e};function L$(e,t){return e.map(()=>t||_T).splice(0,e.length-1)}function gl({duration:e=300,keyframes:t,times:i,ease:a="easeInOut"}){const r=O$(a)?a.map(j1):j1(a),c={done:!1,value:t[0]},o=w$(i&&i.length===t.length?i:A$(t),e),f=T$(o,t,{ease:Array.isArray(r)?r:L$(t,r)});return{calculatedDuration:e,next:d=>(c.value=f(d),c.done=d>=e,c)}}const V$=e=>e!==null;function Mp(e,{repeat:t,repeatType:i="loop"},a,r=1){const c=e.filter(V$),f=r<0||t&&i!=="loop"&&t%2===1?0:c.length-1;return!f||a===void 0?c[f]:a}const $$={decay:Gh,inertia:Gh,tween:gl,keyframes:gl,spring:Qc};function jT(e){typeof e.type=="string"&&(e.type=$$[e.type])}class Ap{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const P$=e=>e/100;class wp extends Ap{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var a,r;const{motionValue:i}=this.options;i&&i.updatedAt!==Kt.now()&&this.tick(Kt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(a=this.options).onStop)==null||r.call(a))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;jT(t);const{type:i=gl,repeat:a=0,repeatDelay:r=0,repeatType:c,velocity:o=0}=t;let{keyframes:f}=t;const d=i||gl;d!==gl&&typeof f[0]!="number"&&(this.mixKeyframes=Yl(P$,mT(f[0],f[1])),f=[0,100]);const m=d({...t,keyframes:f});c==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...f].reverse(),velocity:-o})),m.calculatedDuration===null&&(m.calculatedDuration=xp(m));const{calculatedDuration:p}=m;this.calculatedDuration=p,this.resolvedDuration=p+r,this.totalDuration=this.resolvedDuration*(a+1)-r,this.generator=m}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:a,totalDuration:r,mixKeyframes:c,mirroredGenerator:o,resolvedDuration:f,calculatedDuration:d}=this;if(this.startTime===null)return a.next(0);const{delay:m=0,keyframes:p,repeat:y,repeatType:_,repeatDelay:v,type:M,onUpdate:w,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const A=this.currentTime-m*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?A<0:A>r;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let N=this.currentTime,W=a;if(y){const B=Math.min(this.currentTime,r)/f;let J=Math.floor(B),te=B%1;!te&&B>=1&&(te=1),te===1&&J--,J=Math.min(J,y+1),!!(J%2)&&(_==="reverse"?(te=1-te,v&&(te-=v/f)):_==="mirror"&&(W=o)),N=Mi(0,1,te)*f}const C=R?{done:!1,value:p[0]}:W.next(N);c&&(C.value=c(C.value));let{done:F}=C;!R&&d!==null&&(F=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return U&&M!==Gh&&(C.value=Mp(p,this.options,T,this.speed)),w&&w(C.value),U&&this.finish(),C}then(t,i){return this.finished.then(t,i)}get duration(){return ei(this.calculatedDuration)}get time(){return ei(this.currentTime)}set time(t){var i;t=Jn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(i=this.driver)==null||i.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Kt.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=ei(this.currentTime))}play(){var r,c;if(this.isStopped)return;const{driver:t=h$,startTime:i}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(c=(r=this.options).onPlay)==null||c.call(r);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=i??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Kt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,i;this.notifyFinished(),this.teardown(),this.state="finished",(i=(t=this.options).onComplete)==null||i.call(t)}cancel(){var t,i;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(i=(t=this.options).onCancel)==null||i.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var i;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(i=this.driver)==null||i.stop(),t.observe(this)}}function z$(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ra=e=>e*180/Math.PI,Zh=e=>{const t=Ra(Math.atan2(e[1],e[0]));return Fh(t)},B$={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Zh,rotateZ:Zh,skewX:e=>Ra(Math.atan(e[1])),skewY:e=>Ra(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Fh=e=>(e=e%360,e<0&&(e+=360),e),D1=Zh,E1=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),k1=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),U$={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:E1,scaleY:k1,scale:e=>(E1(e)+k1(e))/2,rotateX:e=>Fh(Ra(Math.atan2(e[6],e[5]))),rotateY:e=>Fh(Ra(Math.atan2(-e[2],e[0]))),rotateZ:D1,rotate:D1,skewX:e=>Ra(Math.atan(e[4])),skewY:e=>Ra(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Yh(e){return e.includes("scale")?1:0}function Xh(e,t){if(!e||e==="none")return Yh(t);const i=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,r;if(i)a=U$,r=i;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=B$,r=f}if(!r)return Yh(t);const c=a[t],o=r[1].split(",").map(H$);return typeof c=="function"?c(o):o[c]}const q$=(e,t)=>{const{transform:i="none"}=getComputedStyle(e);return Xh(i,t)};function H$(e){return parseFloat(e.trim())}const C1=e=>e===tr||e===ye,G$=new Set(["x","y","z"]),Z$=Js.filter(e=>!G$.has(e));function F$(e){const t=[];return Z$.forEach(i=>{const a=e.getValue(i);a!==void 0&&(t.push([i,a.get()]),a.set(i.startsWith("scale")?1:0))}),t}const Pa={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Xh(t,"x"),y:(e,{transform:t})=>Xh(t,"y")};Pa.translateX=Pa.x;Pa.translateY=Pa.y;const za=new Set;let Ih=!1,Kh=!1,Qh=!1;function DT(){if(Kh){const e=Array.from(za).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),i=new Map;t.forEach(a=>{const r=F$(a);r.length&&(i.set(a,r),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const r=i.get(a);r&&r.forEach(([c,o])=>{var f;(f=a.getValue(c))==null||f.set(o)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}Kh=!1,Ih=!1,za.forEach(e=>e.complete(Qh)),za.clear()}function ET(){za.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Kh=!0)})}function Y$(){Qh=!0,ET(),DT(),Qh=!1}class jp{constructor(t,i,a,r,c,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=a,this.motionValue=r,this.element=c,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(za.add(this),Ih||(Ih=!0,at.read(ET),at.resolveKeyframes(DT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:a,motionValue:r}=this;if(t[0]===null){const c=r==null?void 0:r.get(),o=t[t.length-1];if(c!==void 0)t[0]=c;else if(a&&i){const f=a.readValue(i,o);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=o),r&&c===void 0&&r.set(t[0])}z$(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),za.delete(this)}cancel(){this.state==="scheduled"&&(za.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const X$=e=>e.startsWith("--");function I$(e,t,i){X$(t)?e.style.setProperty(t,i):e.style[t]=i}function Dp(e){let t;return()=>(t===void 0&&(t=e()),t)}const K$=Dp(()=>window.ScrollTimeline!==void 0),Q$={};function W$(e,t){const i=Dp(e);return()=>Q$[t]??i()}const kT=W$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ol=([e,t,i,a])=>`cubic-bezier(${e}, ${t}, ${i}, ${a})`,O1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ol([0,.65,.55,1]),circOut:ol([.55,0,1,.45]),backIn:ol([.31,.01,.66,-.59]),backOut:ol([.33,1.53,.69,.99])};function CT(e,t){if(e)return typeof e=="function"?kT()?pT(e,t):"ease-out":wT(e)?ol(e):Array.isArray(e)?e.map(i=>CT(i,t)||O1.easeOut):O1[e]}function J$(e,t,i,{delay:a=0,duration:r=300,repeat:c=0,repeatType:o="loop",ease:f="easeOut",times:d}={},m=void 0){const p={[t]:i};d&&(p.offset=d);const y=CT(f,r);Array.isArray(y)&&(p.easing=y);const _={delay:a,duration:r,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:c+1,direction:o==="reverse"?"alternate":"normal"};return m&&(_.pseudoElement=m),e.animate(p,_)}function OT(e){return typeof e=="function"&&"applyToOptions"in e}function e5({type:e,...t}){return OT(e)&&kT()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class t5 extends Ap{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:i,name:a,keyframes:r,pseudoElement:c,allowFlatten:o=!1,finalKeyframe:f,onComplete:d}=t;this.isPseudoElement=!!c,this.allowFlatten=o,this.options=t,sp(typeof t.type!="string");const m=e5(t);this.animation=J$(i,a,r,m,c),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const p=Mp(r,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(p):I$(i,a,p),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,i;(i=(t=this.animation).finish)==null||i.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,i;this.isPseudoElement||(i=(t=this.animation).commitStyles)==null||i.call(t)}get duration(){var i,a;const t=((a=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:a.call(i).duration)||0;return ei(Number(t))}get time(){return ei(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Jn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&K$()?(this.animation.timeline=t,Cn):i(this)}}const NT={anticipate:TT,backInOut:ST,circInOut:AT};function n5(e){return e in NT}function i5(e){typeof e.ease=="string"&&n5(e.ease)&&(e.ease=NT[e.ease])}const N1=10;class a5 extends t5{constructor(t){i5(t),jT(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:a,onComplete:r,element:c,...o}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const f=new wp({...o,autoplay:!1}),d=Jn(this.finishedTime??this.time);i.setWithVelocity(f.sample(d-N1).value,f.sample(d).value,N1),f.stop()}}const R1=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ia.test(e)||e==="0")&&!e.startsWith("url("));function s5(e){const t=e[0];if(e.length===1)return!0;for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}function r5(e,t,i,a){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const c=e[e.length-1],o=R1(r,t),f=R1(c,t);return!o||!f?!1:s5(e)||(i==="spring"||OT(i))&&a}const l5=new Set(["opacity","clipPath","filter","transform"]),o5=Dp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function c5(e){var m;const{motionValue:t,name:i,repeatDelay:a,repeatType:r,damping:c,type:o}=e;if(!HS((m=t==null?void 0:t.owner)==null?void 0:m.current))return!1;const{onUpdate:f,transformTemplate:d}=t.owner.getProps();return o5()&&i&&l5.has(i)&&(i!=="transform"||!d)&&!f&&!a&&r!=="mirror"&&c!==0&&o!=="inertia"}const u5=40;class f5 extends Ap{constructor({autoplay:t=!0,delay:i=0,type:a="keyframes",repeat:r=0,repeatDelay:c=0,repeatType:o="loop",keyframes:f,name:d,motionValue:m,element:p,...y}){var M;super(),this.stop=()=>{var w,T;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=Kt.now();const _={autoplay:t,delay:i,type:a,repeat:r,repeatDelay:c,repeatType:o,name:d,motionValue:m,element:p,...y},v=(p==null?void 0:p.KeyframeResolver)||jp;this.keyframeResolver=new v(f,(w,T,A)=>this.onKeyframesResolved(w,T,_,!A),d,m,p),(M=this.keyframeResolver)==null||M.scheduleResolve()}onKeyframesResolved(t,i,a,r){this.keyframeResolver=void 0;const{name:c,type:o,velocity:f,delay:d,isHandoff:m,onUpdate:p}=a;this.resolvedAt=Kt.now(),r5(t,c,o,f)||((Ti.instantAnimations||!d)&&(p==null||p(Mp(t,a,i))),t[0]=t[t.length-1],a.duration=0,a.repeat=0);const _={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>u5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...a,keyframes:t},v=!m&&c5(_)?new a5({..._,element:_.motionValue.owner.current}):new wp(_);v.finished.then(()=>this.notifyFinished()).catch(Cn),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Y$()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Ep=(e,t,i,a={},r,c)=>o=>{const f=yp(a,e)||{},d=f.delay||a.delay||0;let{elapsed:m=0}=a;m=m-Jn(d);const p={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-m,onUpdate:_=>{t.set(_),f.onUpdate&&f.onUpdate(_)},onComplete:()=>{o(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:c?void 0:r};F4(f)||Object.assign(p,Z4(e,p)),p.duration&&(p.duration=Jn(p.duration)),p.repeatDelay&&(p.repeatDelay=Jn(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let y=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(y=!0)),(Ti.instantAnimations||Ti.skipAnimations)&&(y=!0,p.duration=0,p.delay=0),p.allowFlatten=!f.type&&!f.ease,y&&!c&&t.get()!==void 0){const _=B4(p.keyframes,f);if(_!==void 0){at.update(()=>{p.onUpdate(_),p.onComplete()});return}}return f.isSync?new wp(p):new f5(p)},RT=new Set(["width","height","top","left","right","bottom",...Js]);function d5({protectedKeys:e,needsAnimating:t},i){const a=e.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,a}function LT(e,t,{delay:i=0,transitionOverride:a,type:r}={}){let{transition:c=e.getDefaultTransition(),transitionEnd:o,...f}=t;a&&(c=a);const d=[],m=r&&e.animationState&&e.animationState.getState()[r];for(const p in f){const y=e.getValue(p,e.latestValues[p]??null),_=f[p];if(_===void 0||m&&d5(m,p))continue;const v={delay:i,...yp(c||{},p)},M=y.get();if(M!==void 0&&!y.isAnimating&&!Array.isArray(_)&&_===M&&!v.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const A=lT(e);if(A){const R=window.MotionHandoffAnimation(A,p,at);R!==null&&(v.startTime=R,w=!0)}}Bh(e,p),y.start(Ep(p,y,_,e.shouldReduceMotion&&RT.has(p)?{type:!1}:v,e,w));const T=y.animation;T&&d.push(T)}return o&&Promise.all(d).then(()=>{at.update(()=>{o&&$4(e,o)})}),d}function Wh(e,t,i={}){var d;const a=Ll(e,t,i.type==="exit"?(d=e.presenceContext)==null?void 0:d.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=a||{};i.transitionOverride&&(r=i.transitionOverride);const c=a?()=>Promise.all(LT(e,a,i)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=r;return h5(e,t,p+m,y,_,i)}:()=>Promise.resolve(),{when:f}=r;if(f){const[m,p]=f==="beforeChildren"?[c,o]:[o,c];return m().then(()=>p())}else return Promise.all([c(),o(i.delay)])}function h5(e,t,i=0,a=0,r=1,c){const o=[],f=(e.variantChildren.size-1)*a,d=r===1?(m=0)=>m*a:(m=0)=>f-m*a;return Array.from(e.variantChildren).sort(m5).forEach((m,p)=>{m.notify("AnimationStart",t),o.push(Wh(m,t,{...c,delay:i+d(p)}).then(()=>m.notify("AnimationComplete",t)))}),Promise.all(o)}function m5(e,t){return e.sortNodePosition(t)}function p5(e,t,i={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const r=t.map(c=>Wh(e,c,i));a=Promise.all(r)}else if(typeof t=="string")a=Wh(e,t,i);else{const r=typeof t=="function"?Ll(e,t,i.custom):t;a=Promise.all(LT(e,r,i))}return a.then(()=>{e.notify("AnimationComplete",t)})}function VT(e,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==e.length)return!1;for(let a=0;a<i;a++)if(t[a]!==e[a])return!1;return!0}const g5=np.length;function $T(e){if(!e)return;if(!e.isControllingVariants){const i=e.parent?$T(e.parent)||{}:{};return e.props.initial!==void 0&&(i.initial=e.props.initial),i}const t={};for(let i=0;i<g5;i++){const a=np[i],r=e.props[a];(Ol(r)||r===!1)&&(t[a]=r)}return t}const y5=[...tp].reverse(),_5=tp.length;function v5(e){return t=>Promise.all(t.map(({animation:i,options:a})=>p5(e,i,a)))}function b5(e){let t=v5(e),i=L1(),a=!0;const r=d=>(m,p)=>{var _;const y=Ll(e,p,d==="exit"?(_=e.presenceContext)==null?void 0:_.custom:void 0);if(y){const{transition:v,transitionEnd:M,...w}=y;m={...m,...w,...M}}return m};function c(d){t=d(e)}function o(d){const{props:m}=e,p=$T(e.parent)||{},y=[],_=new Set;let v={},M=1/0;for(let T=0;T<_5;T++){const A=y5[T],R=i[A],N=m[A]!==void 0?m[A]:p[A],W=Ol(N),C=A===d?R.isActive:null;C===!1&&(M=T);let F=N===p[A]&&N!==m[A]&&W;if(F&&a&&e.manuallyAnimateOnMount&&(F=!1),R.protectedKeys={...v},!R.isActive&&C===null||!N&&!R.prevProp||uu(N)||typeof N=="boolean")continue;const U=x5(R.prevProp,N);let B=U||A===d&&R.isActive&&!F&&W||T>M&&W,J=!1;const te=Array.isArray(N)?N:[N];let ie=te.reduce(r(A),{});C===!1&&(ie={});const{prevResolvedValues:ae={}}=R,ke={...ae,...ie},Ce=G=>{B=!0,_.has(G)&&(J=!0,_.delete(G)),R.needsAnimating[G]=!0;const ne=e.getValue(G);ne&&(ne.liveStyle=!1)};for(const G in ke){const ne=ie[G],ve=ae[G];if(v.hasOwnProperty(G))continue;let D=!1;zh(ne)&&zh(ve)?D=!VT(ne,ve):D=ne!==ve,D?ne!=null?Ce(G):_.add(G):ne!==void 0&&_.has(G)?Ce(G):R.protectedKeys[G]=!0}R.prevProp=N,R.prevResolvedValues=ie,R.isActive&&(v={...v,...ie}),a&&e.blockInitialAnimation&&(B=!1),B&&(!(F&&U)||J)&&y.push(...te.map(G=>({animation:G,options:{type:A}})))}if(_.size){const T={};if(typeof m.initial!="boolean"){const A=Ll(e,Array.isArray(m.initial)?m.initial[0]:m.initial);A&&A.transition&&(T.transition=A.transition)}_.forEach(A=>{const R=e.getBaseTarget(A),N=e.getValue(A);N&&(N.liveStyle=!0),T[A]=R??null}),y.push({animation:T})}let w=!!y.length;return a&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(w=!1),a=!1,w?t(y):Promise.resolve()}function f(d,m){var y;if(i[d].isActive===m)return Promise.resolve();(y=e.variantChildren)==null||y.forEach(_=>{var v;return(v=_.animationState)==null?void 0:v.setActive(d,m)}),i[d].isActive=m;const p=o(d);for(const _ in i)i[_].protectedKeys={};return p}return{animateChanges:o,setActive:f,setAnimateFunction:c,getState:()=>i,reset:()=>{i=L1(),a=!0}}}function x5(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!VT(t,e):!1}function ja(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function L1(){return{animate:ja(!0),whileInView:ja(),whileHover:ja(),whileTap:ja(),whileDrag:ja(),whileFocus:ja(),exit:ja()}}class ra{constructor(t){this.isMounted=!1,this.node=t}update(){}}class S5 extends ra{constructor(t){super(t),t.animationState||(t.animationState=b5(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();uu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let T5=0;class M5 extends ra{constructor(){super(...arguments),this.id=T5++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const r=this.node.animationState.setActive("exit",!t);i&&!t&&r.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const A5={animation:{Feature:S5},exit:{Feature:M5}};function Pl(e,t,i,a={passive:!0}){return e.addEventListener(t,i,a),()=>e.removeEventListener(t,i)}const kp=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Il(e){return{point:{x:e.pageX,y:e.pageY}}}const w5=e=>t=>kp(t)&&e(t,Il(t));function yl(e,t,i,a){return Pl(e,t,w5(i),a)}function PT({top:e,left:t,right:i,bottom:a}){return{x:{min:t,max:i},y:{min:e,max:a}}}function j5({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function D5(e,t){if(!t)return e;const i=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:a.y,right:a.x}}const zT=1e-4,E5=1-zT,k5=1+zT,BT=.01,C5=0-BT,O5=0+BT;function qt(e){return e.max-e.min}function N5(e,t,i){return Math.abs(e-t)<=i}function V1(e,t,i,a=.5){e.origin=a,e.originPoint=it(t.min,t.max,e.origin),e.scale=qt(i)/qt(t),e.translate=it(i.min,i.max,e.origin)-e.originPoint,(e.scale>=E5&&e.scale<=k5||isNaN(e.scale))&&(e.scale=1),(e.translate>=C5&&e.translate<=O5||isNaN(e.translate))&&(e.translate=0)}function _l(e,t,i,a){V1(e.x,t.x,i.x,a?a.originX:void 0),V1(e.y,t.y,i.y,a?a.originY:void 0)}function $1(e,t,i){e.min=i.min+t.min,e.max=e.min+qt(t)}function R5(e,t,i){$1(e.x,t.x,i.x),$1(e.y,t.y,i.y)}function P1(e,t,i){e.min=t.min-i.min,e.max=e.min+qt(t)}function vl(e,t,i){P1(e.x,t.x,i.x),P1(e.y,t.y,i.y)}const z1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Us=()=>({x:z1(),y:z1()}),B1=()=>({min:0,max:0}),dt=()=>({x:B1(),y:B1()});function An(e){return[e("x"),e("y")]}function th(e){return e===void 0||e===1}function Jh({scale:e,scaleX:t,scaleY:i}){return!th(e)||!th(t)||!th(i)}function ka(e){return Jh(e)||UT(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function UT(e){return U1(e.x)||U1(e.y)}function U1(e){return e&&e!=="0%"}function Wc(e,t,i){const a=e-i,r=t*a;return i+r}function q1(e,t,i,a,r){return r!==void 0&&(e=Wc(e,r,a)),Wc(e,i,a)+t}function em(e,t=0,i=1,a,r){e.min=q1(e.min,t,i,a,r),e.max=q1(e.max,t,i,a,r)}function qT(e,{x:t,y:i}){em(e.x,t.translate,t.scale,t.originPoint),em(e.y,i.translate,i.scale,i.originPoint)}const H1=.999999999999,G1=1.0000000000001;function L5(e,t,i,a=!1){const r=i.length;if(!r)return;t.x=t.y=1;let c,o;for(let f=0;f<r;f++){c=i[f],o=c.projectionDelta;const{visualElement:d}=c.options;d&&d.props.style&&d.props.style.display==="contents"||(a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Hs(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,qT(e,o)),a&&ka(c.latestValues)&&Hs(e,c.latestValues))}t.x<G1&&t.x>H1&&(t.x=1),t.y<G1&&t.y>H1&&(t.y=1)}function qs(e,t){e.min=e.min+t,e.max=e.max+t}function Z1(e,t,i,a,r=.5){const c=it(e.min,e.max,r);em(e,t,i,c,a)}function Hs(e,t){Z1(e.x,t.x,t.scaleX,t.scale,t.originX),Z1(e.y,t.y,t.scaleY,t.scale,t.originY)}function HT(e,t){return PT(D5(e.getBoundingClientRect(),t))}function V5(e,t,i){const a=HT(e,i),{scroll:r}=t;return r&&(qs(a.x,r.offset.x),qs(a.y,r.offset.y)),a}const GT=({current:e})=>e?e.ownerDocument.defaultView:null,F1=(e,t)=>Math.abs(e-t);function $5(e,t){const i=F1(e.x,t.x),a=F1(e.y,t.y);return Math.sqrt(i**2+a**2)}class ZT{constructor(t,i,{transformPagePoint:a,contextWindow:r,dragSnapToOrigin:c=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=ih(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,v=$5(y.offset,{x:0,y:0})>=3;if(!_&&!v)return;const{point:M}=y,{timestamp:w}=Et;this.history.push({...M,timestamp:w});const{onStart:T,onMove:A}=this.handlers;_||(T&&T(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,y)},this.handlePointerMove=(y,_)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=nh(_,this.transformPagePoint),at.update(this.updatePoint,!0)},this.handlePointerUp=(y,_)=>{this.end();const{onEnd:v,onSessionEnd:M,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=ih(y.type==="pointercancel"?this.lastMoveEventInfo:nh(_,this.transformPagePoint),this.history);this.startEvent&&v&&v(y,T),M&&M(y,T)},!kp(t))return;this.dragSnapToOrigin=c,this.handlers=i,this.transformPagePoint=a,this.contextWindow=r||window;const o=Il(t),f=nh(o,this.transformPagePoint),{point:d}=f,{timestamp:m}=Et;this.history=[{...d,timestamp:m}];const{onSessionStart:p}=i;p&&p(t,ih(f,this.history)),this.removeListeners=Yl(yl(this.contextWindow,"pointermove",this.handlePointerMove),yl(this.contextWindow,"pointerup",this.handlePointerUp),yl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),na(this.updatePoint)}}function nh(e,t){return t?{point:t(e.point)}:e}function Y1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ih({point:e},t){return{point:e,delta:Y1(e,FT(t)),offset:Y1(e,P5(t)),velocity:z5(t,.1)}}function P5(e){return e[0]}function FT(e){return e[e.length-1]}function z5(e,t){if(e.length<2)return{x:0,y:0};let i=e.length-1,a=null;const r=FT(e);for(;i>=0&&(a=e[i],!(r.timestamp-a.timestamp>Jn(t)));)i--;if(!a)return{x:0,y:0};const c=ei(r.timestamp-a.timestamp);if(c===0)return{x:0,y:0};const o={x:(r.x-a.x)/c,y:(r.y-a.y)/c};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function B5(e,{min:t,max:i},a){return t!==void 0&&e<t?e=a?it(t,e,a.min):Math.max(e,t):i!==void 0&&e>i&&(e=a?it(i,e,a.max):Math.min(e,i)),e}function X1(e,t,i){return{min:t!==void 0?e.min+t:void 0,max:i!==void 0?e.max+i-(e.max-e.min):void 0}}function U5(e,{top:t,left:i,bottom:a,right:r}){return{x:X1(e.x,i,r),y:X1(e.y,t,a)}}function I1(e,t){let i=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([i,a]=[a,i]),{min:i,max:a}}function q5(e,t){return{x:I1(e.x,t.x),y:I1(e.y,t.y)}}function H5(e,t){let i=.5;const a=qt(e),r=qt(t);return r>a?i=$l(t.min,t.max-a,e.min):a>r&&(i=$l(e.min,e.max-r,t.min)),Mi(0,1,i)}function G5(e,t){const i={};return t.min!==void 0&&(i.min=t.min-e.min),t.max!==void 0&&(i.max=t.max-e.min),i}const tm=.35;function Z5(e=tm){return e===!1?e=0:e===!0&&(e=tm),{x:K1(e,"left","right"),y:K1(e,"top","bottom")}}function K1(e,t,i){return{min:Q1(e,t),max:Q1(e,i)}}function Q1(e,t){return typeof e=="number"?e:e[t]||0}const $n={x:!1,y:!1};function YT(){return $n.x||$n.y}function F5(e){return e==="x"||e==="y"?$n[e]?null:($n[e]=!0,()=>{$n[e]=!1}):$n.x||$n.y?null:($n.x=$n.y=!0,()=>{$n.x=$n.y=!1})}const Y5=new WeakMap;class X5{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dt(),this.visualElement=t}start(t,{snapToCursor:i=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const r=p=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(Il(p).point)},c=(p,y)=>{const{drag:_,dragPropagation:v,onDragStart:M}=this.getProps();if(_&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=F5(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),An(T=>{let A=this.getAxisMotionValue(T).get()||0;if(Wn.test(A)){const{projection:R}=this.visualElement;if(R&&R.layout){const N=R.layout.layoutBox[T];N&&(A=qt(N)*(parseFloat(A)/100))}}this.originPoint[T]=A}),M&&at.postRender(()=>M(p,y)),Bh(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(p,y)=>{const{dragPropagation:_,dragDirectionLock:v,onDirectionLock:M,onDrag:w}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:T}=y;if(v&&this.currentDirection===null){this.currentDirection=I5(T),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",y.point,T),this.updateAxis("y",y.point,T),this.visualElement.render(),w&&w(p,y)},f=(p,y)=>this.stop(p,y),d=()=>An(p=>{var y;return this.getAnimationState(p)==="paused"&&((y=this.getAxisMotionValue(p).animation)==null?void 0:y.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new ZT(t,{onSessionStart:r,onStart:c,onMove:o,onSessionEnd:f,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:GT(this.visualElement)})}stop(t,i){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:r}=i;this.startAnimation(r);const{onDragEnd:c}=this.getProps();c&&at.postRender(()=>c(t,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,a){const{drag:r}=this.getProps();if(!a||!Mc(t,r,this.currentDirection))return;const c=this.getAxisMotionValue(t);let o=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(o=B5(o,this.constraints[t],this.elastic[t])),c.set(o)}resolveConstraints(){var c;const{dragConstraints:t,dragElastic:i}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(c=this.visualElement.projection)==null?void 0:c.layout,r=this.constraints;t&&zs(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=U5(a.layoutBox,t):this.constraints=!1,this.elastic=Z5(i),r!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&An(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=G5(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!zs(t))return!1;const a=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const c=V5(a,r.root,this.visualElement.getTransformPagePoint());let o=q5(r.layout.layoutBox,c);if(i){const f=i(j5(o));this.hasMutatedConstraints=!!f,f&&(o=PT(f))}return o}startAnimation(t){const{drag:i,dragMomentum:a,dragElastic:r,dragTransition:c,dragSnapToOrigin:o,onDragTransitionEnd:f}=this.getProps(),d=this.constraints||{},m=An(p=>{if(!Mc(p,i,this.currentDirection))return;let y=d&&d[p]||{};o&&(y={min:0,max:0});const _=r?200:1e6,v=r?40:1e7,M={type:"inertia",velocity:a?t[p]:0,bounceStiffness:_,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...c,...y};return this.startAxisValueAnimation(p,M)});return Promise.all(m).then(f)}startAxisValueAnimation(t,i){const a=this.getAxisMotionValue(t);return Bh(this.visualElement,t),a.start(Ep(t,a,0,i,this.visualElement,!1))}stopAnimation(){An(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){An(t=>{var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.pause()})}getAnimationState(t){var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),r=a[i];return r||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){An(i=>{const{drag:a}=this.getProps();if(!Mc(i,a,this.currentDirection))return;const{projection:r}=this.visualElement,c=this.getAxisMotionValue(i);if(r&&r.layout){const{min:o,max:f}=r.layout.layoutBox[i];c.set(t[i]-it(o,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:a}=this.visualElement;if(!zs(i)||!a||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};An(o=>{const f=this.getAxisMotionValue(o);if(f&&this.constraints!==!1){const d=f.get();r[o]=H5({min:d,max:d},this.constraints[o])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),An(o=>{if(!Mc(o,t,null))return;const f=this.getAxisMotionValue(o),{min:d,max:m}=this.constraints[o];f.set(it(d,m,r[o]))})}addListeners(){if(!this.visualElement.current)return;Y5.set(this.visualElement,this);const t=this.visualElement.current,i=yl(t,"pointerdown",d=>{const{drag:m,dragListener:p=!0}=this.getProps();m&&p&&this.start(d)}),a=()=>{const{dragConstraints:d}=this.getProps();zs(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,c=r.addEventListener("measure",a);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),at.read(a);const o=Pl(window,"resize",()=>this.scalePositionWithinConstraints()),f=r.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(An(p=>{const y=this.getAxisMotionValue(p);y&&(this.originPoint[p]+=d[p].translate,y.set(y.get()+d[p].translate))}),this.visualElement.render())});return()=>{o(),i(),c(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:a=!1,dragPropagation:r=!1,dragConstraints:c=!1,dragElastic:o=tm,dragMomentum:f=!0}=t;return{...t,drag:i,dragDirectionLock:a,dragPropagation:r,dragConstraints:c,dragElastic:o,dragMomentum:f}}}function Mc(e,t,i){return(t===!0||t===e)&&(i===null||i===e)}function I5(e,t=10){let i=null;return Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x"),i}class K5 extends ra{constructor(t){super(t),this.removeGroupControls=Cn,this.removeListeners=Cn,this.controls=new X5(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Cn}unmount(){this.removeGroupControls(),this.removeListeners()}}const W1=e=>(t,i)=>{e&&at.postRender(()=>e(t,i))};class Q5 extends ra{constructor(){super(...arguments),this.removePointerDownListener=Cn}onPointerDown(t){this.session=new ZT(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:GT(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:a,onPanEnd:r}=this.node.getProps();return{onSessionStart:W1(t),onStart:W1(i),onMove:a,onEnd:(c,o)=>{delete this.session,r&&at.postRender(()=>r(c,o))}}}mount(){this.removePointerDownListener=yl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Oc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function J1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const al={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ye.test(e))e=parseFloat(e);else return e;const i=J1(e,t.target.x),a=J1(e,t.target.y);return`${i}% ${a}%`}},W5={correct:(e,{treeScale:t,projectionDelta:i})=>{const a=e,r=ia.parse(e);if(r.length>5)return a;const c=ia.createTransformer(e),o=typeof r[0]!="number"?1:0,f=i.x.scale*t.x,d=i.y.scale*t.y;r[0+o]/=f,r[1+o]/=d;const m=it(f,d,.5);return typeof r[2+o]=="number"&&(r[2+o]/=m),typeof r[3+o]=="number"&&(r[3+o]/=m),c(r)}};class J5 extends L.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:a,layoutId:r}=this.props,{projection:c}=t;f4(e6),c&&(i.group&&i.group.add(c),a&&a.register&&r&&a.register(c),c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),Oc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:a,drag:r,isPresent:c}=this.props,{projection:o}=a;return o&&(o.isPresent=c,r||t.layoutDependency!==i||i===void 0||t.isPresent!==c?o.willUpdate():this.safeToRemove(),t.isPresent!==c&&(c?o.promote():o.relegate()||at.postRender(()=>{const f=o.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ap.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:a}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(r),a&&a.deregister&&a.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function XT(e){const[t,i]=GV(),a=L.useContext(BS);return x.jsx(J5,{...e,layoutGroup:a,switchLayoutGroup:L.useContext(IS),isPresent:t,safeToRemove:i})}const e6={borderRadius:{...al,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:al,borderTopRightRadius:al,borderBottomLeftRadius:al,borderBottomRightRadius:al,boxShadow:W5};function t6(e,t,i){const a=Vt(e)?e:Is(e);return a.start(Ep("",a,t,i)),a.animation}const n6=(e,t)=>e.depth-t.depth;class i6{constructor(){this.children=[],this.isDirty=!1}add(t){mp(this.children,t),this.isDirty=!0}remove(t){pp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(n6),this.isDirty=!1,this.children.forEach(t)}}function a6(e,t){const i=Kt.now(),a=({timestamp:r})=>{const c=r-i;c>=t&&(na(a),e(c-t))};return at.setup(a,!0),()=>na(a)}const IT=["TopLeft","TopRight","BottomLeft","BottomRight"],s6=IT.length,eb=e=>typeof e=="string"?parseFloat(e):e,tb=e=>typeof e=="number"||ye.test(e);function r6(e,t,i,a,r,c){r?(e.opacity=it(0,i.opacity??1,l6(a)),e.opacityExit=it(t.opacity??1,0,o6(a))):c&&(e.opacity=it(t.opacity??1,i.opacity??1,a));for(let o=0;o<s6;o++){const f=`border${IT[o]}Radius`;let d=nb(t,f),m=nb(i,f);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||tb(d)===tb(m)?(e[f]=Math.max(it(eb(d),eb(m),a),0),(Wn.test(m)||Wn.test(d))&&(e[f]+="%")):e[f]=m}(t.rotate||i.rotate)&&(e.rotate=it(t.rotate||0,i.rotate||0,a))}function nb(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const l6=KT(0,.5,MT),o6=KT(.5,.95,Cn);function KT(e,t,i){return a=>a<e?0:a>t?1:i($l(e,t,a))}function ib(e,t){e.min=t.min,e.max=t.max}function Tn(e,t){ib(e.x,t.x),ib(e.y,t.y)}function ab(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function sb(e,t,i,a,r){return e-=t,e=Wc(e,1/i,a),r!==void 0&&(e=Wc(e,1/r,a)),e}function c6(e,t=0,i=1,a=.5,r,c=e,o=e){if(Wn.test(t)&&(t=parseFloat(t),t=it(o.min,o.max,t/100)-o.min),typeof t!="number")return;let f=it(c.min,c.max,a);e===c&&(f-=t),e.min=sb(e.min,t,i,f,r),e.max=sb(e.max,t,i,f,r)}function rb(e,t,[i,a,r],c,o){c6(e,t[i],t[a],t[r],t.scale,c,o)}const u6=["x","scaleX","originX"],f6=["y","scaleY","originY"];function lb(e,t,i,a){rb(e.x,t,u6,i?i.x:void 0,a?a.x:void 0),rb(e.y,t,f6,i?i.y:void 0,a?a.y:void 0)}function ob(e){return e.translate===0&&e.scale===1}function QT(e){return ob(e.x)&&ob(e.y)}function cb(e,t){return e.min===t.min&&e.max===t.max}function d6(e,t){return cb(e.x,t.x)&&cb(e.y,t.y)}function ub(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function WT(e,t){return ub(e.x,t.x)&&ub(e.y,t.y)}function fb(e){return qt(e.x)/qt(e.y)}function db(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class h6{constructor(){this.members=[]}add(t){mp(this.members,t),t.scheduleRender()}remove(t){if(pp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(r=>t===r);if(i===0)return!1;let a;for(let r=i;r>=0;r--){const c=this.members[r];if(c.isPresent!==!1){a=c;break}}return a?(this.promote(a),!0):!1}promote(t,i){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,i&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:a}=t;i.onExitComplete&&i.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function m6(e,t,i){let a="";const r=e.x.translate/t.x,c=e.y.translate/t.y,o=(i==null?void 0:i.z)||0;if((r||c||o)&&(a=`translate3d(${r}px, ${c}px, ${o}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:m,rotate:p,rotateX:y,rotateY:_,skewX:v,skewY:M}=i;m&&(a=`perspective(${m}px) ${a}`),p&&(a+=`rotate(${p}deg) `),y&&(a+=`rotateX(${y}deg) `),_&&(a+=`rotateY(${_}deg) `),v&&(a+=`skewX(${v}deg) `),M&&(a+=`skewY(${M}deg) `)}const f=e.x.scale*t.x,d=e.y.scale*t.y;return(f!==1||d!==1)&&(a+=`scale(${f}, ${d})`),a||"none"}function JT(e){return qS(e)&&"ownerSVGElement"in e}function p6(e){return JT(e)&&e.tagName==="svg"}const ah=["","X","Y","Z"],g6={visibility:"hidden"},y6=1e3;let _6=0;function sh(e,t,i,a){const{latestValues:r}=t;r[e]&&(i[e]=r[e],t.setStaticValue(e,0),a&&(a[e]=0))}function eM(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const i=lT(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:r,layoutId:c}=e.options;window.MotionCancelOptimisedAnimation(i,"transform",at,!(r||c))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&eM(a)}function tM({attachResizeListener:e,defaultParent:t,measureScroll:i,checkIsScrollRoot:a,resetTransform:r}){return class{constructor(o={},f=t==null?void 0:t()){this.id=_6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(x6),this.nodes.forEach(w6),this.nodes.forEach(j6),this.nodes.forEach(S6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new i6)}addEventListener(o,f){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new gp),this.eventHandlers.get(o).add(f)}notifyListeners(o,...f){const d=this.eventHandlers.get(o);d&&d.notify(...f)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=JT(o)&&!p6(o),this.instance=o;const{layoutId:f,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||f)&&(this.isLayoutDirty=!0),e){let p;const y=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=a6(y,250),Oc.hasAnimatedSinceResize&&(Oc.hasAnimatedSinceResize=!1,this.nodes.forEach(mb))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&m&&(f||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:y,hasRelativeLayoutChanged:_,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||m.getDefaultTransition()||O6,{onLayoutAnimationStart:w,onLayoutAnimationComplete:T}=m.getProps(),A=!this.targetLayout||!WT(this.targetLayout,v),R=!y&&_;if(this.options.layoutRoot||this.resumeFrom||R||y&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...yp(M,"layout"),onPlay:w,onComplete:T};(m.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(p,R)}else y||mb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),na(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(D6),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&eM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const y=this.path[p];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:f,layout:d}=this.options;if(f===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hb);return}this.isUpdating||this.nodes.forEach(M6),this.isUpdating=!1,this.nodes.forEach(A6),this.nodes.forEach(v6),this.nodes.forEach(b6),this.clearAllSnapshots();const f=Kt.now();Et.delta=Mi(0,1e3/60,f-Et.timestamp),Et.timestamp=f,Et.isProcessing=!0,Qd.update.process(Et),Qd.preRender.process(Et),Qd.render.process(Et),Et.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ap.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(T6),this.sharedNodes.forEach(E6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,at.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){at.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!qt(this.snapshot.measuredBox.x)&&!qt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=dt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(f=!1),f&&this.instance){const d=a(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!QT(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;o&&this.instance&&(f||ka(this.latestValues)||p)&&(r(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const f=this.measurePageBox();let d=this.removeElementScroll(f);return o&&(d=this.removeTransform(d)),N6(d),{animationId:this.root.animationId,measuredBox:f,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:o}=this.options;if(!o)return dt();const f=o.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(R6))){const{scroll:p}=this.root;p&&(qs(f.x,p.offset.x),qs(f.y,p.offset.y))}return f}removeElementScroll(o){var d;const f=dt();if(Tn(f,o),(d=this.scroll)!=null&&d.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&Tn(f,o),qs(f.x,y.offset.x),qs(f.y,y.offset.y))}return f}applyTransform(o,f=!1){const d=dt();Tn(d,o);for(let m=0;m<this.path.length;m++){const p=this.path[m];!f&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Hs(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),ka(p.latestValues)&&Hs(d,p.latestValues)}return ka(this.latestValues)&&Hs(d,this.latestValues),d}removeTransform(o){const f=dt();Tn(f,o);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!ka(m.latestValues))continue;Jh(m.latestValues)&&m.updateSnapshot();const p=dt(),y=m.measurePageBox();Tn(p,y),lb(f,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return ka(this.latestValues)&&lb(f,this.latestValues),f}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Et.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var _;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==f;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:y}=this.options;if(!(!this.layout||!(p||y))){if(this.resolvedRelativeTargetAt=Et.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dt(),this.relativeTargetOrigin=dt(),vl(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=dt(),this.targetWithTransforms=dt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),R5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Tn(this.target,this.layout.layoutBox),qT(this.target,this.targetDelta)):Tn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dt(),this.relativeTargetOrigin=dt(),vl(this.relativeTargetOrigin,this.target,v.target),Tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Jh(this.parent.latestValues)||UT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var M;const o=this.getLead(),f=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||(M=this.parent)!=null&&M.isProjectionDirty)&&(d=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Et.timestamp&&(d=!1),d)return;const{layout:m,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||p))return;Tn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,_=this.treeScale.y;L5(this.layoutCorrected,this.treeScale,this.path,f),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=dt());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ab(this.prevProjectionDelta.x,this.projectionDelta.x),ab(this.prevProjectionDelta.y,this.projectionDelta.y)),_l(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==_||!db(this.projectionDelta.x,this.prevProjectionDelta.x)||!db(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),o){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Us(),this.projectionDelta=Us(),this.projectionDeltaWithTransform=Us()}setAnimationOrigin(o,f=!1){const d=this.snapshot,m=d?d.latestValues:{},p={...this.latestValues},y=Us();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const _=dt(),v=d?d.source:void 0,M=this.layout?this.layout.source:void 0,w=v!==M,T=this.getStack(),A=!T||T.members.length<=1,R=!!(w&&!A&&this.options.crossfade===!0&&!this.path.some(C6));this.animationProgress=0;let N;this.mixTargetDelta=W=>{const C=W/1e3;pb(y.x,o.x,C),pb(y.y,o.y,C),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vl(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),k6(this.relativeTarget,this.relativeTargetOrigin,_,C),N&&d6(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=dt()),Tn(N,this.relativeTarget)),w&&(this.animationValues=p,r6(p,m,this.latestValues,C,R,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var f,d,m;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(m=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||m.stop(),this.pendingAnimation&&(na(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=at.update(()=>{Oc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Is(0)),this.currentAnimation=t6(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),o.onUpdate&&o.onUpdate(p)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(y6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:f,target:d,layout:m,latestValues:p}=o;if(!(!f||!d||!m)){if(this!==o&&this.layout&&m&&nM(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||dt();const y=qt(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+y;const _=qt(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+_}Tn(f,d),Hs(f,p),_l(this.projectionDeltaWithTransform,this.layoutCorrected,f,p)}}registerSharedNode(o,f){this.sharedNodes.has(o)||this.sharedNodes.set(o,new h6),this.sharedNodes.get(o).add(f);const m=f.options.initialPromotionConfig;f.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(f):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var f;const{layoutId:o}=this.options;return o?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:o}=this.options;return o?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:f,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let f=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(f=!0),!f)return;const m={};d.z&&sh("z",o,m,this.animationValues);for(let p=0;p<ah.length;p++)sh(`rotate${ah[p]}`,o,m,this.animationValues),sh(`skew${ah[p]}`,o,m,this.animationValues);o.render();for(const p in m)o.setStaticValue(p,m[p]),this.animationValues&&(this.animationValues[p]=m[p]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return g6;const f={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=kc(o==null?void 0:o.pointerEvents)||"",f.transform=d?d(this.latestValues,""):"none",f;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=kc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ka(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const p=m.animationValues||m.latestValues;this.applyTransformsToTarget(),f.transform=m6(this.projectionDeltaWithTransform,this.treeScale,p),d&&(f.transform=d(p,f.transform));const{x:y,y:_}=this.projectionDelta;f.transformOrigin=`${y.origin*100}% ${_.origin*100}% 0`,m.animationValues?f.opacity=m===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:f.opacity=m===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in Nl){if(p[v]===void 0)continue;const{correct:M,applyTo:w,isCSSVariable:T}=Nl[v],A=f.transform==="none"?p[v]:M(p[v],m);if(w){const R=w.length;for(let N=0;N<R;N++)f[w[N]]=A}else T?this.options.visualElement.renderState.vars[v]=A:f[v]=A}return this.options.layoutId&&(f.pointerEvents=m===this?kc(o==null?void 0:o.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var f;return(f=o.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(hb),this.root.sharedNodes.clear()}}}function v6(e){e.updateLayout()}function b6(e){var i;const t=((i=e.resumeFrom)==null?void 0:i.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:r}=e.layout,{animationType:c}=e.options,o=t.source!==e.layout.source;c==="size"?An(y=>{const _=o?t.measuredBox[y]:t.layoutBox[y],v=qt(_);_.min=a[y].min,_.max=_.min+v}):nM(c,t.layoutBox,a)&&An(y=>{const _=o?t.measuredBox[y]:t.layoutBox[y],v=qt(a[y]);_.max=_.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+v)});const f=Us();_l(f,a,t.layoutBox);const d=Us();o?_l(d,e.applyTransform(r,!0),t.measuredBox):_l(d,a,t.layoutBox);const m=!QT(f);let p=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:v}=y;if(_&&v){const M=dt();vl(M,t.layoutBox,_.layoutBox);const w=dt();vl(w,a,v.layoutBox),WT(M,w)||(p=!0),y.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=M,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:t,delta:d,layoutDelta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function x6(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function S6(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function T6(e){e.clearSnapshot()}function hb(e){e.clearMeasurements()}function M6(e){e.isLayoutDirty=!1}function A6(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function mb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function w6(e){e.resolveTargetDelta()}function j6(e){e.calcProjection()}function D6(e){e.resetSkewAndRotation()}function E6(e){e.removeLeadSnapshot()}function pb(e,t,i){e.translate=it(t.translate,0,i),e.scale=it(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function gb(e,t,i,a){e.min=it(t.min,i.min,a),e.max=it(t.max,i.max,a)}function k6(e,t,i,a){gb(e.x,t.x,i.x,a),gb(e.y,t.y,i.y,a)}function C6(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const O6={duration:.45,ease:[.4,0,.1,1]},yb=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),_b=yb("applewebkit/")&&!yb("chrome/")?Math.round:Cn;function vb(e){e.min=_b(e.min),e.max=_b(e.max)}function N6(e){vb(e.x),vb(e.y)}function nM(e,t,i){return e==="position"||e==="preserve-aspect"&&!N5(fb(t),fb(i),.2)}function R6(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const L6=tM({attachResizeListener:(e,t)=>Pl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rh={current:void 0},iM=tM({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rh.current){const e=new L6({});e.mount(window),e.setOptions({layoutScroll:!0}),rh.current=e}return rh.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),V6={pan:{Feature:Q5},drag:{Feature:K5,ProjectionNode:iM,MeasureLayout:XT}};function $6(e,t,i){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;const r=(i==null?void 0:i[e])??a.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}function aM(e,t){const i=$6(e),a=new AbortController,r={passive:!0,...t,signal:a.signal};return[i,r,()=>a.abort()]}function bb(e){return!(e.pointerType==="touch"||YT())}function P6(e,t,i={}){const[a,r,c]=aM(e,i),o=f=>{if(!bb(f))return;const{target:d}=f,m=t(d,f);if(typeof m!="function"||!d)return;const p=y=>{bb(y)&&(m(y),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,r)};return a.forEach(f=>{f.addEventListener("pointerenter",o,r)}),c}function xb(e,t,i){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",i==="Start");const r="onHover"+i,c=a[r];c&&at.postRender(()=>c(t,Il(t)))}class z6 extends ra{mount(){const{current:t}=this.node;t&&(this.unmount=P6(t,(i,a)=>(xb(this.node,a,"Start"),r=>xb(this.node,r,"End"))))}unmount(){}}class B6 extends ra{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yl(Pl(this.node.current,"focus",()=>this.onFocus()),Pl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const sM=(e,t)=>t?e===t?!0:sM(e,t.parentElement):!1,U6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function q6(e){return U6.has(e.tagName)||e.tabIndex!==-1}const Nc=new WeakSet;function Sb(e){return t=>{t.key==="Enter"&&e(t)}}function lh(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const H6=(e,t)=>{const i=e.currentTarget;if(!i)return;const a=Sb(()=>{if(Nc.has(i))return;lh(i,"down");const r=Sb(()=>{lh(i,"up")}),c=()=>lh(i,"cancel");i.addEventListener("keyup",r,t),i.addEventListener("blur",c,t)});i.addEventListener("keydown",a,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",a),t)};function Tb(e){return kp(e)&&!YT()}function G6(e,t,i={}){const[a,r,c]=aM(e,i),o=f=>{const d=f.currentTarget;if(!Tb(f))return;Nc.add(d);const m=t(d,f),p=(v,M)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",_),Nc.has(d)&&Nc.delete(d),Tb(v)&&typeof m=="function"&&m(v,{success:M})},y=v=>{p(v,d===window||d===document||i.useGlobalTarget||sM(d,v.target))},_=v=>{p(v,!1)};window.addEventListener("pointerup",y,r),window.addEventListener("pointercancel",_,r)};return a.forEach(f=>{(i.useGlobalTarget?window:f).addEventListener("pointerdown",o,r),HS(f)&&(f.addEventListener("focus",m=>H6(m,r)),!q6(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),c}function Mb(e,t,i){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",i==="Start");const r="onTap"+(i==="End"?"":i),c=a[r];c&&at.postRender(()=>c(t,Il(t)))}class Z6 extends ra{mount(){const{current:t}=this.node;t&&(this.unmount=G6(t,(i,a)=>(Mb(this.node,a,"Start"),(r,{success:c})=>Mb(this.node,r,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const nm=new WeakMap,oh=new WeakMap,F6=e=>{const t=nm.get(e.target);t&&t(e)},Y6=e=>{e.forEach(F6)};function X6({root:e,...t}){const i=e||document;oh.has(i)||oh.set(i,{});const a=oh.get(i),r=JSON.stringify(t);return a[r]||(a[r]=new IntersectionObserver(Y6,{root:e,...t})),a[r]}function I6(e,t,i){const a=X6(t);return nm.set(e,i),a.observe(e),()=>{nm.delete(e),a.unobserve(e)}}const K6={some:0,all:1};class Q6 extends ra{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:a,amount:r="some",once:c}=t,o={root:i?i.current:void 0,rootMargin:a,threshold:typeof r=="number"?r:K6[r]},f=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,c&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:y}=this.node.getProps(),_=m?p:y;_&&_(d)};return I6(this.node.current,o,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(W6(t,i))&&this.startObserver()}unmount(){}}function W6({viewport:e={}},{viewport:t={}}={}){return i=>e[i]!==t[i]}const J6={inView:{Feature:Q6},tap:{Feature:Z6},focus:{Feature:B6},hover:{Feature:z6}},eP={layout:{ProjectionNode:iM,MeasureLayout:XT}},im={current:null},rM={current:!1};function tP(){if(rM.current=!0,!!Jm)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>im.current=e.matches;e.addListener(t),t()}else im.current=!1}const nP=new WeakMap;function iP(e,t,i){for(const a in t){const r=t[a],c=i[a];if(Vt(r))e.addValue(a,r);else if(Vt(c))e.addValue(a,Is(r,{owner:e}));else if(c!==r)if(e.hasValue(a)){const o=e.getValue(a);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=e.getStaticValue(a);e.addValue(a,Is(o!==void 0?o:r,{owner:e}))}}for(const a in i)t[a]===void 0&&e.removeValue(a);return t}const lM=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),oM=e=>/^0[^.\s]+$/u.test(e),aP={test:e=>e==="auto",parse:e=>e},cM=e=>t=>t.test(e),uM=[tr,ye,Wn,Qi,h4,d4,aP],Ab=e=>uM.find(cM(e)),sP=[...uM,Lt,ia],rP=e=>sP.find(cM(e)),lP=new Set(["brightness","contrast","saturate","opacity"]);function oP(e){const[t,i]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=i.match(_p)||[];if(!a)return e;const r=i.replace(a,"");let c=lP.has(t)?1:0;return a!==i&&(c*=100),t+"("+c+r+")"}const cP=/\b([a-z-]*)\(.*?\)/gu,am={...ia,getAnimatableNone:e=>{const t=e.match(cP);return t?t.map(oP).join(" "):e}},uP={...op,color:Lt,backgroundColor:Lt,outlineColor:Lt,fill:Lt,stroke:Lt,borderColor:Lt,borderTopColor:Lt,borderRightColor:Lt,borderBottomColor:Lt,borderLeftColor:Lt,filter:am,WebkitFilter:am},fM=e=>uP[e];function dM(e,t){let i=fM(e);return i!==am&&(i=ia),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const wb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fP{scrapeMotionValuesFromProps(t,i,a){return{}}constructor({parent:t,props:i,presenceContext:a,reducedMotionConfig:r,blockInitialAnimation:c,visualState:o},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Kt.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,at.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=i.initial?{...d}:{},this.renderState=m,this.parent=t,this.props=i,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=f,this.blockInitialAnimation=!!c,this.isControllingVariants=fu(i),this.isVariantNode=YS(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...y}=this.scrapeMotionValuesFromProps(i,{},this);for(const _ in y){const v=y[_];d[_]!==void 0&&Vt(v)&&v.set(d[_],!1)}}mount(t){this.current=t,nP.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,a)=>this.bindToMotionValue(a,i)),rM.current||tP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:im.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),na(this.notifyUpdate),na(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=er.has(t);a&&this.onBindTransform&&this.onBindTransform();const r=i.on("change",f=>{this.latestValues[t]=f,this.props.onUpdate&&at.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0)}),c=i.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{r(),c(),o&&o(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Xs){const i=Xs[t];if(!i)continue;const{isEnabled:a,Feature:r}=i;if(!this.features[t]&&r&&a(this.props)&&(this.features[t]=new r(this)),this.features[t]){const c=this.features[t];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let a=0;a<wb.length;a++){const r=wb[a];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const c="on"+r,o=t[c];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=iP(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const a=this.values.get(t);i!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&i!==void 0&&(a=Is(i===null?void 0:i,{owner:this}),this.addValue(t,a)),a}readValue(t,i){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(lM(a)||oM(a))?a=parseFloat(a):!rP(a)&&ia.test(i)&&(a=dM(t,i)),this.setBaseTarget(t,Vt(a)?a.get():a)),Vt(a)?a.get():a}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){var c;const{initial:i}=this.props;let a;if(typeof i=="string"||typeof i=="object"){const o=dp(this.props,i,(c=this.presenceContext)==null?void 0:c.custom);o&&(a=o[t])}if(i&&a!==void 0)return a;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!Vt(r)?r:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new gp),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}}const dP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hP(e){const t=dP.exec(e);if(!t)return[,];const[,i,a,r]=t;return[`--${i??a}`,r]}function hM(e,t,i=1){const[a,r]=hP(e);if(!a)return;const c=window.getComputedStyle(t).getPropertyValue(a);if(c){const o=c.trim();return lM(o)?parseFloat(o):o}return lp(r)?hM(r,t,i+1):r}function mP(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||oM(e):!0}const pP=new Set(["auto","none","0"]);function gP(e,t,i){let a=0,r;for(;a<e.length&&!r;){const c=e[a];typeof c=="string"&&!pP.has(c)&&Vl(c).values.length&&(r=e[a]),a++}if(r&&i)for(const c of t)e[c]=dM(i,r)}class yP extends jp{constructor(t,i,a,r,c){super(t,i,a,r,c,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:a}=this;if(!i||!i.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let m=t[d];if(typeof m=="string"&&(m=m.trim(),lp(m))){const p=hM(m,i.current);p!==void 0&&(t[d]=p),d===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!RT.has(a)||t.length!==2)return;const[r,c]=t,o=Ab(r),f=Ab(c);if(o!==f)if(C1(o)&&C1(f))for(let d=0;d<t.length;d++){const m=t[d];typeof m=="string"&&(t[d]=parseFloat(m))}else Pa[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,a=[];for(let r=0;r<t.length;r++)(t[r]===null||mP(t[r]))&&a.push(r);a.length&&gP(t,a,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pa[a](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const r=i[i.length-1];r!==void 0&&t.getValue(a,r).jump(r,!1)}measureEndState(){var f;const{element:t,name:i,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const r=t.getValue(i);r&&r.jump(this.measuredOrigin,!1);const c=a.length-1,o=a[c];a[c]=Pa[i](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([d,m])=>{t.getValue(d).set(m)}),this.resolveNoneKeyframes()}}class mM extends fP{constructor(){super(...arguments),this.KeyframeResolver=yP}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:a}){delete i[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Vt(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function pM(e,{style:t,vars:i},a,r){Object.assign(e.style,t,r&&r.getProjectionStyles(a));for(const c in i)e.style.setProperty(c,i[c])}function _P(e){return window.getComputedStyle(e)}class vP extends mM{constructor(){super(...arguments),this.type="html",this.renderInstance=pM}readValueFromInstance(t,i){var a;if(er.has(i))return(a=this.projection)!=null&&a.isProjecting?Yh(i):q$(t,i);{const r=_P(t),c=(rp(i)?r.getPropertyValue(i):r[i])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(t,{transformPagePoint:i}){return HT(t,i)}build(t,i,a){cp(t,i,a.transformTemplate)}scrapeMotionValuesFromProps(t,i,a){return hp(t,i,a)}}const gM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function bP(e,t,i,a){pM(e,t,void 0,a);for(const r in t.attrs)e.setAttribute(gM.has(r)?r:ip(r),t.attrs[r])}class xP extends mM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=dt}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(er.has(i)){const a=fM(i);return a&&a.default||0}return i=gM.has(i)?i:ip(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,a){return sT(t,i,a)}build(t,i,a){tT(t,i,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,i,a,r){bP(t,i,a,r)}mount(t){this.isSVGTag=iT(t.tagName),super.mount(t)}}const SP=(e,t)=>fp(e)?new xP(t):new vP(t,{allowProjection:e!==L.Fragment}),TP=C4({...A5,...J6,...V6,...eP},SP),jb=QV(TP),MP=({isVisible:e})=>{const{currentFrom:t,currentTo:i,throne:a,animationExodiaWin:r}=qn(),c=i.location==="Throne"?Pn(i,t):{};L.useEffect(()=>{e&&setTimeout(()=>r(),200)},[e,r]);const o=2.5;return x.jsx("div",{className:"absolute top-[390px] left-[-80px]",children:x.jsx(jb.div,{animate:{rotate:360,scale:1,opacity:1},initial:{opacity:0,scale:1},transition:{opacity:{delay:1,duration:1},scale:{delay:o,duration:1},rotate:{delay:o+2,duration:3,repeat:1/0,ease:"linear"}},style:{transformOrigin:"54% 12%"},children:x.jsx("div",{className:"relative w-screen h-screen",children:a.map((f,d)=>{const m=d*(2*Math.PI/5)+3*Math.PI/2,p=360,y=p*Math.cos(m),_=p*Math.sin(m);return x.jsx(jb.div,{className:"absolute",style:{left:"50%"},initial:c||{x:y,y:_},animate:{x:y,y:_},transition:{duration:1.8,ease:"easeOut"},children:x.jsx(ht,{card:f,size:"medium",disableActivate:!0})},(f==null?void 0:f.id)??d)})})})})},AP=({show:e,onComplete:t})=>{const[i,a]=L.useState(!1),[r,c]=L.useState(!1);L.useEffect(()=>{e&&(c(!0),a(!1))},[e]);const o=()=>{c(!1),a(!0)},f=()=>{a(!1),t==null||t()};return x.jsxs(x.Fragment,{children:[x.jsx(Wi,{children:(r||i)&&x.jsx(Be.div,{className:"fixed inset-0 bg-black/50 z-[99]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}})}),x.jsx(Wi,{children:r&&x.jsxs(Be.div,{className:"fixed inset-0 flex items-center justify-center z-[100] pointer-events-none overflow-hidden",children:[x.jsx(Be.div,{className:"text-white text-8xl font-bold tracking-wider",initial:{x:"-100%",opacity:0},animate:{x:["-100%","0%","0%","100%"],opacity:[0,1,1,0]},transition:{duration:1.5,times:[0,.2,.5,.8],ease:"easeInOut"},onAnimationComplete:o,style:{textShadow:"0 0 30px rgba(255, 255, 255, 0.9), 0 0 60px rgba(255, 255, 255, 0.6), 0 0 90px rgba(255, 255, 255, 0.3)",background:"linear-gradient(90deg, #4facfe 0%, #00f2fe 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"TURN END"}),x.jsx(Be.div,{className:"absolute inset-0 -z-10",initial:{x:"-100%"},animate:{x:"100%"},transition:{duration:1.5,ease:"linear"},children:x.jsx("div",{className:"w-full h-full bg-gradient-to-r from-transparent via-blue-500/20 to-transparent"})})]})}),x.jsx(Wi,{children:i&&x.jsxs(Be.div,{className:"fixed inset-0 flex items-center justify-center z-[100] pointer-events-none overflow-hidden",children:[x.jsx(Be.div,{className:"text-white text-7xl font-bold tracking-wider",initial:{x:"-100%",opacity:0},animate:{x:["-100%","0%","0%","100%"],opacity:[0,1,1,0]},transition:{duration:2,times:[0,.25,.5,.8],ease:"easeInOut"},onAnimationComplete:f,style:{textShadow:"0 0 30px rgba(255, 100, 100, 0.9), 0 0 60px rgba(255, 50, 50, 0.6), 0 0 90px rgba(255, 0, 0, 0.3)",background:"linear-gradient(90deg, #ff6b6b 0%, #ff4444 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"OPPONENT TURN"}),x.jsx(Be.div,{className:"absolute inset-0 -z-10",initial:{x:"-100%"},animate:{x:"100%"},transition:{duration:2,ease:"linear"},children:x.jsx("div",{className:"w-full h-full bg-gradient-to-r from-transparent via-red-500/20 to-transparent"})})]})})]})},Db={draw:"",standby:"",main1:"1",battle:"",main2:"2",end:""},wP={draw:"from-blue-500 to-blue-600",standby:"from-purple-500 to-purple-600",main1:"from-green-500 to-green-600",battle:"from-red-500 to-red-600",main2:"from-green-500 to-green-600",end:"from-gray-500 to-gray-600"},jP=({turn:e,phase:t,isOpponentTurn:i,onDebugClick:a})=>{const r=wP[t]||"from-gray-500 to-gray-600",c=Db[t]||t;return x.jsx(Be.div,{className:"z-30 pl-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:x.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg shadow-lg p-4 min-w-[250px] relative",children:[a&&x.jsx("button",{onClick:a,className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Debug State",children:x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"TURN"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"text-4xl font-bold text-gray-800",children:e}),i&&x.jsx("div",{className:"bg-red-500 text-white text-xs font-bold px-2 py-1 rounded",children:"OPPONENT"})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"PHASE"}),x.jsx(Be.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.2},className:`bg-gradient-to-r ${r} text-white rounded-md py-2 px-3 text-center font-bold shadow-md`,children:c},t)]}),x.jsx("div",{className:"mt-3 flex gap-1",children:Object.keys(Db).map(o=>x.jsx("div",{className:`h-1 flex-1 rounded-full transition-all duration-300 ${o===t?"bg-gradient-to-r "+r:"bg-gray-300"}`},o))})]})})},DP=({message:e,duration:t,isVisible:i,onComplete:a})=>{const[r,c]=L.useState(!1);return L.useEffect(()=>{if(i){c(!0);const o=setTimeout(()=>{c(!1),setTimeout(a,300)},t);return()=>clearTimeout(o)}},[i,t,a]),i?x.jsx("div",{className:`fixed top-4 left-1/2 transform -translate-x-1/2 z-50 px-6 py-3 bg-blue-600 text-white rounded-lg shadow-lg transition-all duration-300 ${r?"translate-y-0 opacity-100":"-translate-y-4 opacity-0"}`,children:x.jsx("div",{className:"flex items-center space-x-2",children:x.jsx("div",{className:"text-sm font-medium",children:e})})}):null},EP=({value:e,className:t})=>{const i=L.useRef(null),a=Gm(e),r=RC(a,{damping:30,stiffness:100});return L.useEffect(()=>{a.set(e)},[a,e]),L.useEffect(()=>{const c=r.on("change",o=>{i.current&&(i.current.textContent=Math.round(o).toString())});return i.current&&(i.current.textContent=e.toString()),c},[r,e]),x.jsx("span",{className:t,ref:i,style:{fontVariantNumeric:"tabular-nums"}})},Eb=({lifePoints:e,label:t,tooltipText:i,color:a})=>{const r=a==="blue"?"text-blue-600":"text-red-600";return x.jsx("div",{className:"space-y-2 flex flex-row justify-center relative",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-sm text-gray-600 mb-1",children:t}),x.jsx(Ec,{content:`${i}: ${e}`,position:"top",children:x.jsx(Be.div,{className:`text-5xl font-bold ${r} cursor-help transition-all duration-200`,transition:{duration:.3},children:x.jsx(EP,{value:e,className:`${r}`})})})]})})},kP=({isOpen:e,onClose:t,gameState:i})=>{var c;const a=(o,f=0)=>{const d="  ".repeat(f);if(o===null)return"null";if(o===void 0)return"undefined";if(typeof o=="function")return"[Function]";if(o instanceof Array)return o.length===0?"[]":f>2?`[Array(${o.length})]`:`[
${o.map(m=>`${d}  ${a(m,f+1)}`).join(`,
`)}
${d}]`;if(typeof o=="object"){if(o.card_name)return`Card: ${o.card_name}`;if(o.id&&o.card)return`CardInstance: ${o.card.card_name}`;const m=Object.keys(o);return m.length===0?"{}":f>2?"{...}":`{
${m.map(p=>`${d}  ${p}: ${a(o[p],f+1)}`).join(`,
`)}
${d}}`}return typeof o=="string"?`"${o}"`:String(o)},r={turn:i.turn,phase:i.phase,lifePoints:i.lifePoints,opponentLifePoints:i.opponentLifePoints,handCount:i.hand.length,deckCount:i.deck.length,graveyardCount:i.graveyard.length,extraDeckCount:i.extraDeck.length,monsterZones:i.field.monsterZones.map(o=>o?o.card.card_name:"empty"),spellTrapZones:i.field.spellTrapZones.map(o=>o?o.card.card_name:"empty"),fieldZone:((c=i.field.fieldZone)==null?void 0:c.card.card_name)||"empty",hasNormalSummoned:i.hasNormalSummoned,hasSpecialSummoned:i.hasSpecialSummoned,isOpponentTurn:i.isOpponentTurn,isProcessing:i.isProcessing,gameOver:i.gameOver,winner:i.winner,effectQueueLength:i.effectQueue.length,effectQueue:i.effectQueue.map(o=>({type:o.type,card:o.cardInstance.card.card_name,effectType:o.effectType})),cardChain:i.cardChain.map(o=>o.card.card_name),turnOnceUsedEffects:Object.keys(i.turnOnceUsedEffectMemo||{})};return x.jsx(Ga,{isOpen:e,children:x.jsxs("div",{className:"max-w-4xl",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h2",{className:"text-xl font-bold",children:"Debug State"}),x.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:""})]}),x.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:x.jsx("pre",{className:"bg-gray-100 p-4 rounded text-xs font-mono whitespace-pre-wrap",children:a(r,0)})}),x.jsx("div",{className:"mt-4 flex justify-end",children:x.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:""})})]})})},CP=()=>{const{hand:e,field:t,deck:i,graveyard:a,banished:r,extraDeck:c,lifePoints:o,opponentLifePoints:f,phase:d,turn:m,initializeGame:p,effectQueue:y,processQueueTop:_,popQueue:v,gameOver:M,winner:w,winReason:T,isOpponentTurn:A,opponentField:R,sendSpellToGraveyard:N,nextPhase:W,checkExodiaWin:C,endGame:F,judgeWin:U,selectedDeck:B,availableDecks:J,isDeckSelectionOpen:te,selectDeck:ie,setDeckSelectionOpen:ae,autoSummon:ke,setAutoSummon:Ce}=qn(),me=qn(),H=$c(um),[G,ne]=L.useState(!1),[ve,D]=L.useState(!1),[Q,se]=L.useState(!1),[ee,fe]=L.useState(!1),[Me,_e]=L.useState(null),[Pt,qe]=L.useState(!1),Ht=L.useCallback(()=>{B&&p(B)},[p,B]),Za=L.useCallback(()=>{ee||(fe(!0),Ht(),setTimeout(()=>{fe(!1)},2e3))},[Ht,ee]),Fa=L.useCallback(Ie=>{ie(Ie),p(Ie),Ya(!0)},[ie,p]),[Ai,Ya]=L.useState(!1);L.useEffect(()=>{B&&!te&&!Ai&&(Ht(),Ya(!0))},[B,te,Ht,Ai]),L.useEffect(()=>{Ai&&!M&&!ee&&U()},[o,f,Ai,M,ee,U]);const la=(Ie,Ze)=>{Ze==="link"&&me.startLinkSummon?me.startLinkSummon(Ie):Ze==="xyz"&&me.startXyzSummon?me.startXyzSummon(Ie):Ze==="synchro"&&me.startSynchroSummon&&me.startSynchroSummon(Ie)},du=Ie=>me.isLinkSummonProhibited||me.phase!=="main1"?!1:BC(Ie,me.field.extraMonsterZones,me.field.monsterZones),hu=Ie=>!Bt(Ie.card)||me.phase!=="main1"?!1:UC(Ie,me.field.extraMonsterZones,me.field.monsterZones),dn=Ie=>!Gs(Ie.card)||me.phase!=="main1"?!1:qC(Ie,me.field.extraMonsterZones,me.field.monsterZones);return L.useEffect(()=>{(async()=>{const Ze=y==null?void 0:y[0];(Ze==null?void 0:Ze.type)==="notify"?Ze.effectType==="judge"?U():Ze.effectType==="delay"&&(await new Promise(nr=>setTimeout(nr,Ze.delay??50)),_({type:"delay"})):(Ze==null?void 0:Ze.type)==="notification"?(_e({message:Ze.cardInstance.card.card_name+" : "+Ze.message,duration:Ze.duration??2e3}),setTimeout(()=>{_({type:"delay"})},100)):(Ze==null?void 0:Ze.type)==="life_change"?setTimeout(()=>{_({type:"delay"})},100):(Ze==null?void 0:Ze.type)==="chain_check"&&OS(me,Ze.chain??[]).length===0&&_({type:"chain_select"})})()},[y,v,me,N,_,U]),L.useEffect(()=>{C()},[C,e]),L.useEffect(()=>{d==="main1"&&m===2&&(C(),F())},[C,F,d,m]),x.jsx("div",{className:"min-h-screen min-w-[1920px] bg-gradient-to-br from-purple-200 via-pink-200 to-blue-200",children:x.jsxs("div",{children:[x.jsx("div",{className:"px-4 py-2 relative",children:x.jsxs("div",{children:[x.jsxs("div",{className:" flex justify-end",children:[x.jsx($V,{}),x.jsxs("div",{className:"relative",children:[x.jsx(LV,{extraMonsterZones:t.extraMonsterZones,opponentField:R,onShowBanished:()=>D(!0)}),x.jsx(NV,{field:t,deck:i,extraDeck:c,graveyard:a,setShowGraveyard:H,setShowExtraDeck:ne})]}),x.jsxs("div",{className:"w-72 flex flex-col itmes-center justify-between",children:[x.jsx(jP,{turn:m,phase:d,isOpponentTurn:A,onDebugClick:()=>qe(!0)}),x.jsx(Eb,{lifePoints:f,label:"OPPONENT LP",tooltipText:"",color:"red"}),x.jsx(VV,{isOpponentTurn:A,nextPhase:()=>{d==="main1"&&se(!0),W()},initializeGame:Ht,selectedDeck:B,onChangeDeck:()=>ae(!0)}),x.jsx(Eb,{lifePoints:o,label:"YOUR LP",tooltipText:"",color:"blue"}),x.jsx("div",{className:"mt-4 flex items-center justify-center gap-2",children:x.jsxs("label",{className:"flex items-center cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:ke,onChange:Ie=>Ce(Ie.target.checked),className:"mr-2"}),x.jsx("span",{className:"text-sm text-gray-700",children:""})]})})]})]}),x.jsx(CV,{hand:e})]})}),x.jsx(zV,{effectQueue:y,gameState:me,processQueueTop:_,popQueue:v}),x.jsx(PS,{graveyard:a,gameState:me}),x.jsx(zS,{isOpen:G,onClose:()=>ne(!1),extraDeck:c,canPerformLinkSummon:du,canPerformXyzSummon:hu,canPerformSynchroSummon:dn,startLinkSummon:Ie=>la(Ie,"link"),startXyzSummon:Ie=>la(Ie,"xyz"),startSynchroSummon:Ie=>la(Ie,"synchro")}),x.jsx($S,{isOpen:ve,onClose:()=>D(!1),cards:r,title:"",emptyMessage:"",accentColor:"indigo"}),x.jsx(Wi,{mode:"wait",children:M&&w==="player"&&!ee&&x.jsxs(Be.div,{className:"fixed inset-0 z-50",initial:{backgroundColor:"rgba(0, 0, 0, 0)"},animate:{backgroundColor:"rgba(0, 0, 0, 0.85)"},exit:{backgroundColor:"rgba(0, 0, 0, 0)"},transition:{duration:1.2,ease:"easeInOut"},children:[T==="exodia"&&x.jsx("div",{className:"absolute inset-0 z-10",children:x.jsx(MP,{isVisible:!0})}),x.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20",children:x.jsxs(Be.div,{className:"text-center",initial:{opacity:0,scale:.5,y:50},animate:{opacity:1,scale:1,y:0},transition:{delay:T==="exodia"?4:.5,duration:.8,ease:"easeOut",type:"spring",stiffness:100},children:[x.jsx(Be.h1,{className:"text-8xl font-bold text-yellow-400 mb-4",animate:{textShadow:["0 0 20px rgba(255, 255, 0, 0.8)","0 0 40px rgba(255, 255, 0, 1)","0 0 20px rgba(255, 255, 0, 0.8)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"YOU WIN"}),x.jsx(Be.p,{className:"text-2xl text-white mb-8",initial:{opacity:0},animate:{opacity:1},transition:{delay:T==="exodia"?4.6:1.1,duration:.6},children:T==="exodia"?"5":T==="horakty"?"":"0"}),x.jsx(Be.button,{className:`font-bold py-4 px-8 rounded-full text-xl shadow-lg transition-colors ${ee?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:T==="exodia"?5.2:1.7,duration:.6},whileHover:ee?{}:{scale:1.05},whileTap:ee?{}:{scale:.95},onClick:Za,disabled:ee,children:ee?"...":""})]})})]},`victory-${m}-${d}`)}),x.jsx(Wi,{mode:"wait",children:M&&w==="timeout"&&!ee&&x.jsx(Be.div,{className:"fixed inset-0 flex items-center justify-center z-50",initial:{backgroundColor:"rgba(0, 0, 0, 0)"},animate:{backgroundColor:"rgba(0, 0, 0, 0.85)"},exit:{backgroundColor:"rgba(0, 0, 0, 0)"},transition:{duration:1.2,ease:"easeInOut"},children:x.jsxs(Be.div,{className:"text-center",initial:{opacity:0,scale:.5,y:50},animate:{opacity:1,scale:1,y:0},transition:{delay:.8,duration:.8,ease:"easeOut",type:"spring",stiffness:100},children:[x.jsx(Be.h1,{className:"text-8xl font-bold text-red-400 mb-4",animate:{textShadow:["0 0 20px rgba(255, 100, 100, 0.8)","0 0 40px rgba(255, 50, 50, 1)","0 0 20px rgba(255, 100, 100, 0.8)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"YOU LOSE"}),x.jsx(Be.p,{className:"text-2xl text-white mb-8",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2,duration:.6},children:T==="deck_out"?"":""}),x.jsx(Be.button,{className:`font-bold py-4 px-8 rounded-full text-xl shadow-lg transition-colors ${ee?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.8,duration:.6},whileHover:ee?{}:{scale:1.05},whileTap:ee?{}:{scale:.95},onClick:Za,disabled:ee,children:ee?"...":""})]})},`defeat-${m}-${d}`)}),x.jsx(AP,{show:Q,onComplete:()=>se(!1)}),x.jsx(UV,{isOpen:te,availableDecks:J,onSelectDeck:Fa,onClose:()=>ae(!1)}),Me&&x.jsx(DP,{message:Me.message,duration:Me.duration,isVisible:!!Me,onComplete:()=>_e(null)}),x.jsx(kP,{isOpen:Pt,onClose:()=>qe(!1),gameState:me})]})})};function OP(){return x.jsx(CP,{})}Xw.createRoot(document.getElementById("root")).render(x.jsx(lj,{children:x.jsx(OP,{})}));
